{"version":3,"file":"static/js/762.daeda6d5.chunk.js","mappings":"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","sources":["views/Auth/SignIn.js"],"sourcesContent":["import React, { useEffect } from \"react\";\n// import FormRender from \"../../components/FormRender\";\nimport InputField from \"../../components/FormFields/InputField\";\nimport { useForm } from \"react-hook-form\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { loginUser } from \"../../redux/services/auth\";\nimport { Link, useNavigate } from \"react-router-dom\";\nimport logo from \"./../../assets/3.png\";\nimport Loader from \"../../components/Loader/Loader\";\nimport GoogleLoginButton from \"../../components/Auth/GoogleAuth\";\n\nconst SignIn = () => {\n  const dispatch = useDispatch();\n  const redirectTo = useNavigate();\n  const { isAuthenticated, isLoading, user } = useSelector(\n    (state) => state.auth\n  );\n  const handleSuccess = (response) => {\n    // Handle successful sign-in\n    dispatch(\n      loginUser(response.email, \"1234567890\", false, \"google\", response)\n    );\n  };\n\n  const handleFailure = (error) => {\n    // Handle sign-in failure\n    console.error(\"Login failed:\", error);\n  };\n  const {\n    handleSubmit,\n    // watch,\n    control,\n    // setValue,\n    formState: { errors },\n  } = useForm({});\n  useEffect(() => {\n    if (isAuthenticated && user?.verified === 1) {\n      redirectTo(\"/\");\n    }\n  }, [isAuthenticated, redirectTo, user]);\n  const signInHandler = async (data) => {\n    const logged_user = await dispatch(\n      loginUser(data?.username, data?.password)\n    );\n    if (logged_user) {\n      console.log(\"ðŸš€ ~ signInHandler ~ logged_user:\", logged_user);\n      // redirectTo(`/email-verification/${logged_user.email}`);\n      window.location.href = `http://app.desktopcrm.com/two-fa-verification/${logged_user.email}`;\n    }\n  };\n  // const formConfig = [\n  //   { name: \"firstName\", label: \"First Name\", initialValue: \"\" },\n  //   { name: \"lastName\", label: \"Last Name\", initialValue: \"\" },\n  //   { name: \"email\", label: \"Email\", type: \"email\", initialValue: \"\" },\n  // ];\n\n  return (\n    <div>\n      {/* <!-- Wrapper --> */}\n      <div className=\"hk-wrapper hk-pg-auth\" data-footer=\"simple\">\n        {/* <!-- Main Content --> */}\n        <div className=\"hk-pg-wrapper pt-0 pb-xl-0 pb-5\">\n          <div className=\"hk-pg-body pt-0 pb-xl-0\">\n            {/* <!-- Container --> */}\n            <div className=\"container-xxl\">\n              {/* <!-- Row --> */}\n              <div className=\"row\">\n                <div className=\"col-sm-10 position-relative mx-auto\">\n                  <div className=\"auth-content py-8\">\n                    <form\n                      className=\"w-100\"\n                      onSubmit={handleSubmit(signInHandler)}\n                    >\n                      <div className=\"row\">\n                        <div className=\"col-lg-5 col-md-7 col-sm-10 mx-auto\">\n                          {/* <div className=\"text-center mb-7\">\n                            <Link className=\"navbar-brand me-0\" to=\"/\">\n                              <img\n                                className=\"brand-img d-inline-block\"\n                                src={brand}\n                                alt=\"brand\"\n                              />\n                            </Link>\n                          </div> */}\n\n                          <div className=\"card card-lg card-border\">\n                            <div className=\"card-body\">\n                              <div className=\"d-flex justify-content-center pb-2\">\n                                <img\n                                  className=\" \"\n                                  src={logo}\n                                  width={300}\n                                  alt=\"brand\"\n                                />\n                              </div>\n                              <h4 className=\"mb-4 text-center\">\n                                Sign in to your account\n                              </h4>\n\n                              {isLoading === true ? (\n                                <Loader />\n                              ) : (\n                                <div>\n                                  <div className=\"row gx-3\">\n                                    <div>\n                                      <InputField\n                                        name=\"username\"\n                                        placeholder=\"Enter username or email\"\n                                        label=\"User Name\"\n                                        control={control}\n                                        rules={{\n                                          required: {\n                                            value: true,\n                                            message: \"Field required!\",\n                                          },\n                                        }}\n                                        errors={errors}\n                                      />\n                                    </div>\n                                    <div className=\"\">\n                                      <div className=\"float-end\">\n                                        <Link\n                                          to=\"/reset-password\"\n                                          className=\"fs-7 fw-medium\"\n                                        >\n                                          Forgot Password ?\n                                        </Link>\n                                      </div>\n                                      <InputField\n                                        name=\"password\"\n                                        type=\"password\"\n                                        placeholder=\"Enter your password\"\n                                        label=\"Password\"\n                                        control={control}\n                                        rules={{\n                                          required: {\n                                            value: true,\n                                            message: \"Field required!\",\n                                          },\n                                        }}\n                                        errors={errors}\n                                      />\n                                    </div>\n                                  </div>\n                                </div>\n                              )}\n                              <input\n                                type=\"submit\"\n                                className=\"btn btn-primary btn-uppercase btn-block bg-primary\"\n                                value=\"Login\"\n                              />\n                              <div className=\"text-center py-2\">OR</div>\n                              <div className=\"d-flex justify-content-center\">\n                                <GoogleLoginButton\n                                  onSuccess={handleSuccess}\n                                  onFailure={handleFailure}\n                                  text={\"signin_with\"}\n                                  auto_select={true}\n                                  useOneTap={true}\n                                />\n                              </div>\n                              {/* <div className=\"d-flex justify-content-center\">\n                                <a\n                                  href=\"https://desktopcrm.com:51/v1/auth/google\"\n                                  className=\"btn btn-outline-primary  btn-block\"\n                                >\n                                  <FaGoogle\n                                    style={{\n                                      marginTop: \"-1%\",\n                                      marginInline: \"2%\",\n                                    }}\n                                  />\n                                  Login with Google\n                                </a>\n                              </div> */}\n                              <p className=\"p-xs mt-2 text-center\">\n                                New to DesktopCRM?{\" \"}\n                                <Link to=\"/sign-up\">\n                                  <u>Create new account</u>\n                                </Link>\n                              </p>\n                            </div>\n                          </div>\n                        </div>\n                      </div>\n                    </form>\n                    {/* <FormRender formConfig={formConfig} /> */}\n                  </div>\n                </div>\n              </div>\n              {/* <!-- /Row --> */}\n            </div>\n            {/* <!-- /Container --> */}\n          </div>\n          {/* <!-- /Page Body --> */}\n\n          {/* <!-- Page Footer --> */}\n          {/* <div className=\"hk-footer border-0\">\n            <footer className=\"container-xxl footer\">\n              <div className=\"row\">\n                <div className=\"col-xl-8 text-center\">\n                  <p className=\"footer-text pb-0\">\n                    <span className=\"copy-text\">\n                      Jampack Â© 2023 All rights reserved.\n                    </span>{\" \"}\n                    <a href=\"/\" className=\"\" target=\"_blank\">\n                      Privacy Policy\n                    </a>\n                    <span className=\"footer-link-sep\">|</span>\n                    <a href=\"/\" className=\"\" target=\"_blank\">\n                      T&C\n                    </a>\n                    <span className=\"footer-link-sep\">|</span>\n                    <a href=\"/\" className=\"\" target=\"_blank\">\n                      System Status\n                    </a>\n                  </p>\n                </div>\n              </div>\n            </footer>\n          </div> */}\n          {/* <!-- / Page Footer --> */}\n        </div>\n        {/* <!-- /Main Content --> */}\n      </div>\n      {/* <!-- /Wrapper --> */}\n    </div>\n  );\n};\n\nexport default SignIn;\n"],"names":["SignIn","dispatch","useDispatch","redirectTo","useNavigate","isAuthenticated","isLoading","user","useSelector","state","auth","handleSubmit","control","formState","errors","useForm","useEffect","verified","_jsx","children","className","onSubmit","async","logged_user","loginUser","data","username","password","console","log","window","location","href","concat","email","_jsxs","src","logo","width","alt","Loader","InputField","name","placeholder","label","rules","required","value","message","Link","to","type","GoogleLoginButton","onSuccess","response","onFailure","error","text","auto_select","useOneTap"],"sourceRoot":""}