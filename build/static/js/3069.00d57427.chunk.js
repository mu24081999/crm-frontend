"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[3069],{50818:(l,e,s)=>{s.d(e,{Z:()=>a});var o=s(72791),n=s(61134),i=s(80184);const r=o.forwardRef(((l,e)=>{const{field:s}=(0,n.bc)(l),{label:o,style:r,defaultValue:a,disabled:d}=l;return(0,i.jsx)(i.Fragment,{children:(0,i.jsx)(n.Qr,{name:null===l||void 0===l?void 0:l.name,control:null===l||void 0===l?void 0:l.control,rules:null===l||void 0===l?void 0:l.rules,defaultValue:a,render:n=>{let{field:{onChange:a,value:c}}=n;return(0,i.jsxs)("div",{className:" form-check form-check-md ",children:[(0,i.jsx)("label",{className:"form-check-lable",children:o}),(0,i.jsx)("input",{...s,ref:e,checked:"1"===s.value||!0===s.value,type:"checkbox",disabled:d,onChange:e=>{a(e.target.checked),l.onChange&&l.onChange(e)},style:r||{},className:"form-check-input"})]})}})})}));r.displayName="Checkbox";const a=r},33069:(l,e,s)=>{s.r(e),s.d(e,{default:()=>j});var o=s(72791),n=s(34855),i=s(49923),r=s(61134),a=s(50818),d=s(94420),c=s(98911),t=s(763),u=s.n(t),v=s(41143),m=s(22316),h=s(80184);const x=()=>{const{control:l,watch:e,handleSubmit:s,setValue:n,formState:{errors:t}}=(0,r.cI)(),x=(0,d.I0)(),{token:j,user:b}=(0,d.v9)((l=>l.auth)),{isLoading:p,permissionDetails:g}=(0,d.v9)((l=>l.permission)),{users:f}=(0,d.v9)((l=>l.user)),[_,k]=(0,o.useState)([]),Z=e("subaccount");console.log("\ud83d\ude80 ~ PermissionContent ~ permissionDetails:",g),(0,o.useEffect)((()=>{void 0!==Z&&x((0,v.w)(j,null===Z||void 0===Z?void 0:Z.value))}),[Z,x,j]),(0,o.useEffect)((()=>{g&&(n("dashboard",1===(null===g||void 0===g?void 0:g.dashboard)),n("chat",1===(null===g||void 0===g?void 0:g.chat)),n("phone_numbers",1===(null===g||void 0===g?void 0:g.phone_numbers)),n("group_chat",1===(null===g||void 0===g?void 0:g.group_chat)),n("call",1===(null===g||void 0===g?void 0:g.call)),n("sms",1===(null===g||void 0===g?void 0:g.sms)),n("email",1===(null===g||void 0===g?void 0:g.email)),n("bulk_emails",1===(null===g||void 0===g?void 0:g.bulk_emails)),n("bulk_sms",1===(null===g||void 0===g?void 0:g.bulk_sms)),n("sms_logs",1===(null===g||void 0===g?void 0:g.sms_logs)),n("calendar",1===(null===g||void 0===g?void 0:g.calendar)),n("todos",1===(null===g||void 0===g?void 0:g.todos)),n("wallet",1===(null===g||void 0===g?void 0:g.wallet)),n("leads_pipeline",1===(null===g||void 0===g?void 0:g.leads_pipeline)),n("agents",1===(null===g||void 0===g?void 0:g.agents)),n("call_recordings",1===(null===g||void 0===g?void 0:g.call_recordings)),n("file_manager",1===(null===g||void 0===g?void 0:g.file_manager)),n("contacts",1===(null===g||void 0===g?void 0:g.contacts)))}),[g,n]),(0,o.useEffect)((()=>{x((0,c.Rf)(j)),x((0,c.Rf)(j))}),[x,j]),(0,o.useEffect)((()=>{if((null===f||void 0===f?void 0:f.length)>0){const l=null===f||void 0===f?void 0:f.filter((l=>u().toInteger(l.parent_id)===b.id));k(l)}}),[f,b]);return(0,h.jsx)("div",{children:(0,h.jsx)("div",{className:"hk-pg-wrapper",children:(0,h.jsxs)("div",{className:"container-xxl",children:[(0,h.jsx)("div",{className:"hk-pg-header pt-7 pb-4",children:(0,h.jsx)("h1",{className:"pg-title",children:"Permissions"})}),(0,h.jsx)("div",{className:"hk-pg-body",children:(0,h.jsx)("div",{className:"row edit-profile-wrap",children:(0,h.jsxs)("form",{onSubmit:s((l=>{const e={...l,user_id:b.id,user_role:b.role,subaccount_id:l.subaccount.value,subaccount_role:l.subaccount.role};x((0,v.$)(j,e)),console.log("\ud83d\ude80 ~ handlePermission ~ data:",e)})),children:[(0,h.jsx)("div",{className:"col-md-6 col-sm-6",children:(0,h.jsx)(i.Z,{control:l,errors:t,options:(null===_||void 0===_?void 0:_.length)>0?null===_||void 0===_?void 0:_.map(((l,e)=>({...l,label:null===l||void 0===l?void 0:l.name,value:null===l||void 0===l?void 0:l.id}))):[],name:"subaccount",placeholder:"Select Account",label:"Account"})}),(0,h.jsx)("div",{className:"title title-xs title-wth-divider text-primary text-uppercase my-4",children:(0,h.jsx)("span",{children:"Permissions"})}),(0,h.jsxs)("div",{className:" py-3 d-flex flex-column flex-wrap gap-5",style:{height:"350px",paddingInline:"5%"},children:[(0,h.jsx)("div",{children:(0,h.jsx)(a.Z,{control:l,errors:t,name:"dashboard",label:"Dashboard"})}),(0,h.jsx)("div",{children:(0,h.jsx)(a.Z,{control:l,errors:t,name:"wallet",label:"Wallet"})}),(0,h.jsx)("div",{children:(0,h.jsx)(a.Z,{control:l,errors:t,name:"phone_numbers",label:"Phone Numbers"})}),(0,h.jsx)("div",{children:(0,h.jsx)(a.Z,{control:l,errors:t,name:"call",label:"Calls"})}),(0,h.jsx)("div",{children:(0,h.jsx)(a.Z,{control:l,errors:t,name:"sms",label:"SMS"})}),(0,h.jsx)("div",{children:(0,h.jsx)(a.Z,{control:l,errors:t,name:"bulk_sms",label:"Bulk SMS"})}),(0,h.jsx)("div",{children:(0,h.jsx)(a.Z,{control:l,errors:t,options:[],name:"sms_logs",label:"SMS Logs"})}),(0,h.jsx)("div",{children:(0,h.jsx)(a.Z,{control:l,errors:t,options:[],name:"email",label:"Email"})}),(0,h.jsx)("div",{children:(0,h.jsx)(a.Z,{control:l,errors:t,options:[],name:"bulk_emails",label:"Bulk Email"})}),(0,h.jsx)("div",{children:(0,h.jsx)(a.Z,{control:l,errors:t,name:"chat",label:"Simple Chat"})}),(0,h.jsx)("div",{children:(0,h.jsx)(a.Z,{control:l,errors:t,name:"group_chat",label:"Group Chat"})}),(0,h.jsx)("div",{children:(0,h.jsx)(a.Z,{control:l,errors:t,name:"leads_pipeline",label:"Leads Pipeline"})}),(0,h.jsx)("div",{children:(0,h.jsx)(a.Z,{control:l,errors:t,name:"contacts",label:"Contacts"})}),(0,h.jsx)("div",{children:(0,h.jsx)(a.Z,{control:l,errors:t,name:"file_manager",label:"File Manager"})}),(0,h.jsx)("div",{children:(0,h.jsx)(a.Z,{control:l,errors:t,name:"agents",label:"Agents"})}),(0,h.jsx)("div",{children:(0,h.jsx)(a.Z,{control:l,errors:t,name:"call_recordings",label:"Call History and Recordings"})}),(0,h.jsx)("div",{children:(0,h.jsx)(a.Z,{control:l,errors:t,name:"calendar",label:"Calendar"})}),(0,h.jsx)("div",{children:(0,h.jsx)(a.Z,{control:l,errors:t,name:"todos",label:"Todos"})})]}),(0,h.jsx)("div",{className:"w-100",children:(0,h.jsx)("button",{className:"btn btn-primary float-end",style:{marginRight:"20%",marginTop:"5%"},children:p?(0,h.jsx)(m.Z,{}):"Submit"})})]})})})]})})})},j=()=>(0,h.jsx)(n.Z,{component:(0,h.jsx)(x,{})})}}]);
//# sourceMappingURL=3069.00d57427.chunk.js.map