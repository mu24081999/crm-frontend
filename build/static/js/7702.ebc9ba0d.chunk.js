"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[7702],{92135:(e,a,s)=>{s.d(a,{Z:()=>n});s(72791);var l=s(12202),t=s(80184);const n=function(e){let a,{fileType:s,fileUrl:n,fileWidth:d}=e;switch(s){case"jpeg":case"png":case"jpg":a=(0,t.jsx)("img",{className:"img-fluid rounded",style:{maxWidth:"300px"},src:n,width:d,alt:" preview"});break;case"pdf":a=(0,t.jsx)(l.yRW,{});break;case"zip":a=(0,t.jsx)(l.H5T,{});break;case"video":a=(0,t.jsxs)("video",{controls:!0,width:d,height:"auto",children:[(0,t.jsx)("source",{src:n,type:"video/mp4"}),"Your browser does not support the video tag."]});break;default:a=(0,t.jsx)(l.bz6,{color:"white",size:70,n:!0})}return(0,t.jsx)("div",{className:"",children:a})}},50818:(e,a,s)=>{s.d(a,{Z:()=>i});var l=s(72791),t=s(61134),n=s(80184);const d=l.forwardRef(((e,a)=>{const{field:s}=(0,t.bc)(e),{label:l,style:d,defaultValue:i,disabled:o}=e;return(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(t.Qr,{name:null===e||void 0===e?void 0:e.name,control:null===e||void 0===e?void 0:e.control,rules:null===e||void 0===e?void 0:e.rules,defaultValue:i,render:t=>{let{field:{onChange:i,value:r}}=t;return(0,n.jsxs)("div",{className:" form-check form-check-md ",children:[(0,n.jsx)("label",{className:"form-check-lable",children:l}),(0,n.jsx)("input",{...s,ref:a,checked:"1"===s.value||!0===s.value,type:"checkbox",disabled:o,onChange:a=>{i(a.target.checked),e.onChange&&e.onChange(a)},style:d||{},className:"form-check-input"})]})}})})}));d.displayName="Checkbox";const i=d},12972:(e,a,s)=>{s.d(a,{Z:()=>c});var l=s(72791),t=s(61134),n=s(763),d=s.n(n),i=s(61750),o=s(80184);const r=l.forwardRef(((e,a)=>{const{title:s,style:n,label:r,type:c,errors:m,defaultValue:h,onChange:u,onFocus:v,onBlur:x,menuPlacement:p,ellipses:b,value:j,...g}=e,{field:N,fieldState:f,formState:y}=(0,t.bc)(e),[w,C]=(0,l.useState)({});let _=d().get(m,e.name);const S=e=>{C(e),N.onChange(e.hex)};return(0,o.jsxs)("div",{className:"mb-5",children:[(0,o.jsx)(t.Qr,{name:null===e||void 0===e?void 0:e.name,rules:null===e||void 0===e?void 0:e.rules,control:null===e||void 0===e?void 0:e.control,defaultValue:h,render:a=>{let{field:{onChange:s}}=a;return(0,o.jsxs)(o.Fragment,{children:[r&&(0,o.jsx)("label",{for:null===e||void 0===e?void 0:e.name,class:"block mb-2 text-sm font-bold text-gray-900 dark:text-white",children:r}),(0,o.jsxs)("div",{className:"",children:[(0,o.jsx)(i.ZP,{initialValue:null!==N&&void 0!==N&&N.value?null===N||void 0===N?void 0:N.value:"",onChange:S,placement:"bottom",name:N.name,className:"position-absolute ",style:{height:"38px"}}),(0,o.jsx)("input",{className:"form-control",style:{paddingLeft:"70px"},type:"text",placeholder:" Color",name:N.name,value:w.hex})]})]})}}),e.rules&&_&&e.rules&&null!==_&&void 0!==_&&_.message?(0,o.jsx)("p",{className:" fs-6 p-1 text-danger",id:"email-error",children:e.rules&&_&&e.rules&&(null===_||void 0===_?void 0:_.message)}):""]})}));r.displayName="ReactColorInput";const c=r},92392:(e,a,s)=>{s.d(a,{Z:()=>c});var l=s(72791),t=s(61134),n=s(763),d=s.n(n),i=s(12880),o=s(80184);const r=l.forwardRef(((e,a)=>{const[s,n]=(0,l.useState)([]),{title:r,style:c,label:m,type:h,errors:u,defaultValue:v,onChange:x,onFocus:p,onBlur:b,menuPlacement:j,ellipses:g,value:N,placeHolder:f,mb:y,...w}=e,{field:C,fieldState:_,formState:S}=(0,t.bc)(e);console.log("\ud83d\ude80 ~ ReactTagInputComponent ~ field:",C);let k=d().get(u,e.name);const T=e=>{n(e),C.onChange(e)};return(0,o.jsxs)("div",{className:"".concat(y?"":"mb-5"),children:[(0,o.jsx)(t.Qr,{name:null===e||void 0===e?void 0:e.name,rules:null===e||void 0===e?void 0:e.rules,control:null===e||void 0===e?void 0:e.control,defaultValue:v,render:l=>{let{field:{onChange:t}}=l;return(0,o.jsxs)(o.Fragment,{children:[m&&(0,o.jsx)("label",{for:null===e||void 0===e?void 0:e.name,class:"block mb-2 text-sm font-bold text-gray-900 dark:text-white",children:m}),(0,o.jsx)(i.B,{...C,...w,ref:a,value:s,onChange:T,name:e.name,placeHolder:f})]})}}),e.rules&&k&&e.rules&&null!==k&&void 0!==k&&k.message?(0,o.jsx)("p",{className:" fs-6 p-1 text-danger",id:"email-error",children:e.rules&&k&&e.rules&&(null===k||void 0===k?void 0:k.message)}):""]})}));r.displayName="ReactTagInputComponent";const c=r},61275:(e,a,s)=>{s.d(a,{Z:()=>o});var l=s(72791),t=s(96048),n=s.n(t),d=s(12202),i=s(80184);const o=function(e){let{itemsPerPage:a,items:s,dataFromChild:t}=e;const o=(0,l.useRef)(),[r,c]=(0,l.useState)(0),m=r+a,h=null===s||void 0===s?void 0:s.slice(r,m),u=Math.ceil(s.length/a);return console.log(o.current,h,h!==o.current),(0,l.useEffect)((()=>{(async()=>{await new Promise((e=>setTimeout(e,1e3))),((e,a)=>{if((null===e||void 0===e?void 0:e.length)!==(null===a||void 0===a?void 0:a.length))return!1;for(let s=0;s<e.length;s++)if(e[s]!==a[s])return!1;return!0})(h,o.current)||(t(h),o.current=h)})()}),[h,o,t]),(0,i.jsx)(i.Fragment,{children:(0,i.jsx)("div",{style:{display:"flex",flexDirection:"column",justifyContent:"center",boxSizing:"border-box",width:"100%",height:"100px"},children:(0,i.jsx)(n(),{breakClassName:"item break-me ",containerClassName:"d-flex justify-content-center",disabledClassName:"disabled-page",marginPagesDisplayed:2,nextClassName:"arrows btn btn-light ",pageClassName:"item pagination-page ",previousClassName:"arrows btn btn-light",nextLabel:(0,i.jsx)(d.anP,{}),previousLabel:(0,i.jsx)(d.RZx,{}),breakLabel:"...",onPageChange:e=>{const s=e.selected*a;console.log("User requested page number ".concat(e.selected+1,", which is offset ").concat(s)),c(s),t(h)},pageRangeDisplayed:5,pageCount:u,renderOnZeroPageCount:null,activeClassName:"pagination_active"})})})}},5507:(e,a,s)=>{s.d(a,{Z:()=>d});var l=s(64802),t=s(1025),n=s.n(t);const d=function(e){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"contacts.csv";const s=n().unparse(e),t=new Blob([s],{type:"text/csv;charset=utf-8;"});(0,l.saveAs)(t,a)}},31445:(e,a,s)=>{s.d(a,{KP:()=>o,Oo:()=>r,RX:()=>i,_e:()=>c,hn:()=>m});var l=s(55294),t=s(86065),n=s(75985);const d="".concat("https://desktopcrm.com:51/v1"),i=(e,a)=>async s=>{try{s((0,t.Kn)());const i={headers:{"Content-Type":"application/json","x-access-token":e}};await l.Z.post("".concat(d,"/user/board/post-board"),a,i).then((a=>{var l;if(200!==(null===a||void 0===a||null===(l=a.data)||void 0===l?void 0:l.statusCode))return n.Am.error(a.data.message),s((0,t.r6)(a.data.message));s((0,t.JU)(a.data.message)),n.Am.success(a.data.message),s(o(e))}))}catch(i){s((0,t.r6)(i.message))}},o=e=>async a=>{try{a((0,t.Kn)());const s={headers:{"Content-Type":"application/json","x-access-token":e}};await l.Z.get("".concat(d,"/user/board/get-boards"),s).then((e=>{var s;if(console.log("\ud83d\ude80 ~ .then ~ response:",e),200!==(null===e||void 0===e||null===(s=e.data)||void 0===s?void 0:s.statusCode))return n.Am.error(e.data.message),a((0,t.r6)(e.data.message));a((0,t.sj)(e.data.data.boardsData))}))}catch(s){a((0,t.r6)(s.message))}},r=(e,a)=>async s=>{try{s((0,t.Kn)());const i={headers:{"Content-Type":"application/json","x-access-token":e}};await l.Z.get("".concat(d,"/user/board/board-details/").concat(a),i).then((e=>{var a;if(console.log("\ud83d\ude80 ~ .then ~ response:",e),200!==(null===e||void 0===e||null===(a=e.data)||void 0===a?void 0:a.statusCode))return n.Am.error(e.data.message),s((0,t.r6)(e.data.message));s((0,t._v)(e.data.data.boardData))}))}catch(i){s((0,t.r6)(i.message))}},c=(e,a,s)=>async i=>{try{i((0,t.Kn)());const r={headers:{"Content-Type":"application/json","x-access-token":e}};await l.Z.put("".concat(d,"/user/board/board-update/").concat(a),s,r).then((a=>{var s;if(console.log("\ud83d\ude80 ~ .then ~ response:",a),200!==(null===a||void 0===a||null===(s=a.data)||void 0===s?void 0:s.statusCode))return n.Am.error(a.data.message),i((0,t.r6)(a.data.message));i((0,t.wN)(a.data.message)),i(o(e))}))}catch(r){i((0,t.r6)(r.message))}},m=(e,a)=>async s=>{try{s((0,t.Kn)());const i={headers:{"Content-Type":"application/json","x-access-token":e}};await l.Z.delete("".concat(d,"/user/board/delete-board/").concat(a),i).then((a=>{var l;if(console.log("\ud83d\ude80 ~ .then ~ response:",a),200!==(null===a||void 0===a||null===(l=a.data)||void 0===l?void 0:l.statusCode))return n.Am.error(a.data.message),s((0,t.r6)(a.data.message));s((0,t.L1)(a.data.message)),s(o(e)),n.Am.success(a.data.message)}))}catch(i){s((0,t.r6)(i.message))}}},91524:(e,a,s)=>{s.d(a,{L3:()=>m,NU:()=>o,Ss:()=>c,Xg:()=>h,si:()=>r,x0:()=>i});var l=s(55294),t=s(78657),n=s(75985);const d="".concat("https://desktopcrm.com:51/v1"),i=(e,a,s,i)=>async o=>{try{o((0,t.sI)());const r={headers:{"Content-Type":"application/json","x-access-token":e}};await l.Z.get("".concat(d,"/user/email/get-emails/").concat(a,"/").concat(s,"/").concat(i),r).then((e=>{var a;if(200!==(null===e||void 0===e||null===(a=e.data)||void 0===a?void 0:a.statusCode))return n.Am.error(e.data.message),o((0,t.r6)(e.data.message));o((0,t.G5)(e.data.data.emailsData))}))}catch(r){o((0,t.r6)(r.message))}},o=(e,a)=>async s=>{try{s((0,t.sI)());const i={headers:{"Content-Type":"application/json","x-access-token":e}};await l.Z.post("".concat(d,"/user/email/get-emails-by-email"),a,i).then((e=>{var a;if(200!==(null===e||void 0===e||null===(a=e.data)||void 0===a?void 0:a.statusCode))return n.Am.error(e.data.message),s((0,t.r6)(e.data.message));s((0,t.G5)(e.data.data.emailsData))}))}catch(i){s((0,t.r6)(i.message))}},r=(e,a)=>async s=>{try{s((0,t.sI)());const i={headers:{"Content-Type":"multipart/form-data","x-access-token":e}};await l.Z.post("".concat(d,"/user/email/send-email"),a,i).then((e=>{var a;if(200!==(null===e||void 0===e||null===(a=e.data)||void 0===a?void 0:a.statusCode))return n.Am.error(e.data.message),s((0,t.r6)(e.data.message));s((0,t.Cz)(e.data.message)),n.Am.success(e.data.message)}))}catch(i){s((0,t.r6)(i.message))}},c=(e,a)=>async s=>{try{s((0,t.sI)());const i={headers:{"Content-Type":"multipart/form-data","x-access-token":e}};await l.Z.post("".concat(d,"/user/email/send-email-bulk"),a,i).then((e=>{var a;if(console.log(e),200!==(null===e||void 0===e||null===(a=e.data)||void 0===a?void 0:a.statusCode))return n.Am.error(e.data.message),s((0,t.r6)(e.data.message));s((0,t.Cz)(e.data.message)),n.Am.success(e.data.message)}))}catch(i){s((0,t.r6)(i.message))}},m=(e,a,s)=>async o=>{try{o((0,t.sI)());const r={headers:{"Content-Type":"application/json","x-access-token":e}};await l.Z.put("".concat(d,"/user/email/update-email/").concat(a),s,r).then((a=>{var l;if(200!==(null===a||void 0===a||null===(l=a.data)||void 0===l?void 0:l.statusCode))return n.Am.error(a.data.message),o((0,t.r6)(a.data.message));o((0,t.s)(a.data.message)),o(i(e,s.user_email,20,1)),n.Am.success(a.data.message)}))}catch(r){o((0,t.r6)(r.message))}},h=(e,a)=>async s=>{try{s((0,t.sI)());const o={headers:{"Content-Type":"application/json","x-access-token":e}};await l.Z.delete("".concat(d,"/user/email/delete-email/").concat(a),o).then((a=>{var l;if(200!==(null===a||void 0===a||null===(l=a.data)||void 0===l?void 0:l.statusCode))return n.Am.error(a.data.message),s((0,t.r6)(a.data.message));s((0,t.s)(a.data.message)),s(i(e)),n.Am.success(a.data.message)}))}catch(o){s((0,t.r6)(o.message))}}},63218:(e,a,s)=>{s.d(a,{D:()=>i,F:()=>o});var l=s(55294),t=s(58077),n=s(75985);const d="".concat("https://desktopcrm.com:51/v1"),i=e=>async a=>{try{a((0,t.ro)());const s={headers:{"Content-Type":"application/json","x-access-token":e}};await l.Z.get("".concat(d,"/user/calling/user-messages"),s).then((e=>{var s;if(console.log("\ud83d\ude80 ~ .then ~ response:",e),200!==(null===e||void 0===e||null===(s=e.data)||void 0===s?void 0:s.statusCode))return n.Am.error(e.data.message),a((0,t.r6)(e.data.message));a((0,t.qu)(e.data.data.messagesData))}))}catch(s){a((0,t.r6)(s.message))}},o=(e,a)=>async s=>{try{s((0,t.ro)());const i={headers:{"Content-Type":"application/json","x-access-token":e}};await l.Z.post("".concat(d,"/user/calling/user-messages-logs"),a,i).then((e=>{var a;if(console.log("\ud83d\ude80 ~ .then ~ response:",e),200!==(null===e||void 0===e||null===(a=e.data)||void 0===a?void 0:a.statusCode))return n.Am.error(e.data.message),s((0,t.r6)(e.data.message));s((0,t.qu)(e.data.data.messagesData))}))}catch(i){s((0,t.r6)(i.message))}}},67702:(e,a,s)=>{s.r(a),s.d(a,{default:()=>H});var l=s(72791),t=s(34855),n=s(12202),d=s(94420),i=s(29750),o=s(80184);const r=e=>{let{onSendData:a,contactsData:s,onToggleEdit:t}=e;const{contacts:r}=(0,d.v9)((e=>e.contact)),[c,m]=(0,l.useState)("all"),{handleToggleShowLeadDetail:h}=(0,l.useContext)(i.J);return(0,o.jsx)("nav",{className:"contactapp-sidebar",children:(0,o.jsx)("div",{"data-simplebar":!0,className:"nicescroll-bar",children:(0,o.jsxs)("div",{className:"menu-content-wrap",children:[(0,o.jsx)("button",{type:"button",className:"btn btn-primary btn-rounded btn-block mb-4","data-bs-toggle":"modal","data-bs-target":"#add_new_bundle",children:"Add new bundle"}),(0,o.jsx)("div",{className:"menu-group p-1",children:(0,o.jsx)("ul",{className:"nav nav-light navbar-nav flex-column",children:(0,o.jsx)("li",{id:"all_contacts",className:"nav-item ".concat("all"===c?"active":""),children:(0,o.jsxs)("button",{className:"nav-link btn-block",children:[(0,o.jsx)("span",{className:"nav-icon-wrap",children:(0,o.jsx)("span",{className:"feather-icon",children:(0,o.jsx)(n.ziV,{})})}),(0,o.jsx)("span",{className:"nav-link-text",children:"All Bundles"})]})})})})]})})})},c=e=>{let{onDataFromChild:a,activeBar:s}=e;return(0,o.jsx)("header",{className:"contact-header",children:(0,o.jsx)("div",{className:"d-flex align-items-center",children:(0,o.jsx)("span",{className:"fs-5 fw-bold",children:"Regulatory Bundles"})})})};var m=s(61765),h=s(22316),u=s(72426),v=s.n(u),x=(s(50818),s(61134)),p=s(75985),b=(s(5507),s(763)),j=s.n(b);const g=e=>{let{data:a,onToggleEdit:s,isEdit:t}=e;const{handleSubmit:n,watch:r,control:c,setValue:m,formState:{errors:u}}=(0,x.cI)({}),{handleToggleShowLeadDetail:v,setContactsToModify:p,contactsToModify:b}=(0,l.useContext)(i.J),{token:g}=((0,d.I0)(),(0,d.v9)((e=>e.auth))),{isLoading:N}=(0,d.v9)((e=>e.contact)),[f,y]=(0,l.useState)(null),[w,C]=(0,l.useState)();return(0,o.jsxs)("div",{className:"contact-list-view",style:{height:"100vh",overflow:"scroll"},children:[(0,o.jsx)("div",{className:"",children:(0,o.jsx)("div",{className:"p-2",children:(0,o.jsx)("div",{class:"btn-toolbar",role:"toolbar","aria-label":"Add to pipeline",children:(0,o.jsx)("div",{className:"d-flex justify-content-end w-100",children:(0,o.jsxs)("div",{children:[(0,o.jsxs)("div",{class:"input-group",children:[(0,o.jsx)("input",{type:"text",class:"form-control",placeholder:"Search Contact","aria-label":"Recipient's username","aria-describedby":"basic-addon2",onChange:e=>{y(e.target.value)}}),(0,o.jsx)("div",{class:"input-group-append",children:(0,o.jsx)("button",{class:"btn btn-outline-primary",type:"button",children:"Search"})})]})," "]})})})})}),!t&&(0,o.jsx)(o.Fragment,{children:N?(0,o.jsx)(h.Z,{}):(0,o.jsxs)("table",{className:"table w-100 mb-5",children:[(0,o.jsx)("thead",{children:(0,o.jsxs)("tr",{children:[(0,o.jsx)("th",{children:"Bundle Name"}),(0,o.jsx)("th",{children:"Country"}),(0,o.jsx)("th",{children:"Type & end user"}),(0,o.jsx)("th",{children:"Status"}),(0,o.jsx)("th",{children:"Status Details"}),(0,o.jsx)("th",{children:"Date Created"})]})}),(0,o.jsx)("tbody",{children:(null===a||void 0===a?void 0:a.length)>0&&(null===a||void 0===a?void 0:a.map((e=>(0,o.jsxs)("tr",{children:[(0,o.jsx)("td",{children:null===e||void 0===e?void 0:e.friendly_name}),(0,o.jsx)("td",{className:"text-truncate",children:null===e||void 0===e?void 0:e.country}),(0,o.jsxs)("td",{children:[(0,o.jsxs)("b",{children:[j().capitalize(null===e||void 0===e?void 0:e.end_user_type),": "]}),e.firstname+" "+(null===e||void 0===e?void 0:e.lastname)]}),(0,o.jsx)("td",{children:null!==e&&void 0!==e&&e.state?null===e||void 0===e?void 0:e.status:"Pending"}),(0,o.jsx)("td",{children:(null===e||void 0===e?void 0:e.status_description)||"..."}),(0,o.jsx)("td",{children:null===e||void 0===e?void 0:e.created_at})]}))))})]})})]})};var N=s(45523),f=s(49923),y=(s(44989),s(55294)),w=s(68998);const C="".concat("https://desktopcrm.com:51/v1"),_=(e,a)=>async s=>{try{s((0,w.Wi)());const l={headers:{"Content-Type":"application/json","x-access-token":e}};await y.Z.get("".concat(C,"/user/bundles/get-user-regulatory-bundles/").concat(a),l).then((e=>{var a;if(console.log("\ud83d\ude80 ~ .then ~ response:",e),200!==(null===e||void 0===e||null===(a=e.data)||void 0===a?void 0:a.statusCode))return p.Am.error(e.data.message),s((0,w.r6)(e.data.message));s((0,w.vg)(e.data.data.bundlesData))}))}catch(l){s((0,w.r6)(l.message))}},S=()=>{const{handleSubmit:e,watch:a,control:s,setValue:t,formState:{errors:n}}=(0,x.cI)({}),[i,r]=(0,l.useState)(null),c=a("end_user_type"),{user_id:m,token:u}=(0,d.v9)((e=>e.auth)),{isLoading:v}=(0,d.v9)((e=>e.bundle)),b=a("country_array"),j=(0,d.I0)();(0,l.useEffect)((()=>{void 0!==b&&t("country",b.value)}),[b,t]);return(0,o.jsxs)("form",{onSubmit:e((e=>{var a,s,l;const t=new FormData;t.append("user_id",m),t.append("country",null===e||void 0===e||null===(a=e.country_array)||void 0===a?void 0:a.value),t.append("number_type",null===e||void 0===e||null===(s=e.number_type)||void 0===s?void 0:s.value),t.append("end_user_type",null===e||void 0===e||null===(l=e.end_user_type)||void 0===l?void 0:l.value),t.append("firstname",null===e||void 0===e?void 0:e.firstname),t.append("lastname",null===e||void 0===e?void 0:e.lastname),t.append("email",null===e||void 0===e?void 0:e.email),t.append("phone_number",null===e||void 0===e?void 0:e.phone_number),t.append("purpose_phone",null===e||void 0===e?void 0:e.purpose_phone),t.append("supporting_document",i),t.append("friendly_name",e.friendly_name),t.append("business_name",e.business_name),t.append("business_ein",e.business_ein),j(((e,a)=>async s=>{try{s((0,w.Wi)());const l={headers:{"Content-Type":"multipart/form-data","x-access-token":e}};return await y.Z.post("".concat(C,"/user/bundles/create-regulatory-bundle"),a,l).then((l=>{var t;return console.log("\ud83d\ude80 ~ .then ~ response:",l),200!==(null===l||void 0===l||null===(t=l.data)||void 0===t?void 0:t.statusCode)?(p.Am.error(l.data.message),s((0,w.r6)(l.data.message))):(p.Am.success(l.data.message),s((0,w.Kv)(l.data.message)),s(_(e,a.user_id)),!0)}))}catch(l){s((0,w.r6)(l.message))}})(u,t))})),children:[(0,o.jsx)("div",{className:"row",children:(0,o.jsxs)("div",{id:"accordionSimpleExample",class:"accordion accordion-simple single-email-thread",children:[(0,o.jsxs)("div",{class:"accordion-item",children:[(0,o.jsx)("div",{id:"simple-headingOne",class:"accordion-header",children:(0,o.jsxs)("div",{"data-bs-toggle":"collapse","data-bs-target":"#step_one",role:"button","aria-expanded":"false",className:"px-3 py-3 border fw-bold bg-primary text-white",children:["1. Choose Country & Type of phone number that needs to be compliant"," "]})}),(0,o.jsx)("div",{id:"step_one",class:"accordion-collapse collapse",children:(0,o.jsxs)("div",{class:"accordion-body",children:[(0,o.jsxs)("div",{className:"row",children:[(0,o.jsx)("div",{className:"col-sm-6 col-md-6",children:(0,o.jsx)(f.Z,{name:"country_array",placeholder:"Country",label:"Country",control:s,options:[{label:"Argentina",value:"AR"},{label:"Australia",value:"AU"},{label:"Austria",value:"AT"},{label:"Belgium",value:"BE"},{label:"Brazil",value:"BR"},{label:"Canada",value:"CA"},{label:"Chile",value:"CL"},{label:"Colombia",value:"CO"},{label:"Croatia",value:"HR"},{label:"Czech Republic",value:"CZ"},{label:"Denmark",value:"DK"},{label:"Dominican Republic",value:"DO"},{label:"Estonia",value:"EE"},{label:"Finland",value:"FI"},{label:"France",value:"FR"},{label:"Germany",value:"DE"},{label:"Greece",value:"GR"},{label:"Hong Kong",value:"HK"},{label:"Hungary",value:"HU"},{label:"Iceland",value:"IS"},{label:"India",value:"IN"},{label:"Indonesia",value:"ID"},{label:"Ireland",value:"IE"},{label:"Israel",value:"IL"},{label:"Italy",value:"IT"},{label:"Japan",value:"JP"},{label:"Latvia",value:"LV"},{label:"Lithuania",value:"LT"},{label:"Luxembourg",value:"LU"},{label:"Malaysia",value:"MY"},{label:"Malta",value:"MT"},{label:"Mexico",value:"MX"},{label:"Netherlands",value:"NL"},{label:"New Zealand",value:"NZ"},{label:"Norway",value:"NO"},{label:"Panama",value:"PA"},{label:"Peru",value:"PE"},{label:"Philippines",value:"PH"},{label:"Poland",value:"PL"},{label:"Portugal",value:"PT"},{label:"Puerto Rico",value:"PR"},{label:"Romania",value:"RO"},{label:"Russia",value:"RU"},{label:"Singapore",value:"SG"},{label:"Slovakia",value:"SK"},{label:"Slovenia",value:"SI"},{label:"South Africa",value:"ZA"},{label:"South Korea",value:"KR"},{label:"Spain",value:"ES"},{label:"Sweden",value:"SE"},{label:"Switzerland",value:"CH"},{label:"Taiwan",value:"TW"},{label:"Thailand",value:"TH"},{label:"Turkey",value:"TR"},{label:"United Arab Emirates",value:"AE"},{label:"United Kingdom",value:"GB"},{label:"United States",value:"US"},{label:"Venezuela",value:"VE"}],errors:n})}),(0,o.jsx)("div",{className:"col-sm-6 col-md-6",children:(0,o.jsx)(f.Z,{name:"number_type",placeholder:"Type of Phone Number",label:"Type of Phone Number",control:s,options:[{label:"Local",value:"local"},{label:"Toll-Free",value:"toll-free"},{label:"Mobile",value:"mobile"},{label:"National",value:"national"}],errors:n})})]}),(0,o.jsx)("div",{children:(0,o.jsx)("button",{onClick:()=>{const e=document.getElementById("step_one"),a=document.getElementById("step_two");e&&a&&(e.classList.remove("show"),a.classList.add("show"))},className:"btn btn-primary",children:"Next"})})]})})]}),(0,o.jsxs)("div",{class:"accordion-item",children:[(0,o.jsx)("div",{id:"simple-headingOne",class:"accordion-header",children:(0,o.jsx)("div",{"data-bs-toggle":"collapse","data-bs-target":"#step_two",role:"button","aria-expanded":"false",className:"px-3 py-3 border fw-bold bg-primary text-white",children:"2. Select the End-User Type"})}),(0,o.jsx)("div",{id:"step_two",class:"accordion-collapse collapse",children:(0,o.jsxs)("div",{class:"accordion-body",children:[(0,o.jsx)("div",{className:"col-sm-6 col-md-6",children:(0,o.jsx)(f.Z,{name:"end_user_type",placeholder:"End User Type",label:"End User Type",control:s,options:[{label:"Business",value:"business"},{label:"Individual",value:"individual"}],errors:n})}),(0,o.jsx)("div",{children:(0,o.jsx)("button",{className:"btn btn-primary",onClick:()=>{const e=document.getElementById("step_two"),a=document.getElementById("step_three");e&&a&&(e.classList.remove("show"),a.classList.add("show"))},children:"Next"})})]})})]}),(0,o.jsxs)("div",{class:"accordion-item",children:[(0,o.jsx)("div",{id:"simple-headingOne",class:"accordion-header",children:(0,o.jsxs)("div",{"data-bs-toggle":"collapse","data-bs-target":"#step_three",role:"button","aria-expanded":"false",className:"px-3 py-3 border fw-bold bg-primary text-white",children:["3. Add"," ","individual"===(null===c||void 0===c?void 0:c.value)?"Individual":"Business"," ","Information"]})}),(0,o.jsx)("div",{id:"step_three",class:"accordion-collapse collapse",children:(0,o.jsxs)("div",{class:"accordion-body row",children:[(0,o.jsx)("div",{className:"col-sm-6 col-md-6",children:(0,o.jsx)(N.Z,{name:"firstname",placeholder:"First Name",label:"First Name",control:s,errors:n})}),(0,o.jsx)("div",{className:"col-sm-6 col-md-6",children:(0,o.jsx)(N.Z,{name:"lastname",placeholder:"Last Name",label:"Last Name",control:s,errors:n})}),(0,o.jsx)("div",{className:"col-sm-6 col-md-6",children:(0,o.jsx)(N.Z,{name:"email",placeholder:"Email address",label:"Email",control:s,errors:n})}),(0,o.jsx)("div",{className:"col-sm-6 col-md-6",children:(0,o.jsx)(N.Z,{name:"phone_number",placeholder:"Phone Number",label:"Phone Number",control:s,errors:n})}),(0,o.jsx)("div",{className:"col-sm-6 col-md-12",children:(0,o.jsx)(N.Z,{name:"purpose_phone",placeholder:"Purpose Of Phone",label:"Purpose Of Phone",control:s,errors:n})}),"business"===(null===c||void 0===c?void 0:c.value)&&(0,o.jsxs)("div",{className:"row",children:[(0,o.jsx)("div",{className:"col-sm-6 col-md-6",children:(0,o.jsx)(N.Z,{name:"business_name",placeholder:"Business Name",label:"Business Name",control:s,errors:n})}),(0,o.jsx)("div",{className:"col-sm-6 col-md-6",children:(0,o.jsx)(N.Z,{name:"business_ein",placeholder:"Business EIN ",label:"Business EIN",control:s,errors:n})})]}),(0,o.jsx)("div",{children:(0,o.jsxs)("button",{className:"btn btn-primary",onClick:()=>{const e=document.getElementById("step_three"),a=document.getElementById("step_four");e&&a&&(e.classList.remove("show"),a.classList.add("show"))},children:[" ","Next"]})})]})})]}),(0,o.jsxs)("div",{class:"accordion-item",children:[(0,o.jsx)("div",{id:"simple-headingOne",class:"accordion-header",children:(0,o.jsx)("div",{"data-bs-toggle":"collapse","data-bs-target":"#step_four",role:"button","aria-expanded":"false",className:"px-3 py-3 border fw-bold bg-primary text-white",children:"4. Upload Supporting Document"})}),(0,o.jsx)("div",{id:"step_four",class:"accordion-collapse collapse",children:(0,o.jsxs)("div",{class:"accordion-body",children:[(0,o.jsxs)("div",{className:" gx-3",children:[(0,o.jsx)("div",{className:"col-sm-12",children:(0,o.jsx)("div",{className:"",children:(0,o.jsx)("img",{src:null!==i?URL.createObjectURL(i):"https://t3.ftcdn.net/jpg/02/50/61/18/360_F_250611897_ohgStPhSHRAUoEi8EJZe5b6FIMvynvMR.jpg",alt:"user",className:"img-fluid",style:{height:"300px",width:"100%"}})})}),(0,o.jsxs)("div",{className:"media-body",children:[(0,o.jsxs)("div",{className:"btn btn-soft-primary btn-file mb-1",children:["Upload Photo",(0,o.jsx)("input",{type:"file",className:"upload",onChange:e=>{r(e.currentTarget.files[0])}})]}),(0,o.jsx)("div",{className:"form-text text-muted",children:"For better preview recommended size is 450px x 450px. Max size 5mb."})]})]}),(0,o.jsx)("div",{children:(0,o.jsx)("button",{className:"btn btn-primary",onClick:()=>{const e=document.getElementById("step_four"),a=document.getElementById("step_five");e&&a&&(e.classList.remove("show"),a.classList.add("show"))},children:"Next"})})]})})]}),(0,o.jsxs)("div",{class:"accordion-item",children:[(0,o.jsx)("div",{id:"simple-headingOne",class:"accordion-header",children:(0,o.jsx)("div",{"data-bs-toggle":"collapse","data-bs-target":"#step_five",role:"button","aria-expanded":"false",className:"px-3 py-3 border fw-bold bg-primary text-white",children:"5. Give this Regulatory Bundle a Friendly Name."})}),(0,o.jsx)("div",{id:"step_five",class:"accordion-collapse collapse",children:(0,o.jsx)("div",{class:"accordion-body",children:(0,o.jsx)("div",{className:"col-sm-6 col-md-12",children:(0,o.jsx)(N.Z,{name:"friendly_name",placeholder:"Friendly Name",label:"Give Regulatory Bundle a Friendly Name",control:s,errors:n})})})})]})]})}),(0,o.jsxs)("div",{className:"modal-footer align-items-center",children:[(0,o.jsx)("button",{type:"button",className:"btn btn-secondary","data-bs-dismiss":"modal",children:"Done"}),v?(0,o.jsx)(h.Z,{}):(0,o.jsx)("button",{type:"submit",className:"btn btn-primary",children:"Submit"})]})]})};s(92392);var k=s(59110);s(12972);const T=e=>{let{contact:a}=e;const{token:s}=(0,d.v9)((e=>e.auth)),t=(0,d.I0)(),{handleSubmit:n,control:i,setValue:r,formState:{errors:c}}=(0,x.cI)({});(0,l.useEffect)((()=>{a&&(r("firstname",a.firstname),r("lastname",a.lastname),r("phone",a.phone),r("email",a.email),r("biography",a.biography))}),[a,r]);return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("div",{className:"modal fade",id:"editInfo",role:"dialog","aria-hidden":"true",children:(0,o.jsx)("div",{className:"modal-dialog modal-dialog-centered modal-lg",role:"document",children:(0,o.jsxs)("div",{className:"modal-content",children:[(0,o.jsxs)("div",{className:"modal-header bg-primary",children:[(0,o.jsx)("h6",{className:"modal-title",style:{color:"white"},children:"Profile Information"}),(0,o.jsx)("button",{type:"button",className:"btn-close btn-light","data-bs-dismiss":"modal","aria-label":"Close",children:(0,o.jsx)("span",{"aria-hidden":"true",children:"\xd7"})})]}),(0,o.jsx)("div",{className:"modal-body",children:(0,o.jsxs)("form",{onSubmit:n((e=>{console.log("\ud83d\ude80 ~ handleUpdateContact ~ data:",e,s,a.id),t((0,m.rn)(s,a.id,e))})),children:[(0,o.jsxs)("div",{className:"row gx-3",children:[(0,o.jsx)("div",{}),(0,o.jsx)("div",{className:"col-sm-6",children:(0,o.jsx)(N.Z,{name:"firstname",placeholder:"Enter your First Name",label:" Name",defaultValue:null===a||void 0===a?void 0:a.firstname,control:i,rules:{required:{value:!0,message:"Field required!"}},errors:c})}),(0,o.jsx)("div",{className:"col-sm-6",children:(0,o.jsx)(N.Z,{name:"lastname",placeholder:"Enter your Last Name",label:"Last Name",control:i,rules:{required:{value:!0,message:"Field required!"}},errors:c})})]}),(0,o.jsxs)("div",{className:"row gx-3",children:[(0,o.jsx)("div",{className:"col-sm-6",children:(0,o.jsx)(N.Z,{name:"email",placeholder:"Enter your email identity",label:"Email Id",control:i,rules:{required:{value:!0,message:"Field required!"}},errors:c})}),(0,o.jsx)("div",{className:"col-sm-6",children:(0,o.jsx)(N.Z,{name:"phone",placeholder:"Enter your phone number",label:"Phone Number",control:i,rules:{required:{value:!0,message:"Field required!"}},errors:c})})]}),(0,o.jsxs)("div",{className:"modal-footer align-items-center",children:[(0,o.jsx)("button",{"data-bs-dismiss":"modal",type:"button",className:"btn btn-secondary",children:"Done"}),(0,o.jsx)("button",{type:"submit",className:"btn btn-primary",children:"Submit"})]})]})})]})})}),(0,o.jsx)("div",{className:"modal fade",id:"moreContact",tabindex:"-1",role:"dialog","aria-hidden":"true",children:(0,o.jsx)("div",{className:"modal-dialog modal-dialog-centered modal-lg",role:"document",children:(0,o.jsxs)("div",{className:"modal-content",children:[(0,o.jsxs)("div",{className:"modal-header",children:[(0,o.jsx)("h6",{className:"modal-title",children:"Profile Information"}),(0,o.jsx)("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close",children:(0,o.jsx)("span",{"aria-hidden":"true",children:"\xd7"})})]}),(0,o.jsx)("div",{className:"modal-body",children:(0,o.jsxs)("form",{children:[(0,o.jsxs)("div",{className:"row gx-3",children:[(0,o.jsx)("div",{className:"col-sm-6",children:(0,o.jsx)(N.Z,{name:"firstname",placeholder:"Enter your First Name",label:"Name",control:i,rules:{required:{value:!0,message:"Field required!"}},errors:c})}),(0,o.jsx)("div",{className:"col-sm-6",children:(0,o.jsx)(N.Z,{name:"lastname",placeholder:"Enter your Last Name",label:"Lastname",control:i,rules:{required:{value:!0,message:"Field required!"}},errors:c})})]}),(0,o.jsxs)("div",{className:"row gx-3",children:[(0,o.jsx)("div",{className:"col-sm-6",children:(0,o.jsxs)("div",{className:"form-group",children:[(0,o.jsx)("label",{className:"form-label",children:"Language"}),(0,o.jsx)("input",{className:"form-control",type:"email",value:"contct@hencework.com",placeholder:"Email Id",name:"emailid1"})]})}),(0,o.jsx)("div",{className:"col-sm-6",children:(0,o.jsxs)("div",{className:"form-group",children:[(0,o.jsx)("label",{className:"form-label",children:"Birthday"}),(0,o.jsx)("input",{className:"form-control",type:"text",value:"10/24/1984",placeholder:"Phone No",name:"birthday1"})]})})]})]})}),(0,o.jsxs)("div",{className:"modal-footer align-items-center",children:[(0,o.jsx)("button",{type:"button",className:"btn btn-secondary",children:"Discard"}),(0,o.jsx)("button",{type:"button",className:"btn btn-primary","data-bs-dismiss":"modal",children:"Update"})]})]})})}),(0,o.jsx)("div",{className:"modal fade",id:"tagsInput",tabindex:"-1",role:"dialog","aria-hidden":"true",children:(0,o.jsx)("div",{className:"modal-dialog modal-dialog-centered",role:"document",children:(0,o.jsxs)("div",{className:"modal-content",children:[(0,o.jsxs)("div",{className:"modal-header",children:[(0,o.jsx)("h6",{className:"modal-title",children:"Tags"}),(0,o.jsx)("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close",children:(0,o.jsx)("span",{"aria-hidden":"true",children:"\xd7"})})]}),(0,o.jsx)("div",{className:"modal-body",children:(0,o.jsx)("form",{children:(0,o.jsx)("div",{className:"row gx-3",children:(0,o.jsx)("div",{className:"col-sm-12",children:(0,o.jsx)("div",{className:"form-group",children:(0,o.jsxs)("select",{id:"input_tags",className:"form-control",multiple:"multiple",children:[(0,o.jsx)("option",{selected:"selected",children:"Collaborator"}),(0,o.jsx)("option",{children:"Designer"}),(0,o.jsx)("option",{selected:"selected",children:"React Developer"})]})})})})})}),(0,o.jsxs)("div",{className:"modal-footer align-items-center",children:[(0,o.jsx)("button",{type:"button",className:"btn btn-secondary",children:"Discard"}),(0,o.jsx)("button",{type:"button",className:"btn btn-primary","data-bs-dismiss":"modal",children:"Update"})]})]})})}),(0,o.jsx)("div",{className:"modal fade",id:"addBio",tabindex:"-1",role:"dialog","aria-hidden":"true",children:(0,o.jsx)("div",{className:"modal-dialog modal-dialog-centered",role:"document",children:(0,o.jsxs)("div",{className:"modal-content",children:[(0,o.jsxs)("div",{className:"modal-header",children:[(0,o.jsx)("h6",{className:"modal-title",children:"Biography"}),(0,o.jsx)("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close",children:(0,o.jsx)("span",{"aria-hidden":"true",children:"\xd7"})})]}),(0,o.jsx)("div",{className:"modal-body",children:(0,o.jsxs)("form",{onSubmit:n((e=>{t((0,m.rn)(s,a.id,e))})),children:[(0,o.jsx)("div",{className:"row gx-3",children:(0,o.jsx)("div",{className:"col-sm-12",children:(0,o.jsx)("div",{className:"form-group",children:(0,o.jsx)(k.Z,{control:i,errors:c,name:"biography",rows:5})})})}),(0,o.jsxs)("div",{className:"modal-footer align-items-center",children:[(0,o.jsx)("button",{type:"button","data-bs-dismiss":"modal",className:"btn btn-secondary",children:"Discard"}),(0,o.jsx)("button",{type:"submit",className:"btn btn-primary",children:"Update"})]})]})})]})})})]})},E=()=>(0,o.jsxs)("ul",{className:"nav nav-tabs nav-line nav-icon nav-light",children:[(0,o.jsx)("li",{className:"nav-item",children:(0,o.jsxs)("a",{className:"nav-link active","data-bs-toggle":"tab",href:"#SMS_tab",children:[(0,o.jsx)("span",{className:"nav-icon-wrap",children:(0,o.jsx)("span",{className:"feather-icon",children:(0,o.jsx)("i",{"data-feather":"zap"})})}),(0,o.jsx)("span",{className:"nav-link-text",children:"SMS"})]})}),(0,o.jsx)("li",{className:"nav-item",children:(0,o.jsxs)("a",{className:"nav-link","data-bs-toggle":"tab",href:"#Email_tab",children:[(0,o.jsx)("span",{className:"nav-icon-wrap",children:(0,o.jsx)("span",{className:"feather-icon",children:(0,o.jsx)("i",{"data-feather":"zap"})})}),(0,o.jsx)("span",{className:"nav-link-text",children:"Emails"})]})}),(0,o.jsx)("li",{className:"nav-item",children:(0,o.jsxs)("a",{className:"nav-link","data-bs-toggle":"tab",href:"#Call_tab",children:[(0,o.jsx)("span",{className:"nav-icon-wrap",children:(0,o.jsx)("span",{className:"feather-icon",children:(0,o.jsx)("i",{"data-feather":"zap"})})}),(0,o.jsx)("span",{className:"nav-link-text",children:"Calls"})]})})]}),I=e=>{let{selectedMessages:a,authUser:s,contactDetails:t,activeBar:d}=e;const r=(0,l.useRef)(null),{sendTextMessage:c,messagesArray:m}=(0,l.useContext)(i.J);function h(e){const a=null===e||void 0===e?void 0:e.charAt(0),s=null===e||void 0===e?void 0:e.indexOf(" ");return{firstCharacter:a,characterAfterSpace:-1!==s?e.charAt(s+1):""}}const[u,x]=(0,l.useState)("");return(0,l.useEffect)((()=>{var e;null===r||void 0===r||null===(e=r.current)||void 0===e||e.scrollIntoView({behavior:"smooth",block:"end"})}),[]),(0,o.jsx)("div",{className:"tab-content mt-7",children:(0,o.jsxs)("div",{className:"tab-pane fade show ".concat("SMS_tab"===d?"active":""),id:"SMS_tab",children:[(0,o.jsx)("ul",{className:"list-unstyled",style:{maxHeight:"35rem",overflow:"scroll"},children:Object.entries(a).map((e=>{let[a,l]=e;return(0,o.jsx)("div",{children:null===l||void 0===l?void 0:l.map(((e,a)=>(0,o.jsx)("div",{ref:r,children:(null===e||void 0===e?void 0:e.from_phone)!==s.phone?(0,o.jsxs)("li",{className:"media received  rounded-3 w-25 ",children:[(0,o.jsx)("div",{className:"avatar avatar-sm avatar-primary position-relative avatar-rounded",children:(0,o.jsx)("span",{className:"initial-wrap",style:{width:"48px"},children:h((null===t||void 0===t?void 0:t.firstname)+" "+(null===t||void 0===t?void 0:t.lastname)).firstCharacter+h((null===t||void 0===t?void 0:t.firstname)+" "+(null===t||void 0===t?void 0:t.lastname)).characterAfterSpace})}),(0,o.jsx)("div",{className:"alert alert-primary mx-1  border border-primary",children:(0,o.jsx)("div",{className:"msg-box",style:{width:"max-content"},children:(0,o.jsxs)("div",{children:[(0,o.jsx)("p",{children:null===e||void 0===e?void 0:e.message}),(0,o.jsx)("span",{className:"chat-time float-end",style:{fontSize:"12px"},children:v()(null===e||void 0===e?void 0:e.created_at).format("HH:mm a")})]})})})]}):(0,o.jsx)("li",{className:"media sent w-100 d-flex justify-content-end",children:(0,o.jsx)("div",{className:"rounded-3 d-flex",children:(0,o.jsx)("div",{className:"alert bg-primary mx-1 border border-primary",children:(0,o.jsx)("div",{className:"msg-box",style:{width:"max-content"},children:(0,o.jsxs)("div",{className:"text-white",children:[(0,o.jsx)("p",{children:null===e||void 0===e?void 0:e.message}),(0,o.jsx)("span",{className:"chat-time float-end",style:{fontSize:"12px"},children:v()(null===e||void 0===e?void 0:e.created_at).format("HH:mm a")})]})})})})})},a)))},a)}))}),(0,o.jsx)("footer",{className:"chat-footer fixed-bottom rounded d-flex ",style:{marginLeft:"45.6%"},children:(0,o.jsx)("div",{className:"d-flex flex-wrap border border-3 border bg-light rounded w-100 pt-5 ps-3",children:(0,o.jsx)("div",{className:"form-group",children:(0,o.jsxs)("span",{className:"input-affix-wrapper",style:{width:"90vh"},children:[(0,o.jsx)("input",{type:"text",onChange:e=>x(e.target.value),value:u,onKeyUp:e=>(e=>{if("Enter"===e.key){var a;const e={from:{phone:s.phone,name:s.name,avatar:s.avatar,socket_id:s.socket_id,accountSid:null===s||void 0===s?void 0:s.accountSid,authToken:null===s||void 0===s?void 0:s.authToken},to:{phone:null===t||void 0===t?void 0:t.phone,name:(null===t||void 0===t?void 0:t.firstname)+(null===t||void 0===t?void 0:t.lastname),avatar:null===t||void 0===t?void 0:t.avatar},user_id:null===s||void 0===s?void 0:s.id,message:u};c(e),x(""),null===r||void 0===r||null===(a=r.current)||void 0===a||a.scrollIntoView({behavior:"smooth",block:"end"})}})(e),name:"send-msg",className:" form-control w-100 rounded-pill",placeholder:"Type something..."}),(0,o.jsx)("span",{className:"input-suffix",style:{marginRight:"-10px"},children:(0,o.jsx)("button",{className:"btn btn-icon btn-flush-primary btn-rounded btn-send",children:(0,o.jsx)("span",{className:"icon",children:(0,o.jsx)(n.Rdr,{})})})})]})})})})]})})};var A=s(91524),D=s(98911);s(92135);const Z=e=>{let{contactDetails:a,activeBar:s,dispatch:t,token:n,authUser:i}=e;const[r,c]=(0,l.useState)([]),[m,h]=(0,l.useState)([]),{emails:u}=(0,d.v9)((e=>e.email)),{users:x}=(0,d.v9)((e=>e.user));(0,l.useEffect)((()=>{const e={senderEmail:null===i||void 0===i?void 0:i.email,recieverEmail:null===a||void 0===a?void 0:a.email};t((0,A.NU)(n,e)),t((0,D.Rf)(n))}),[t,n,i,a]),(0,l.useEffect)((()=>{h(x)}),[x]),(0,l.useEffect)((()=>{const e=[];(null===u||void 0===u?void 0:u.length)>0&&(null===u||void 0===u||u.map(((a,s)=>{const l=null===m||void 0===m?void 0:m.filter((e=>e.email===a.sender))[0],t=null===m||void 0===m?void 0:m.filter((e=>e.email===a.reciever))[0];e.push({...a,sender:l,reciever:t})})),c(e))}),[u,m]);return(0,o.jsx)("div",{className:"tab-content mt-7",children:(0,o.jsx)("div",{className:"tab-pane fade show ".concat("Email_tab"===s?"active":""),id:"Email_tab",children:(0,o.jsx)("div",{id:"accordion",children:(null===r||void 0===r?void 0:r.length)>0?(0,o.jsx)("div",{style:{height:"35rem",overflow:"scroll"},children:null===r||void 0===r?void 0:r.map(((e,a)=>{var s,l,t,n,d,i;return(0,o.jsxs)("div",{class:"card",children:[(0,o.jsx)("div",{class:"card-header",children:(0,o.jsxs)("a",{class:"btn","data-bs-toggle":"collapse",href:"#"+a,children:[(0,o.jsx)("div",{className:"d-flex",children:(0,o.jsx)("div",{class:"fw-light",children:null===e||void 0===e?void 0:e.subject})})," "]})}),(0,o.jsxs)("div",{class:"card-body collapse",id:a,"data-bs-parent":"#"+a,children:[(0,o.jsxs)("div",{class:"media",children:[(0,o.jsx)("div",{class:"media-head",children:(0,o.jsx)("div",{class:"avatar d-8",children:(0,o.jsx)("img",{src:null===e||void 0===e||null===(s=e.sender)||void 0===s?void 0:s.avatar,alt:"user",class:"avatar-img rounded-circle"})})}),(0,o.jsxs)("div",{class:"media-body",children:[(0,o.jsx)("div",{children:null===e||void 0===e||null===(l=e.sender)||void 0===l?void 0:l.name}),(0,o.jsxs)("div",{class:"fs-7",children:[(0,o.jsx)("span",{children:"to"}),(0,o.jsxs)("div",{class:"mail-desc-dropdown",children:[(0,o.jsx)("a",{href:"/",class:"dropdown-toggle link-dark","data-bs-toggle":"dropdown",children:"me"}),(0,o.jsxs)("div",{class:"dropdown-menu",children:[(0,o.jsxs)("div",{children:[(0,o.jsx)("span",{children:"from :"}),(0,o.jsxs)("span",{children:[null===e||void 0===e||null===(t=e.sender)||void 0===t?void 0:t.name," ",(0,o.jsxs)("span",{children:["<",null===e||void 0===e||null===(n=e.sender)||void 0===n?void 0:n.email,">"]})]})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("span",{children:"to :"}),(0,o.jsxs)("span",{children:[null===e||void 0===e||null===(d=e.reciever)||void 0===d?void 0:d.name," ",(0,o.jsxs)("span",{children:["<",null===e||void 0===e||null===(i=e.reciever)||void 0===i?void 0:i.email,">"]})]})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("span",{children:"date :"}),(0,o.jsx)("span",{children:v()(null===e||void 0===e?void 0:e.created_at,"h:mm A").format("h:mm A")})]})]})]})]})]})]}),(0,o.jsxs)("div",{class:"card-body",children:[(0,o.jsx)("div",{dangerouslySetInnerHTML:{__html:null===e||void 0===e?void 0:e.body}}),(0,o.jsx)("div",{class:"separator separator-light"}),(0,o.jsx)("div",{class:"email-head-action",children:(0,o.jsxs)("div",{class:"email-time",children:[" ",v()(null===e||void 0===e?void 0:e.created_at,"h:mm A").format("h:mm A")]})})]})," "]})]},a)}))}):(0,o.jsx)("p",{children:"No Emails yet"})})})})};var P=s(41706);const B=e=>{let{activeBar:a,contactDetails:s,authUser:t,token:n,dispatch:i}=e;const{callLogs:r,isLoading:c}=(0,d.v9)((e=>e.calling)),[m,u]=(0,l.useState)([]);return(0,l.useMemo)((()=>{i((0,P.ck)(n,{accountSid:null===t||void 0===t?void 0:t.accountSid,authToken:t.authToken}))}),[n,i,t]),(0,l.useEffect)((()=>{if((null===r||void 0===r?void 0:r.length)>0){const e=null===r||void 0===r?void 0:r.filter((e=>e.to===s.phone||e.from===s.phone));u(e)}}),[r,t,s]),(0,o.jsx)("div",{className:"tab-content mt-7",children:(0,o.jsx)("div",{className:"tab-pane fade show ".concat("Call_tab"===a?"active":""),id:"Call_tab",style:{maxWidth:"800px",overflow:"scroll",maxHeight:"35rem"},children:c?(0,o.jsx)("div",{className:"w-100 border border-primary",children:(0,o.jsx)(h.Z,{})}):(0,o.jsxs)("table",{class:"table table-striped shadow-lg",children:[(0,o.jsx)("thead",{class:"table-primary",children:(0,o.jsxs)("tr",{className:"sticky-top rounded",children:[(0,o.jsx)("th",{children:"From"}),(0,o.jsx)("th",{children:"To"}),(0,o.jsx)("th",{children:"Duration"}),(0,o.jsx)("th",{children:"Status"}),(0,o.jsx)("th",{children:"Direction"})]})}),(0,o.jsx)("tbody",{children:(0,o.jsx)(o.Fragment,{children:(null===m||void 0===m?void 0:m.length)>0&&(null===m||void 0===m?void 0:m.map(((e,a)=>(0,o.jsxs)("tr",{children:[(0,o.jsx)("td",{children:null===e||void 0===e?void 0:e.from}),(0,o.jsx)("td",{children:null===e||void 0===e?void 0:e.to}),(0,o.jsxs)("td",{children:[null===e||void 0===e?void 0:e.duration," sec"]}),(0,o.jsx)("td",{children:null===e||void 0===e?void 0:e.status}),(0,o.jsx)("td",{children:null===e||void 0===e?void 0:e.direction})]},a))))})})]})})})};var F=s(63218);const L=e=>{var a,s;let{contactDetails:t,dispatch:r,token:c,authUser:m}=e;const{messagesArray:h}=(0,l.useContext)(i.J),{messages:u}=(0,d.v9)((e=>e.message)),[v,x]=(0,l.useState)([]),[p,b]=(0,l.useState)("SMS_tab");(0,l.useEffect)((()=>{r((0,F.D)(c))}),[c,r]),(0,l.useEffect)((()=>{const e=null===h||void 0===h?void 0:h.filter((e=>(null===e||void 0===e?void 0:e.from_phone)===(null===t||void 0===t?void 0:t.phone)&&(null===e||void 0===e?void 0:e.to_phone)===(null===m||void 0===m?void 0:m.phone)||(null===e||void 0===e?void 0:e.from_phone)===(null===m||void 0===m?void 0:m.phone)&&(null===e||void 0===e?void 0:e.to_phone)===(null===t||void 0===t?void 0:t.phone))),a=null===e||void 0===e?void 0:e.reduce(((e,a)=>{const s=a.created_at.slice(0,10);return e[s]||(e[s]=[]),e[s].push(a),e}),{});x(a)}),[h,m,t]),(0,l.useEffect)((()=>{const e=null===u||void 0===u?void 0:u.filter((e=>(null===e||void 0===e?void 0:e.from_phone)===(null===t||void 0===t?void 0:t.phone)&&(null===e||void 0===e?void 0:e.to_phone)===(null===m||void 0===m?void 0:m.phone)||(null===e||void 0===e?void 0:e.from_phone)===(null===m||void 0===m?void 0:m.phone)&&(null===e||void 0===e?void 0:e.to_phone)===(null===t||void 0===t?void 0:t.phone))),a=null===e||void 0===e?void 0:e.reduce(((e,a)=>{const s=a.created_at.slice(0,10);return e[s]||(e[s]=[]),e[s].push(a),e}),{});x(a)}),[u,t,m]);return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)("div",{className:"contactapp-detail-wrap",children:[(0,o.jsxs)("header",{className:"contact-header",children:[(0,o.jsx)("div",{className:"d-flex align-items-center",children:(0,o.jsx)("nav",{"aria-label":"breadcrumb",children:(0,o.jsxs)("ol",{className:"breadcrumb  mb-0",children:[(0,o.jsx)("li",{className:"breadcrumb-item",children:(0,o.jsx)("a",{href:"contact.html",children:"Contacts"})}),(0,o.jsxs)("li",{className:"breadcrumb-item active","aria-current":"page",children:[null===t||void 0===t?void 0:t.firstname," ",null===t||void 0===t?void 0:t.middlename," ",null===t||void 0===t?void 0:t.lastname]})]})})}),(0,o.jsxs)("div",{className:"contact-options-wrap",children:[(0,o.jsx)("div",{className:"d-flex fs-7 align-items-center",children:"1 of 30"}),(0,o.jsx)("a",{className:"btn btn-icon btn-flush-dark btn-rounded flush-soft-hover contactapp-info-toggle",href:"/","data-bs-toggle":"tooltip","data-bs-placement":"top",title:"","data-bs-original-title":"Previous",children:(0,o.jsx)("span",{className:"icon",children:(0,o.jsx)("span",{className:"feather-icon",children:(0,o.jsx)("i",{"data-feather":"chevron-left"})})})}),(0,o.jsx)("a",{className:"btn btn-icon btn-flush-dark btn-rounded flush-soft-hover contactapp-info-toggle",href:"/","data-bs-toggle":"tooltip","data-bs-placement":"top",title:"","data-bs-original-title":"Next",children:(0,o.jsx)("span",{className:"icon",children:(0,o.jsx)("span",{className:"feather-icon",children:(0,o.jsx)("i",{"data-feather":"chevron-right"})})})}),(0,o.jsx)("a",{className:"btn btn-icon btn-flush-dark btn-rounded flush-soft-hover hk-navbar-togglable",href:"/","data-bs-toggle":"tooltip","data-bs-placement":"top",title:"","data-bs-original-title":"Collapse",children:(0,o.jsxs)("span",{className:"icon",children:[(0,o.jsx)("span",{className:"feather-icon",children:(0,o.jsx)("i",{"data-feather":"chevron-up"})}),(0,o.jsx)("span",{className:"feather-icon d-none",children:(0,o.jsx)("i",{"data-feather":"chevron-down"})})]})})]}),(0,o.jsx)("div",{className:"hk-sidebar-togglable"})]}),(0,o.jsx)("div",{className:"contact-body contact-detail-body",children:(0,o.jsx)("div",{className:"nicescroll-bar",children:(0,o.jsxs)("div",{className:"d-flex flex-xxl-nowrap flex-wrap",children:[(0,o.jsxs)("div",{className:"contact-info w-xxl-30 w-100",style:{maxHeight:"1000px",overflow:"scroll"},children:[(0,o.jsxs)("div",{className:"text-center mt-5",children:[(0,o.jsx)("div",{className:"dropify-circle edit-img",children:(0,o.jsx)("img",{src:(null===t||void 0===t?void 0:t.avatar)||"https://static.vecteezy.com/system/resources/previews/009/292/244/original/default-avatar-icon-of-social-media-user-vector.jpg",alt:null===t||void 0===t?void 0:t.firstname,className:"dropify-1 rounded-circle",width:100})}),(0,o.jsxs)("div",{className:"cp-name text-truncate mt-3",children:[null===t||void 0===t?void 0:t.firstname," ",null===t||void 0===t?void 0:t.lastname]}),(0,o.jsx)("div",{className:"rating rating-yellow my-rating-4","data-rating":"3"})]}),(0,o.jsx)("div",{className:"separator-full"}),(0,o.jsxs)("div",{className:"card",children:[(0,o.jsxs)("div",{className:"card-header",children:[(0,o.jsx)("a",{href:"/",children:"Biography"}),(0,o.jsx)("button",{className:"btn btn-xs btn-icon btn-rounded btn-light","data-bs-toggle":"tooltip","data-bs-placement":"top",title:"","data-bs-original-title":"Edit",children:(0,o.jsx)("span",{className:"icon","data-bs-toggle":"modal","data-bs-target":"#addBio",children:(0,o.jsx)("span",{className:"feather-icon",children:(0,o.jsx)(n.fmQ,{})})})})]}),(0,o.jsx)("div",{className:"card-body",children:(0,o.jsxs)("p",{children:[null===t||void 0===t?void 0:t.biography,"."]})})]}),(0,o.jsxs)("div",{className:"card",children:[(0,o.jsxs)("div",{className:"card-header",children:[(0,o.jsx)("a",{href:"/",children:"Profile Information"}),(0,o.jsx)("button",{className:"btn btn-xs btn-icon btn-rounded btn-light","data-bs-toggle":"tooltip","data-bs-placement":"top",title:"","data-bs-original-title":"Edit",children:(0,o.jsx)("span",{className:"icon","data-bs-toggle":"modal","data-bs-target":"#editInfo",children:(0,o.jsx)("span",{className:"feather-icon",children:(0,o.jsx)(n.fmQ,{})})})})]}),(0,o.jsx)("div",{className:"card-body",children:(0,o.jsxs)("ul",{className:"cp-info",children:[(0,o.jsxs)("li",{children:[(0,o.jsx)("span",{children:"First name"}),(0,o.jsx)("span",{children:null===t||void 0===t?void 0:t.firstname})]}),(0,o.jsxs)("li",{children:[(0,o.jsx)("span",{children:"Last name"}),(0,o.jsx)("span",{children:null===t||void 0===t?void 0:t.lastname})]}),(0,o.jsxs)("li",{children:[(0,o.jsx)("span",{children:"Email"}),(0,o.jsxs)("span",{children:[null===t||void 0===t||null===(a=t.email)||void 0===a?void 0:a.slice(0,20),(null===t||void 0===t||null===(s=t.email)||void 0===s?void 0:s.length)>20?"...":""]})]}),(0,o.jsxs)("li",{children:[(0,o.jsx)("span",{children:"Phone"}),(0,o.jsx)("span",{children:null===t||void 0===t?void 0:t.phone})]})]})})]})]}),(0,o.jsxs)("div",{className:"contact-more-info",children:[(0,o.jsx)(E,{contactDetails:t,onDataFromChild:e=>{b(e)},activeBar:p}),(0,o.jsx)(I,{contactDetails:t,selectedMessages:v,authUser:m,activeBar:p}),(0,o.jsx)(Z,{contactDetails:t,activeBar:p,dispatch:r,authUser:m,token:c}),(0,o.jsx)(B,{contactDetails:t,activeBar:p,authUser:m,dispatch:r,token:c})]})]})})})]}),(0,o.jsx)(T,{contact:t}),(0,o.jsx)("div",{id:"add_new_contact",className:"modal fade add-new-contact",tabindex:"-1",role:"dialog","aria-hidden":"true",children:(0,o.jsx)("div",{className:"modal-dialog modal-dialog-centered modal-lg",role:"document",children:(0,o.jsxs)("div",{className:"modal-content",children:[(0,o.jsxs)("div",{className:"modal-body",children:[(0,o.jsx)("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close",children:(0,o.jsx)("span",{"aria-hidden":"true",children:"\xd7"})}),(0,o.jsx)("h5",{className:"mb-5",children:"Add New Contact"}),(0,o.jsxs)("form",{children:[(0,o.jsxs)("div",{className:"row gx-3",children:[(0,o.jsx)("div",{className:"col-sm-2 form-group",children:(0,o.jsx)("div",{className:"dropify-square",children:(0,o.jsx)("input",{type:"file",className:"dropify-1"})})}),(0,o.jsx)("div",{className:"col-sm-10 form-group",children:(0,o.jsx)("textarea",{className:"form-control mnh-100p",rows:"4",placeholder:"Add Biography"})})]}),(0,o.jsx)("div",{className:"title title-xs title-wth-divider text-primary text-uppercase my-4",children:(0,o.jsx)("span",{children:"Basic Info"})}),(0,o.jsxs)("div",{className:"row gx-3",children:[(0,o.jsx)("div",{className:"col-sm-4",children:(0,o.jsxs)("div",{className:"form-group",children:[(0,o.jsx)("label",{className:"form-label",children:"First Name"}),(0,o.jsx)("input",{className:"form-control",type:"text"})]})}),(0,o.jsx)("div",{className:"col-sm-4",children:(0,o.jsxs)("div",{className:"form-group",children:[(0,o.jsx)("label",{className:"form-label",children:"Middle Name"}),(0,o.jsx)("input",{className:"form-control",type:"text"})]})}),(0,o.jsx)("div",{className:"col-sm-4",children:(0,o.jsxs)("div",{className:"form-group",children:[(0,o.jsx)("label",{className:"form-label",children:"Last Name"}),(0,o.jsx)("input",{className:"form-control",type:"text"})]})})]}),(0,o.jsxs)("div",{className:"row gx-3",children:[(0,o.jsx)("div",{className:"col-sm-6",children:(0,o.jsxs)("div",{className:"form-group",children:[(0,o.jsx)("label",{className:"form-label",children:"Email ID"}),(0,o.jsx)("input",{className:"form-control",type:"text"})]})}),(0,o.jsx)("div",{className:"col-sm-6",children:(0,o.jsxs)("div",{className:"form-group",children:[(0,o.jsx)("label",{className:"form-label",children:"Phone"}),(0,o.jsx)("input",{className:"form-control",type:"text"})]})})]}),(0,o.jsxs)("div",{className:"row gx-3",children:[(0,o.jsx)("div",{className:"col-sm-4",children:(0,o.jsxs)("div",{className:"form-group",children:[(0,o.jsx)("label",{className:"form-label",children:"City"}),(0,o.jsxs)("select",{className:"form-select",children:[(0,o.jsx)("option",{selected:"",children:"--"}),(0,o.jsx)("option",{value:"1",children:"One"}),(0,o.jsx)("option",{value:"2",children:"Two"}),(0,o.jsx)("option",{value:"3",children:"Three"})]})]})}),(0,o.jsx)("div",{className:"col-sm-4",children:(0,o.jsxs)("div",{className:"form-group",children:[(0,o.jsx)("label",{className:"form-label",children:"State"}),(0,o.jsxs)("select",{className:"form-select",children:[(0,o.jsx)("option",{selected:"",children:"--"}),(0,o.jsx)("option",{value:"1",children:"One"}),(0,o.jsx)("option",{value:"2",children:"Two"}),(0,o.jsx)("option",{value:"3",children:"Three"})]})]})}),(0,o.jsx)("div",{className:"col-sm-4",children:(0,o.jsxs)("div",{className:"form-group",children:[(0,o.jsx)("label",{className:"form-label",children:"Country"}),(0,o.jsxs)("select",{className:"form-select",children:[(0,o.jsx)("option",{selected:"",children:"--"}),(0,o.jsx)("option",{value:"1",children:"One"}),(0,o.jsx)("option",{value:"2",children:"Two"}),(0,o.jsx)("option",{value:"3",children:"Three"})]})]})})]}),(0,o.jsx)("div",{className:"title title-xs title-wth-divider text-primary text-uppercase my-4",children:(0,o.jsx)("span",{children:"Company Info"})}),(0,o.jsxs)("div",{className:"row gx-3",children:[(0,o.jsx)("div",{className:"col-sm-6",children:(0,o.jsxs)("div",{className:"form-group",children:[(0,o.jsx)("label",{className:"form-label",children:"Company Name"}),(0,o.jsx)("input",{className:"form-control",type:"text"})]})}),(0,o.jsx)("div",{className:"col-sm-6",children:(0,o.jsxs)("div",{className:"form-group",children:[(0,o.jsx)("label",{className:"form-label",children:"Designation"}),(0,o.jsx)("input",{className:"form-control",type:"text"})]})}),(0,o.jsx)("div",{className:"col-sm-6",children:(0,o.jsxs)("div",{className:"form-group",children:[(0,o.jsx)("label",{className:"form-label",children:"Website"}),(0,o.jsx)("input",{className:"form-control",type:"text"})]})}),(0,o.jsx)("div",{className:"col-sm-6",children:(0,o.jsxs)("div",{className:"form-group",children:[(0,o.jsx)("label",{className:"form-label",children:"Work Phone"}),(0,o.jsx)("input",{className:"form-control",type:"text"})]})})]}),(0,o.jsx)("div",{className:"title title-xs title-wth-divider text-primary text-uppercase my-4",children:(0,o.jsx)("span",{children:"Additional Info"})}),(0,o.jsx)("div",{className:"row gx-3",children:(0,o.jsx)("div",{className:"col-sm-12",children:(0,o.jsxs)("div",{className:"form-group",children:[(0,o.jsx)("label",{className:"form-label",children:"Tags"}),(0,o.jsx)("select",{id:"input_tags_2",className:"form-control",multiple:"multiple"}),(0,o.jsx)("small",{className:"form-text text-muted",children:"You can add upto 4 tags per contact"})]})})}),(0,o.jsxs)("div",{className:"row gx-3",children:[(0,o.jsx)("div",{className:"col-sm-6",children:(0,o.jsx)("div",{className:"form-group",children:(0,o.jsx)("input",{className:"form-control",type:"text",placeholder:"Facebook"})})}),(0,o.jsx)("div",{className:"col-sm-6",children:(0,o.jsx)("div",{className:"form-group",children:(0,o.jsx)("input",{className:"form-control",type:"text",placeholder:"Twitter"})})}),(0,o.jsx)("div",{className:"col-sm-6",children:(0,o.jsx)("div",{className:"form-group",children:(0,o.jsx)("input",{className:"form-control",type:"text",placeholder:"LinkedIn"})})}),(0,o.jsx)("div",{className:"col-sm-6",children:(0,o.jsx)("div",{className:"form-group",children:(0,o.jsx)("input",{className:"form-control",type:"text",placeholder:"Gmail"})})})]})]})]}),(0,o.jsxs)("div",{className:"modal-footer align-items-center",children:[(0,o.jsx)("button",{type:"button",className:"btn btn-secondary","data-bs-dismiss":"modal",children:"Discard"}),(0,o.jsx)("button",{type:"button",className:"btn btn-primary","data-bs-dismiss":"modal",children:"Create Contact"})]})]})})}),(0,o.jsx)("div",{id:"add_new_label",className:"modal fade",tabindex:"-1",role:"dialog","aria-hidden":"true",children:(0,o.jsx)("div",{className:"modal-dialog modal-dialog-centered modal-sm",role:"document",children:(0,o.jsx)("div",{className:"modal-content",children:(0,o.jsxs)("div",{className:"modal-body",children:[(0,o.jsx)("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close",children:(0,o.jsx)("span",{"aria-hidden":"true",children:"\xd7"})}),(0,o.jsx)("h6",{className:"text-uppercase fw-bold mb-3",children:"Add Label"}),(0,o.jsxs)("form",{children:[(0,o.jsx)("div",{className:"row gx-3",children:(0,o.jsx)("div",{className:"col-sm-12",children:(0,o.jsx)("div",{className:"form-group",children:(0,o.jsx)("input",{className:"form-control",type:"text",placeholder:"Label Name"})})})}),(0,o.jsx)("button",{type:"button",className:"btn btn-primary float-end","data-bs-dismiss":"modal",children:"Add"})]})]})})})}),(0,o.jsx)("div",{id:"add_new_tag",className:"modal fade",tabindex:"-1",role:"dialog","aria-hidden":"true",children:(0,o.jsx)("div",{className:"modal-dialog modal-dialog-centered modal-sm",role:"document",children:(0,o.jsx)("div",{className:"modal-content",children:(0,o.jsxs)("div",{className:"modal-body",children:[(0,o.jsx)("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close",children:(0,o.jsx)("span",{"aria-hidden":"true",children:"\xd7"})}),(0,o.jsx)("h6",{className:"text-uppercase fw-bold mb-3",children:"Add Tag"}),(0,o.jsxs)("form",{children:[(0,o.jsx)("div",{className:"row gx-3",children:(0,o.jsx)("div",{className:"col-sm-12",children:(0,o.jsx)("div",{className:"form-group",children:(0,o.jsxs)("select",{id:"input_tags_3",className:"form-control",multiple:"multiple",children:[(0,o.jsx)("option",{selected:"selected",children:"Collaborator"}),(0,o.jsx)("option",{selected:"selected",children:"Designer"}),(0,o.jsx)("option",{selected:"selected",children:"React Developer"}),(0,o.jsx)("option",{selected:"selected",children:"Promotion"}),(0,o.jsx)("option",{selected:"selected",children:"Advertisement"})]})})})}),(0,o.jsx)("button",{type:"button",className:"btn btn-primary float-end","data-bs-dismiss":"modal",children:"Add"})]})]})})})})]})},R=e=>{var a,s,t,n;let{token:d,dispatch:r,boards:c}=e;const{handleSubmit:h,watch:u,control:v,setValue:p,formState:{errors:b}}=(0,x.cI)({}),{contactsToModify:j}=(0,l.useContext)(i.J),[g,N]=(0,l.useState)([]),y=u("pipeline"),w=u("pipeline_stage");console.log("\ud83d\ude80 ~ EditBulkContact ~ pipelineWatcher:",y),(0,l.useEffect)((()=>{if(void 0!==y&&(null===j||void 0===j?void 0:j.length)>0){const e=[];null===j||void 0===j||j.map((a=>null===e||void 0===e?void 0:e.push({...a,board_id:null===y||void 0===y?void 0:y.value}))),console.log(e),N(e)}}),[y,j]);return(0,o.jsx)("div",{children:(null===j||void 0===j?void 0:j.length)>0?(0,o.jsxs)("form",{onSubmit:h((e=>{const a={updates:g,modify_key:"board_id",board_status:null===w||void 0===w?void 0:w.value};r((0,m.f_)(d,a))})),children:[(0,o.jsx)("div",{className:"alert alert-primary",children:"Add To Pipeline"}),(0,o.jsx)("div",{className:"col",children:(0,o.jsx)(f.Z,{name:"pipeline",placeholder:"Select pipeline ",label:"Pipeline",control:v,rules:{required:{value:!0,message:"Field required!"}},options:(null===c||void 0===c?void 0:c.length)>0?null===c||void 0===c?void 0:c.map((e=>({label:null===e||void 0===e?void 0:e.name,value:null===e||void 0===e?void 0:e.id,...e}))):[],errors:b})}),(0,o.jsx)("div",{className:"col",children:(0,o.jsx)(f.Z,{name:"pipeline_stage",placeholder:"Select pipeline ",label:"Pipeline Stage",control:v,rules:{required:{value:!0,message:"Field required!"}},options:null!==y&&void 0!==y&&y.pipeline_status_array&&(null===(a=JSON.parse(null===y||void 0===y?void 0:y.pipeline_status_array))||void 0===a||null===(s=a.status_array)||void 0===s?void 0:s.length)>0?null===(t=JSON.parse(null===y||void 0===y?void 0:y.pipeline_status_array))||void 0===t||null===(n=t.status_array)||void 0===n?void 0:n.map((e=>({label:null===e||void 0===e?void 0:e.stage,value:null===e||void 0===e?void 0:e.stage}))):[],errors:b})}),(0,o.jsxs)("div",{className:"modal-footer align-items-center",children:[(0,o.jsx)("button",{type:"button",className:"btn btn-secondary","data-bs-dismiss":"modal",children:"Discard"}),(0,o.jsx)("button",{type:"submit",className:"btn btn-primary",children:"Submit"})]})]}):(0,o.jsx)("div",{className:"alert alert-warning",children:"Please select at least one contact."})})};s(31445);const U=e=>{let{dispatch:a,token:s,authUser:t}=e;const{handleSubmit:n,watch:d,control:r,setValue:c,formState:{errors:m}}=(0,x.cI)({}),{contactsToModify:h}=(0,l.useContext)(i.J),u=d("sms_body");(0,l.useEffect)((()=>{void 0!==u&&(null===h||void 0===h||h.length)}),[u,h]);return(0,o.jsx)("div",{children:(null===h||void 0===h?void 0:h.length)>0?(0,o.jsxs)("form",{onSubmit:n((e=>{const l={from:{phone:t.phone,name:t.name,avatar:t.avatar,socket_id:t.socket_id,accountSid:null===t||void 0===t?void 0:t.accountSid,authToken:null===t||void 0===t?void 0:t.authToken},to:h,message:null===e||void 0===e?void 0:e.sms_body};a((0,P.X4)(s,l))})),children:[(0,o.jsx)("div",{className:"alert alert-primary",children:"Send SMS Bulk"}),(0,o.jsx)("div",{className:"col",children:(0,o.jsx)(k.Z,{name:"sms_body",placeholder:"SMS body",control:r,errors:m,rows:"5"})}),(0,o.jsxs)("div",{className:"modal-footer align-items-center",children:[(0,o.jsx)("button",{type:"button",className:"btn btn-secondary","data-bs-dismiss":"modal",children:"Discard"}),(0,o.jsx)("button",{type:"submit",className:"btn btn-primary",children:"Submit"})]})]}):(0,o.jsx)("div",{className:"alert alert-warning",children:"Please select at least one contact."})})};var M=s(1025),V=s.n(M);const O=e=>{let{token:a,dispatch:s,authUser:t}=e;const{handleSubmit:n,watch:d,control:r,setValue:c,formState:{errors:h}}=(0,x.cI)({}),{contactsToModify:u}=(0,l.useContext)(i.J),[v,b]=(0,l.useState)([]),[j,g]=(0,l.useState)(null);return(0,o.jsx)("div",{children:(0,o.jsxs)("form",{onSubmit:n((()=>{if(!((null===v||void 0===v?void 0:v.length)>0))return p.Am.error("There is no contacts in the list.");s((0,m.Q5)(a,{contactsArray:v,user_id:t.id}))})),children:[(0,o.jsx)("div",{className:"alert alert-primary text-center",children:"Upload CSV file of contacts"}),(0,o.jsxs)("div",{className:"m-5",children:[(0,o.jsx)("div",{class:"mb-4 d-flex justify-content-center p-5 border border-primary border-2 rounded-5",children:(0,o.jsxs)("div",{className:"text-center",children:[null!==j?(0,o.jsx)("p",{children:j.name}):(0,o.jsx)("img",{id:"selectedImage",src:"https://cdn.pixabay.com/photo/2016/01/03/00/43/upload-1118928_960_720.png",alt:"example placeholder",style:{width:"50px"}}),(0,o.jsx)("br",{}),(0,o.jsx)("br",{}),(0,o.jsx)("span",{children:"Upload CSV file"})]})}),(0,o.jsx)("div",{class:"d-flex justify-content-center",style:{marginTop:"-20%"},children:(0,o.jsxs)("div",{class:"btn btn-primary btn-rounded ",style:{cursor:"pointer"},children:[(0,o.jsx)("label",{class:"form-label text-white m-1",for:"customFile1",children:"Choose file"}),(0,o.jsx)("input",{type:"file",class:"form-control d-none",id:"customFile1",onChange:e=>{const a=e.currentTarget.files[0];if("text/csv"!==a.type)return p.Am.error("Please select a CSV file.");g(a),V().parse(a,{header:!0,complete:e=>{console.log("\ud83d\ude80 ~ handleFileChange ~ results:",e.data.length),e.data.length>100?b(e.data.slice(0,100)):b(e.data)},error:e=>{console.error("Error parsing CSV file:",e)}})}})]})})]}),(0,o.jsxs)("div",{className:"modal-footer align-items-center",children:[(0,o.jsx)("button",{type:"button",className:"btn btn-secondary","data-bs-dismiss":"modal",children:"Discard"}),(0,o.jsx)("button",{type:"submit",className:"btn btn-primary",children:"Submit"})]})]})})};var q=s(61275);const z=()=>{const{showLeadDetails:e}=(0,l.useContext)(i.J),a=(0,d.I0)(),{token:s,user:t,user_id:n}=(0,d.v9)((e=>e.auth)),{contactDetails:m}=(0,d.v9)((e=>e.contact)),{bundles:h}=(0,d.v9)((e=>e.bundle)),[u,v]=(0,l.useState)([]),[x,p]=(0,l.useState)([]),[b,j]=(0,l.useState)(!1),[N,f]=(0,l.useState)("list"),{boards:y}=(0,d.v9)((e=>e.board));(0,l.useEffect)((()=>{a(_(s,n))}),[a,s,n]),(0,l.useEffect)((()=>{v(h),p(h)}),[h]);const w=e=>{};return(0,o.jsx)("div",{className:"hk-pg-wrapper pb-0",children:(0,o.jsx)("div",{className:"hk-pg-body py-0",children:(0,o.jsx)("div",{className:"contactapp-wrap",children:(0,o.jsxs)("div",{className:"contactapp-content",children:[(0,o.jsx)(r,{onSendData:e=>{v(e)},onToggleEdit:w}),e&&(0,o.jsx)(L,{isEdit:b,contactDetails:m,dispatch:a,token:s,authUser:t}),!e&&(0,o.jsxs)("div",{className:"contactapp-detail-wrap",children:[(0,o.jsx)(c,{onDataFromChild:e=>{f(e)},activeBar:N}),(0,o.jsx)("div",{className:"contact-body",style:{height:"100vh",overflow:"scroll"},children:(0,o.jsxs)("div",{className:"nicescroll-bar",children:[(0,o.jsx)(g,{data:u,onToggleEdit:w,isEdit:b}),(0,o.jsx)("div",{children:(0,o.jsx)(q.Z,{itemsPerPage:20,dataFromChild:e=>{console.log("\ud83d\ude80 ~ handleDataFromPagination ~ data:",e),v(e)},items:x})})]})})]}),(0,o.jsx)("div",{id:"add_new_bundle",className:"modal fade add-new-contact",tabIndex:"-1",role:"dialog","aria-hidden":"true",children:(0,o.jsx)("div",{className:"modal-dialog modal-dialog-centered modal-lg",role:"document",children:(0,o.jsxs)("div",{className:"modal-content",children:[(0,o.jsxs)("div",{className:"modal-header bg-primary",children:[(0,o.jsx)("span",{style:{color:"white",fontWeight:"bold"},children:"Create Regulatory Bundle"}),(0,o.jsx)("button",{type:"button",className:"btn-close btn-light","data-bs-dismiss":"modal","aria-label":"Close",children:(0,o.jsx)("span",{"aria-hidden":"true",children:"\xd7"})})]}),(0,o.jsx)("div",{className:"modal-body",children:(0,o.jsx)(S,{})})]})})}),(0,o.jsx)("div",{id:"edit-bulk-contact",className:"modal fade add-new-contact",tabIndex:"-1",role:"dialog","aria-hidden":"true",children:(0,o.jsx)("div",{className:"modal-dialog modal-dialog-centered modal-md",role:"document",children:(0,o.jsxs)("div",{className:"modal-content",children:[(0,o.jsxs)("div",{className:"modal-header bg-primary",children:[(0,o.jsx)("span",{style:{color:"white",fontWeight:"bold"},children:"Bulk Action"}),(0,o.jsx)("button",{type:"button",className:"btn-close btn-light","data-bs-dismiss":"modal","aria-label":"Close",children:(0,o.jsx)("span",{"aria-hidden":"true",children:"\xd7"})})]}),(0,o.jsx)("div",{className:"modal-body",children:(0,o.jsx)(R,{dispatch:a,token:s,boards:y})})]})})}),(0,o.jsx)("div",{id:"send-sms-bulk",className:"modal fade add-new-contact",tabIndex:"-1",role:"dialog","aria-hidden":"true",children:(0,o.jsx)("div",{className:"modal-dialog modal-dialog-centered modal-md",role:"document",children:(0,o.jsxs)("div",{className:"modal-content",children:[(0,o.jsxs)("div",{className:"modal-header bg-primary",children:[(0,o.jsx)("span",{style:{color:"white",fontWeight:"bold"},children:"Bulk Action"}),(0,o.jsx)("button",{type:"button",className:"btn-close btn-light","data-bs-dismiss":"modal","aria-label":"Close",children:(0,o.jsx)("span",{"aria-hidden":"true",children:"\xd7"})})]}),(0,o.jsx)("div",{className:"modal-body",children:(0,o.jsx)(U,{dispatch:a,token:s,boards:y,authUser:t})})]})})}),(0,o.jsx)("div",{id:"upload_contact_csv",className:"modal fade add-new-contact",tabIndex:"-1",role:"dialog","aria-hidden":"true",children:(0,o.jsx)("div",{className:"modal-dialog modal-dialog-centered modal-md",role:"document",children:(0,o.jsxs)("div",{className:"modal-content",children:[(0,o.jsxs)("div",{className:"modal-header bg-primary",children:[(0,o.jsx)("span",{style:{color:"white",fontWeight:"bold"},children:"Bulk Action"}),(0,o.jsx)("button",{type:"button",className:"btn-close btn-light","data-bs-dismiss":"modal","aria-label":"Close",children:(0,o.jsx)("span",{"aria-hidden":"true",children:"\xd7"})})]}),(0,o.jsx)("div",{className:"modal-body",children:(0,o.jsx)(O,{dispatch:a,token:s,boards:y,authUser:t})})]})})})]})})})})},H=()=>(0,o.jsx)(t.Z,{component:(0,o.jsx)(z,{})})}}]);
//# sourceMappingURL=7702.ebc9ba0d.chunk.js.map