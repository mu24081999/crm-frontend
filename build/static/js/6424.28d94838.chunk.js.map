{"version":3,"file":"static/js/6424.28d94838.chunk.js","mappings":"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","sources":["redux/services/gallery.js","views/Gallery/components/Sidebar.js","views/Gallery/components/Header.js","../node_modules/react-photo-view/src/hooks/useMethods.ts","../node_modules/react-photo-view/src/hooks/useSetState.ts","../node_modules/react-photo-view/src/photo-context.ts","../node_modules/react-photo-view/src/utils/isTouchDevice.ts","../node_modules/react-photo-view/src/utils/limitTarget.ts","../node_modules/react-photo-view/src/variables.ts","../node_modules/react-photo-view/src/hooks/useIsomorphicLayoutEffect.ts","../node_modules/react-photo-view/src/hooks/useEventListener.ts","../node_modules/react-photo-view/src/components/SlidePortal.tsx","../node_modules/react-photo-view/src/components/CloseIcon.tsx","../node_modules/react-photo-view/src/components/ArrowLeft.tsx","../node_modules/react-photo-view/src/components/ArrowRight.tsx","../node_modules/react-photo-view/src/components/PreventScroll.tsx","../node_modules/react-photo-view/src/utils/getMultipleTouchPosition.ts","../node_modules/react-photo-view/src/utils/edgeHandle.ts","../node_modules/react-photo-view/src/utils/getPositionOnMoveOrScale.ts","../node_modules/react-photo-view/src/utils/getRotateSize.ts","../node_modules/react-photo-view/src/utils/getSuitableImageSize.ts","../node_modules/react-photo-view/src/hooks/useDebounceCallback.ts","../node_modules/react-photo-view/src/hooks/useScrollPosition.ts","../node_modules/react-photo-view/src/hooks/useAnimationOrigin.tsx","../node_modules/react-photo-view/src/hooks/useMountedRef.ts","../node_modules/react-photo-view/src/components/Spinner.tsx","../node_modules/react-photo-view/src/Photo.tsx","../node_modules/react-photo-view/src/PhotoBox.tsx","../node_modules/react-photo-view/src/hooks/useContinuousTap.ts","../node_modules/react-photo-view/src/hooks/useAnimationPosition.ts","../node_modules/react-photo-view/src/hooks/useTargetScale.ts","../node_modules/react-photo-view/src/PhotoSlider.tsx","../node_modules/react-photo-view/src/hooks/useAnimationVisible.tsx","../node_modules/react-photo-view/src/hooks/useForkedVariable.ts","../node_modules/react-photo-view/src/hooks/useAdjacentImages.ts","../node_modules/react-photo-view/src/PhotoProvider.tsx","../node_modules/react-photo-view/src/PhotoView.tsx","../node_modules/react-photo-view/src/hooks/useInitial.ts","views/Gallery/components/Files.js","views/Gallery/GalleryContent.js","views/Gallery/Gallery.js"],"sourcesContent":["// authActions.js\nimport axios from \"axios\";\nimport {\n  invalidRequest,\n  galleryRequestLoading,\n  fileDetails,\n  addFile,\n  getAllFiles,\n  deleteFile,\n} from \"../slices/gallery\";\nimport { toast } from \"react-toastify\";\nconst backendURL = `${process.env.REACT_APP_BACKEND_URL_PRODUCTION}`;\n\nexport const storeFile = (token, data) => async (dispatch) => {\n  console.log(\"🚀 ~ storeFile ~ data:\", data);\n  try {\n    dispatch(galleryRequestLoading());\n    const config = {\n      headers: {\n        \"Content-Type\": \"multipart/form-data\",\n        \"x-access-token\": token,\n      },\n    };\n    await axios\n      .post(`${backendURL}/user/gallery/post-file`, data, config)\n      .then((response) => {\n        if (response?.data?.statusCode !== 200) {\n          toast.error(response.data.message);\n          return dispatch(invalidRequest(response.data.message));\n        }\n        dispatch(addFile(response.data.message));\n        toast.success(response.data.message);\n        dispatch(getFileList(token));\n      });\n  } catch (e) {\n    dispatch(invalidRequest(e.message));\n  }\n};\nexport const getFileList = (token) => async (dispatch) => {\n  try {\n    dispatch(galleryRequestLoading());\n    const config = {\n      headers: {\n        \"Content-Type\": \"application/json\",\n        \"x-access-token\": token,\n      },\n    };\n    await axios\n      .get(`${backendURL}/user/gallery/get-files`, config)\n      .then((response) => {\n        console.log(\"🚀 ~ .then ~ response:\", response);\n        if (response?.data?.statusCode !== 200) {\n          toast.error(response.data.message);\n          return dispatch(invalidRequest(response.data.message));\n        }\n        dispatch(getAllFiles(response.data.data.galleryData));\n      });\n  } catch (e) {\n    dispatch(invalidRequest(e.message));\n  }\n};\nexport const getFileDetails = (token, file_id) => async (dispatch) => {\n  try {\n    dispatch(galleryRequestLoading());\n    const config = {\n      headers: {\n        \"Content-Type\": \"application/json\",\n        \"x-access-token\": token,\n      },\n    };\n    await axios\n      .get(`${backendURL}/user/gallery/file-details/${file_id}`, config)\n      .then((response) => {\n        console.log(\"🚀 ~ .then ~ response:\", response);\n        if (response?.data?.statusCode !== 200) {\n          toast.error(response.data.message);\n          return dispatch(invalidRequest(response.data.message));\n        }\n        dispatch(fileDetails(response.data.data.galleryData));\n      });\n  } catch (e) {\n    dispatch(invalidRequest(e.message));\n  }\n};\nexport const deleteFileRec =\n  (token, file_id, user_name) => async (dispatch) => {\n    try {\n      dispatch(galleryRequestLoading());\n      const config = {\n        headers: {\n          \"Content-Type\": \"application/json\",\n          \"x-access-token\": token,\n        },\n      };\n      await axios\n        .delete(\n          `${backendURL}/user/gallery/delete-file/${file_id}/${user_name}`,\n          config\n        )\n        .then((response) => {\n          console.log(\"🚀 ~ .then ~ response:\", response);\n          if (response?.data?.statusCode !== 200) {\n            toast.error(response.data.message);\n            return dispatch(invalidRequest(response.data.message));\n          }\n          dispatch(deleteFile(response.data.message));\n          dispatch(getFileList(token));\n          toast.success(response.data.message);\n        });\n    } catch (e) {\n      dispatch(invalidRequest(e.message));\n    }\n  };\n","import React from \"react\";\nimport { storeFile } from \"../../../redux/services/gallery\";\n\nconst Sidebar = ({ dispatch, token, authUser }) => {\n  const handleFileOnChange = (file) => {\n    console.log(\"🚀 ~ handleFileOnChange ~ file:\", file.currentTarget.files);\n    const formData = new FormData();\n    // Loop through each file and append it to the FormData object\n    for (let i = 0; i < file.target.files.length; i++) {\n      formData.append(\"files\", file.target.files[i]);\n    }\n    formData.append(\"user_id\", authUser.id);\n    formData.append(\"user_name\", authUser.name);\n    dispatch(storeFile(token, formData));\n    return {};\n  };\n  return (\n    <nav className=\"galleryapp-sidebar\">\n      <div data-simplebar className=\"nicescroll-bar\">\n        <div className=\"menu-content-wrap\">\n          <div className=\"btn btn-primary btn-rounded btn-block btn-file mb-4\">\n            Upload Images\n            <input\n              type=\"file\"\n              className=\"upload\"\n              onChange={handleFileOnChange}\n            />\n          </div>\n          {/* <div className=\"menu-group\">\n            <ul className=\"nav nav-light navbar-nav flex-column\">\n              <li className=\"nav-item active\">\n                <a className=\"nav-link\" href=\"/\">\n                  <span className=\"nav-icon-wrap\">\n                    <span className=\"feather-icon\">\n                      <i data-feather=\"hard-drive\"></i>\n                    </span>\n                  </span>\n                  <span className=\"nav-link-text\">Gallery</span>\n                </a>\n              </li>\n              <li className=\"nav-item\">\n                <a className=\"nav-link\" href=\"/\">\n                  <span className=\"nav-icon-wrap\">\n                    <span className=\"feather-icon\">\n                      <i data-feather=\"folder\"></i>\n                    </span>\n                  </span>\n                  <span className=\"nav-link-text\">Collections</span>\n                </a>\n              </li>\n              <li className=\"nav-item\">\n                <a className=\"nav-link\" href=\"/\">\n                  <span className=\"nav-icon-wrap\">\n                    <span className=\"feather-icon\">\n                      <i data-feather=\"upload\"></i>\n                    </span>\n                  </span>\n                  <span className=\"nav-link-text\">Shared with me</span>\n                </a>\n              </li>\n              <li className=\"nav-item\">\n                <a className=\"nav-link\" href=\"/\">\n                  <span className=\"nav-icon-wrap\">\n                    <span className=\"feather-icon\">\n                      <i data-feather=\"star\"></i>\n                    </span>\n                  </span>\n                  <span className=\"nav-link-text\">Favorite</span>\n                </a>\n              </li>\n              <li className=\"nav-item\">\n                <a className=\"nav-link\" href=\"/\">\n                  <span className=\"nav-icon-wrap\">\n                    <span className=\"feather-icon\">\n                      <i data-feather=\"trash-2\"></i>\n                    </span>\n                  </span>\n                  <span className=\"nav-link-text\">Trash</span>\n                </a>\n              </li>\n            </ul>\n          </div>\n          <div className=\"separator separator-light\"></div>\n          <div className=\"d-flex align-items-center justify-content-between mb-2\">\n            <div className=\"title-sm text-primary mb-0\">Categories</div>\n            <a\n              href=\"/\"\n              className=\"btn btn-xs btn-icon btn-rounded btn-light\"\n              data-bs-toggle=\"modal\"\n              data-bs-target=\"#add_new_cat\"\n            >\n              <span\n                className=\"icon\"\n                data-bs-toggle=\"tooltip\"\n                data-bs-placement=\"top\"\n                title=\"\"\n                data-bs-original-title=\"Add Category\"\n              >\n                <span className=\"feather-icon\">\n                  <i data-feather=\"plus\"></i>\n                </span>\n              </span>\n            </a>\n          </div>\n          <div className=\"menu-group\">\n            <ul className=\"nav nav-light navbar-nav flex-column\">\n              <li className=\"nav-item\">\n                <a className=\"nav-link\" href=\"/\">\n                  <span className=\"nav-link-text\">Images</span>\n                </a>\n              </li>\n              <li className=\"nav-item\">\n                <a className=\"nav-link\" href=\"/\">\n                  <span className=\"nav-link-text\">Videos</span>\n                </a>\n              </li>\n              <li className=\"nav-item\">\n                <a className=\"nav-link\" href=\"/\">\n                  <span className=\"nav-link-text\">Audio</span>\n                </a>\n              </li>\n            </ul>\n          </div> */}\n        </div>\n      </div>\n      {/* <!--Sidebar Fixnav--> */}\n      <div className=\"galleryapp-fixednav\">\n        <div className=\"hk-toolbar\">\n          <ul className=\"nav nav-light\">\n            <li className=\"nav-item nav-link\">\n              <a\n                className=\"btn btn-icon btn-flush-dark btn-rounded flush-soft-hover\"\n                data-bs-toggle=\"tooltip\"\n                data-bs-placement=\"top\"\n                title=\"\"\n                data-bs-original-title=\"Settings\"\n                href=\"/\"\n              >\n                <span className=\"icon\">\n                  <span className=\"feather-icon\">\n                    <i data-feather=\"settings\"></i>\n                  </span>\n                </span>\n              </a>\n            </li>\n            <li className=\"nav-item nav-link\">\n              <a\n                href=\"/\"\n                className=\"btn btn-icon btn-rounded btn-flush-dark flush-soft-hover\"\n                data-bs-toggle=\"tooltip\"\n                data-bs-placement=\"top\"\n                title=\"\"\n                data-bs-original-title=\"Archive\"\n              >\n                <span className=\"icon\">\n                  <span className=\"feather-icon\">\n                    <i data-feather=\"archive\"></i>\n                  </span>\n                </span>\n              </a>\n            </li>\n            <li className=\"nav-item nav-link\">\n              <a\n                href=\"/\"\n                className=\"btn btn-icon btn-rounded btn-flush-dark flush-soft-hover\"\n                data-bs-toggle=\"tooltip\"\n                data-bs-placement=\"top\"\n                title=\"\"\n                data-bs-original-title=\"Help\"\n              >\n                <span className=\"icon\">\n                  <span className=\"feather-icon\">\n                    <i data-feather=\"book\"></i>\n                  </span>\n                </span>\n              </a>\n            </li>\n          </ul>\n        </div>\n      </div>\n      {/* <!--/ Sidebar Fixnav--> */}\n    </nav>\n  );\n};\n\nexport default Sidebar;\n","import React from \"react\";\n\nconst Header = () => {\n  return (\n    <header className=\"gallery-header\">\n      <div className=\"d-flex align-items-center flex-grow-1\">\n        <a\n          className=\"galleryapp-title dropdown-toggle link-dark\"\n          data-bs-toggle=\"dropdown\"\n          href=\"/\"\n          role=\"button\"\n          aria-haspopup=\"true\"\n          aria-expanded=\"false\"\n        >\n          <h1>Media Gallery</h1>\n        </a>\n        <div className=\"dropdown-menu\">\n          <a className=\"dropdown-item\" href=\"/\">\n            <span className=\"feather-icon dropdown-icon\">\n              <i data-feather=\"hard-drive\"></i>\n            </span>\n            <span>Gallery</span>\n          </a>\n          <a className=\"dropdown-item\" href=\"/\">\n            <span className=\"feather-icon dropdown-icon\">\n              <i data-feather=\"folder\"></i>\n            </span>\n            <span>Collections</span>\n          </a>\n          <a className=\"dropdown-item\" href=\"/\">\n            <span className=\"feather-icon dropdown-icon\">\n              <i data-feather=\"upload\"></i>\n            </span>\n            <span>Shared with me</span>\n          </a>\n          <a className=\"dropdown-item\" href=\"/\">\n            <span className=\"feather-icon dropdown-icon\">\n              <i data-feather=\"star\"></i>\n            </span>\n            <span>Favorite</span>\n          </a>\n        </div>\n        <form className=\"mx-3 flex-grow-1 mw-400p\" role=\"search\">\n          <input\n            type=\"text\"\n            className=\"form-control\"\n            placeholder=\"Search media by Name\"\n          />\n        </form>\n      </div>\n      <div className=\"gallery-options-wrap\">\n        <a\n          className=\"btn btn-icon btn-flush-dark btn-rounded flush-soft-hover btn-file-download disabled d-xl-inline-block d-none\"\n          href=\"/\"\n        >\n          <span className=\"icon\">\n            <span className=\"feather-icon\">\n              <i data-feather=\"download\"></i>\n            </span>\n          </span>\n        </a>\n        <div className=\"v-separator d-xl-inline-block d-none\"></div>\n        <a\n          className=\"btn btn-icon btn-flush-dark btn-rounded flush-soft-hover ms-0 d-xl-inline-block d-none\"\n          href=\"/\"\n          data-bs-toggle=\"tooltip\"\n          data-bs-placement=\"top\"\n          title=\"\"\n          data-bs-original-title=\"Add New Folder\"\n        >\n          <span className=\"icon\">\n            <span className=\"feather-icon\">\n              <i data-feather=\"folder-plus\"></i>\n            </span>\n          </span>\n        </a>\n        <a\n          className=\"btn btn-icon btn-flush-dark btn-rounded btn-file flush-soft-hover  d-md-inline-block d-none\"\n          href=\"/\"\n          data-bs-toggle=\"tooltip\"\n          data-bs-placement=\"top\"\n          title=\"\"\n          data-bs-original-title=\"Upload\"\n        >\n          <span className=\"icon\">\n            <span className=\"feather-icon\">\n              <i data-feather=\"upload-cloud\"></i>\n            </span>\n          </span>\n        </a>\n        <div className=\"v-separator d-lg-inline-block d-none\"></div>\n        <a\n          className=\"btn btn-icon btn-flush-dark flush-soft-hover dropdown-toggle no-caret active ms-lg-0 d-sm-inline-block d-none\"\n          href=\"/\"\n          data-bs-toggle=\"dropdown\"\n        >\n          <span className=\"icon\">\n            <span className=\"feather-icon\">\n              <i data-feather=\"list\"></i>\n            </span>\n          </span>\n        </a>\n        <div className=\"dropdown-menu dropdown-menu-right\">\n          <a className=\"dropdown-item active\" href=\"file-manager-list.html\">\n            <span className=\"feather-icon dropdown-icon\">\n              <i data-feather=\"list\"></i>\n            </span>\n            <span>List View</span>\n          </a>\n          <a className=\"dropdown-item\" href=\"file-manager-grid.html\">\n            <span className=\"feather-icon dropdown-icon\">\n              <i data-feather=\"grid\"></i>\n            </span>\n            <span>Grid View</span>\n          </a>\n          <a className=\"dropdown-item\" href=\"/\">\n            <span className=\"feather-icon dropdown-icon\">\n              <i data-feather=\"server\"></i>\n            </span>\n            <span>Compact View</span>\n          </a>\n        </div>\n        <a\n          className=\"btn btn-icon btn-flush-dark btn-rounded flush-soft-hover hk-navbar-togglable\"\n          href=\"/\"\n          data-bs-toggle=\"tooltip\"\n          data-bs-placement=\"top\"\n          title=\"\"\n          data-bs-original-title=\"Collapse\"\n        >\n          <span className=\"icon\">\n            <span className=\"feather-icon\">\n              <i data-feather=\"chevron-up\"></i>\n            </span>\n            <span className=\"feather-icon d-none\">\n              <i data-feather=\"chevron-down\"></i>\n            </span>\n          </span>\n        </a>\n      </div>\n      <div className=\"hk-sidebar-togglable\"></div>\n    </header>\n  );\n};\n\nexport default Header;\n","import { useRef } from 'react';\n\n/**\n * Hook of persistent methods\n */\nexport default function useMethods<T extends Record<string, (...args: any[]) => any>>(fn: T) {\n  const { current } = useRef({\n    fn,\n    curr: undefined as T | undefined,\n  });\n  current.fn = fn;\n\n  if (!current.curr) {\n    const curr = Object.create(null);\n    Object.keys(fn).forEach((key) => {\n      curr[key] = (...args: unknown[]) => current.fn[key].call(current.fn, ...args);\n    });\n    current.curr = curr;\n  }\n\n  return current.curr as T;\n}\n","import { useReducer } from 'react';\n\nexport default function useSetState<S extends Record<string, any>>(initialState: S) {\n  return useReducer(\n    (state: S, action: Partial<S> | ((state: S) => Partial<S>)) => ({\n      ...state,\n      ...(typeof action === 'function' ? action(state) : action),\n    }),\n    initialState,\n  );\n}\n","import { createContext } from 'react';\nimport type { DataType } from './types';\n\nexport type UpdateItemType = (dataType: DataType) => void;\n\nexport interface PhotoContextType {\n  show: (key: number) => void;\n  update: UpdateItemType;\n  remove: (key: number) => void;\n  nextId: () => number;\n}\n\nexport default createContext<PhotoContextType>(undefined as unknown as PhotoContextType);\n","/**\n * 是否支持触摸设备\n */\nconst isTouchDevice = typeof window !== 'undefined' && 'ontouchstart' in window;\n\nexport default isTouchDevice;\n","import { maxScale, minScale } from '../variables';\n\nexport const limitNumber = (value: number, min: number, max: number) => {\n  return Math.max(Math.min(value, max), min);\n};\n\n/**\n * 限制最大/最小缩放\n */\nexport const limitScale = (scale: number, max: number = 0, buffer: number = 0) => {\n  return limitNumber(scale, minScale * (1 - buffer), Math.max(maxScale, max) * (1 + buffer));\n};\n","/**\n * 最大触摸时间\n */\nexport const maxTouchTime = 200;\n\n/**\n * 默认动画速度\n */\nexport const defaultSpeed = 400;\n\n/**\n * 默认动画函数\n */\nexport const defaultEasing = 'cubic-bezier(0.25, 0.8, 0.25, 1)';\n\n/**\n * 最大滑动切换图片距离\n */\nexport const maxMoveOffset = 40;\n\n/**\n * 图片的间隔\n */\nexport const horizontalOffset = 20;\n\n/**\n * 最小初始响应距离\n */\nexport const minStartTouchOffset = 20;\n\n/**\n * 默认背景透明度\n */\nexport const defaultOpacity = 1;\n\n/**\n * 最小缩放度\n */\nexport const minScale = 1;\n\n/**\n * 最大缩放度（若图片足够大，则会超出）\n */\nexport const maxScale = 6;\n\n/**\n * 最小长图模式比例\n */\nexport const longModeRatio = 3;\n\n/**\n * 缩放弹性缓冲\n */\nexport const scaleBuffer = 0.2;\n\n/**\n * 最大等待动画时间\n */\nexport const maxWaitAnimationTime = 250;\n","import { useEffect, useLayoutEffect } from 'react';\n\nconst isSSR = typeof window === 'undefined' || /ServerSideRendering/.test(navigator && navigator.userAgent);\n\nexport default isSSR ? useEffect : useLayoutEffect;\n","import { useEffect, useRef } from 'react';\n\nexport default function useEventListener<K extends keyof WindowEventMap>(\n  type: K | undefined,\n  fn: (evt: WindowEventMap[K]) => void,\n  options?: AddEventListenerOptions,\n) {\n  const latest = useRef(fn);\n  latest.current = fn;\n\n  useEffect(() => {\n    function wrapper(evt: WindowEventMap[K]) {\n      latest.current(evt);\n    }\n    if (type) {\n      window.addEventListener(type, wrapper, options);\n    }\n    return () => {\n      if (type) {\n        window.removeEventListener(type, wrapper);\n      }\n    };\n  }, [type]);\n}\n","import React from 'react';\nimport { createPortal } from 'react-dom';\nimport './SlidePortal.less';\n\nexport interface ISliderPortalProps extends React.HTMLAttributes<HTMLDivElement> {\n  container?: HTMLElement;\n}\n\nfunction SlidePortal({ container = document.body, ...rest }: ISliderPortalProps) {\n  return createPortal(<div {...rest} />, container);\n}\n\nexport default SlidePortal;\n","import React from 'react';\n\nfunction CloseIcon(props: React.HTMLAttributes<SVGElement>) {\n  return (\n    <svg width=\"44\" height=\"44\" viewBox=\"0 0 768 768\" {...props}>\n      <path d=\"M607.5 205.5l-178.5 178.5 178.5 178.5-45 45-178.5-178.5-178.5 178.5-45-45 178.5-178.5-178.5-178.5 45-45 178.5 178.5 178.5-178.5z\" />\n    </svg>\n  );\n}\n\nexport default CloseIcon;\n","import React from 'react';\n\nfunction ArrowLeft(props: React.HTMLAttributes<SVGElement>) {\n  return (\n    <svg width=\"44\" height=\"44\" viewBox=\"0 0 768 768\" {...props}>\n      <path d=\"M640.5 352.5v63h-390l178.5 180-45 45-256.5-256.5 256.5-256.5 45 45-178.5 180h390z\" />\n    </svg>\n  );\n}\n\nexport default ArrowLeft;\n","import React from 'react';\n\nfunction ArrowRight(props: React.HTMLAttributes<SVGElement>) {\n  return (\n    <svg width=\"44\" height=\"44\" viewBox=\"0 0 768 768\" {...props}>\n      <path d=\"M384 127.5l256.5 256.5-256.5 256.5-45-45 178.5-180h-390v-63h390l-178.5-180z\" />\n    </svg>\n  );\n}\n\nexport default ArrowRight;\n","import { useEffect } from 'react';\n\nexport default function PreventScroll() {\n  useEffect(() => {\n    const { style } = document.body;\n    const lastOverflow = style.overflow;\n    style.overflow = 'hidden';\n\n    return () => {\n      style.overflow = lastOverflow;\n    };\n  }, []);\n\n  return null;\n}\n","import type React from 'react';\n\n/**\n * 从 Touch 事件中获取两个触控中心位置\n */\nexport default function getMultipleTouchPosition(\n  evt: TouchEvent | React.TouchEvent,\n): [clientX: number, clientY: number, touchLength: number] {\n  const { clientX, clientY } = evt.touches[0];\n  if (evt.touches.length >= 2) {\n    const { clientX: nextClientX, clientY: nextClientY } = evt.touches[1];\n    return [\n      (clientX + nextClientX) / 2,\n      (clientY + nextClientY) / 2,\n      Math.sqrt((nextClientX - clientX) ** 2 + (nextClientY - clientY) ** 2),\n    ];\n  }\n  return [clientX, clientY, 0];\n}\n","import type { CloseEdgeType } from '../types';\nimport type { ReachType, TouchStartType } from '../types';\n\n/**\n * 获取接触边缘类型\n */\nexport const getReachType = (\n  initialTouchState: TouchStartType,\n  horizontalCloseEdge: CloseEdgeType,\n  verticalCloseEdge: CloseEdgeType,\n  reachPosition: ReachType,\n): ReachType => {\n  if ((horizontalCloseEdge && initialTouchState === 1) || reachPosition === 'x') {\n    return 'x';\n  } else if ((verticalCloseEdge && initialTouchState > 1) || reachPosition === 'y') {\n    return 'y';\n  }\n  return undefined;\n};\n\n/**\n * 计算接触边缘位置\n * @param position - x/y\n * @param scale\n * @param size - width/height\n * @param innerSize - innerWidth/innerHeight\n * @return [CloseEdgeType, position]\n */\nexport const computePositionEdge = (position: number, scale: number, size: number, innerSize: number) => {\n  const currentWidth = size * scale;\n  // 图片超出的宽度\n  const outOffset = (currentWidth - innerSize) / 2;\n  let closedEdge: CloseEdgeType = undefined;\n\n  let current = position;\n  if (currentWidth <= innerSize) {\n    closedEdge = 1;\n    current = 0;\n  } else if (position > 0 && outOffset - position <= 0) {\n    closedEdge = 2;\n    current = outOffset;\n  } else if (position < 0 && outOffset + position <= 0) {\n    closedEdge = 3;\n    current = -outOffset;\n  }\n\n  return [closedEdge, current] as const;\n};\n","import { longModeRatio } from '../variables';\nimport { computePositionEdge } from './edgeHandle';\n\n/**\n * 获取移动或缩放之后的中心点\n */\nexport default function getPositionOnMoveOrScale(\n  x: number,\n  y: number,\n  width: number,\n  height: number,\n  scale: number,\n  toScale: number,\n  clientX: number = innerWidth / 2,\n  clientY: number = innerHeight / 2,\n  offsetX: number = 0,\n  offsetY: number = 0,\n) {\n  // 是否接触边缘\n  const [closedEdgeX] = computePositionEdge(x, toScale, width, innerWidth);\n  const [closedEdgeY] = computePositionEdge(y, toScale, height, innerHeight);\n\n  const centerClientX = innerWidth / 2;\n  const centerClientY = innerHeight / 2;\n\n  // 坐标偏移\n  const lastPositionX = centerClientX + x;\n  const lastPositionY = centerClientY + y;\n\n  // 偏移位置\n  const originX = clientX - (clientX - lastPositionX) * (toScale / scale) - centerClientX;\n  const originY = clientY - (clientY - lastPositionY) * (toScale / scale) - centerClientY;\n  // 长图模式无左右反馈\n  const longModeEdge = height / width >= longModeRatio && width * toScale === innerWidth;\n  // 超出边缘距离减半\n  return {\n    x: originX + (longModeEdge ? 0 : closedEdgeX ? offsetX / 2 : offsetX),\n    y: originY + (closedEdgeY ? offsetY / 2 : offsetY),\n    lastCX: clientX,\n    lastCY: clientY,\n  };\n}\n","/**\n * 获取旋转后的宽高\n */\nexport default function getRotateSize(rotate: number, width: number, height: number) {\n  const isVertical = rotate % 180 !== 0;\n\n  // 若图片不是水平则调换属性\n  if (isVertical) {\n    return [height, width, isVertical] as const;\n  }\n\n  return [width, height, isVertical] as const;\n}\n","import { longModeRatio } from '../variables';\nimport getRotateSize from './getRotateSize';\n\n/**\n * 获取图片合适的大小\n */\nexport default function getSuitableImageSize(naturalWidth: number, naturalHeight: number, rotate: number) {\n  const [currentWidth, currentHeight, isVertical] = getRotateSize(rotate, innerWidth, innerHeight);\n\n  let y = 0;\n  let width = currentWidth;\n  let height = currentHeight;\n\n  // 自适应宽高\n  const autoWidth = (naturalWidth / naturalHeight) * currentHeight;\n  const autoHeight = (naturalHeight / naturalWidth) * currentWidth;\n\n  if (naturalWidth < currentWidth && naturalHeight < currentHeight) {\n    width = naturalWidth;\n    height = naturalHeight;\n  } else if (naturalWidth < currentWidth && naturalHeight >= currentHeight) {\n    width = autoWidth;\n  } else if (naturalWidth >= currentWidth && naturalHeight < currentHeight) {\n    height = autoHeight;\n  } else if (naturalWidth / naturalHeight > currentWidth / currentHeight) {\n    height = autoHeight;\n  }\n  // 长图模式\n  else if (naturalHeight / naturalWidth >= longModeRatio && !isVertical) {\n    height = autoHeight;\n    y = (height - currentHeight) / 2;\n  } else {\n    width = autoWidth;\n  }\n  return {\n    width,\n    height,\n    x: 0,\n    y,\n    pause: true,\n  };\n}\n","import { useCallback, useRef } from 'react';\n\ninterface DebounceCallback<CallbackArguments extends any[]> {\n  (...args: CallbackArguments): void;\n  cancel: () => void;\n}\n\nexport default function useDebounceCallback<CallbackArguments extends any[]>(\n  callback: (...args: CallbackArguments) => void,\n  {\n    leading = false,\n    maxWait,\n    wait = maxWait || 0,\n  }: {\n    leading?: boolean;\n    maxWait?: number;\n    wait?: number;\n  },\n): DebounceCallback<CallbackArguments> {\n  const callbackRef = useRef(callback);\n  callbackRef.current = callback;\n\n  const prev = useRef(0);\n  const trailingTimeout = useRef<ReturnType<typeof setTimeout>>();\n  const clearTrailing = () => trailingTimeout.current && clearTimeout(trailingTimeout.current);\n\n  const fn = useCallback(\n    (...args: CallbackArguments) => {\n      const now = Date.now();\n\n      function call() {\n        prev.current = now;\n        clearTrailing();\n        callbackRef.current.apply(null, args);\n      }\n      const last = prev.current;\n      const offset = now - last;\n      // leading\n      if (last === 0) {\n        if (leading) {\n          call();\n        }\n        prev.current = now;\n      }\n\n      // body\n      if (maxWait !== undefined) {\n        if (offset > maxWait) {\n          call();\n          return;\n        }\n      } else if (offset < wait) {\n        prev.current = now;\n      }\n\n      // trailing\n      clearTrailing();\n      trailingTimeout.current = setTimeout(() => {\n        call();\n        prev.current = 0;\n      }, wait);\n    },\n    [wait, maxWait, leading],\n  );\n  (fn as DebounceCallback<CallbackArguments>).cancel = clearTrailing;\n\n  return fn as DebounceCallback<CallbackArguments>;\n}\n","import { computePositionEdge } from '../utils/edgeHandle';\nimport getPositionOnMoveOrScale from '../utils/getPositionOnMoveOrScale';\nimport getRotateSize from '../utils/getRotateSize';\nimport { defaultSpeed, maxTouchTime } from '../variables';\nimport useMethods from './useMethods';\n\n// 触边运动反馈\nconst rebound = (start: number, bound: number, callback: (spatial: number) => boolean) =>\n  easeOutMove(\n    start,\n    bound,\n    callback,\n    defaultSpeed / 4,\n    (t) => t,\n    () => easeOutMove(bound, start, callback),\n  );\n\n/**\n * 物理滚动到具体位置\n */\nexport default function useScrollPosition<C extends (spatial: number) => boolean>(\n  callbackX: C,\n  callbackY: C,\n  callbackS: C,\n) {\n  const callback = useMethods({\n    X: (spatial: number) => callbackX(spatial),\n    Y: (spatial: number) => callbackY(spatial),\n    S: (spatial: number) => callbackS(spatial),\n  });\n\n  return (\n    x: number,\n    y: number,\n    lastX: number,\n    lastY: number,\n    width: number,\n    height: number,\n    scale: number,\n    safeScale: number,\n    lastScale: number,\n    rotate: number,\n    touchedTime: number,\n  ) => {\n    const [currentWidth, currentHeight] = getRotateSize(rotate, width, height);\n    // 开始状态下边缘触发状态\n    const [beginEdgeX, beginX] = computePositionEdge(x, safeScale, currentWidth, innerWidth);\n    const [beginEdgeY, beginY] = computePositionEdge(y, safeScale, currentHeight, innerHeight);\n    const moveTime = Date.now() - touchedTime;\n\n    // 时间过长、超出安全范围的情况下不执行滚动逻辑，恢复安全范围\n    if (moveTime >= maxTouchTime || safeScale != scale || Math.abs(lastScale - scale) > 1) {\n      // 计算中心缩放点\n      const { x: nextX, y: nextY } = getPositionOnMoveOrScale(x, y, width, height, scale, safeScale);\n      const targetX = beginEdgeX ? beginX : nextX !== x ? nextX : null;\n      const targetY = beginEdgeY ? beginY : nextY !== y ? nextY : null;\n\n      if (targetX !== null) {\n        easeOutMove(x, targetX, callback.X);\n      }\n      if (targetY !== null) {\n        easeOutMove(y, targetY, callback.Y);\n      }\n      if (safeScale != scale) {\n        easeOutMove(scale, safeScale, callback.S);\n      }\n      return;\n    }\n\n    // 初始速度\n    const speedX = (x - lastX) / moveTime;\n    const speedY = (y - lastY) / moveTime;\n    const speedT = Math.sqrt(speedX ** 2 + speedY ** 2);\n    // 是否接触到边缘\n    let edgeX = false;\n    let edgeY = false;\n\n    scrollMove(speedT, (spatial) => {\n      const nextX = x + spatial * (speedX / speedT);\n      const nextY = y + spatial * (speedY / speedT);\n\n      const [isEdgeX, currentX] = computePositionEdge(nextX, scale, currentWidth, innerWidth);\n      const [isEdgeY, currentY] = computePositionEdge(nextY, scale, currentHeight, innerHeight);\n\n      if (isEdgeX && !edgeX) {\n        edgeX = true;\n        if (beginEdgeX) {\n          easeOutMove(nextX, currentX, callback.X);\n        } else {\n          rebound(currentX, nextX + (nextX - currentX), callback.X);\n        }\n      }\n\n      if (isEdgeY && !edgeY) {\n        edgeY = true;\n        if (beginEdgeY) {\n          easeOutMove(nextY, currentY, callback.Y);\n        } else {\n          rebound(currentY, nextY + (nextY - currentY), callback.Y);\n        }\n      }\n      // 同时接触边缘的情况下停止滚动\n      if (edgeX && edgeY) {\n        return false;\n      }\n\n      const resultX = edgeX || callback.X(currentX);\n      const resultY = edgeY || callback.Y(currentY);\n      return resultX && resultY;\n    });\n  };\n}\n\n// 加速度\nconst acceleration = -0.001;\n// 阻力\nconst resistance = 0.0002;\n\n/**\n * 通过速度滚动到停止\n */\nfunction scrollMove(initialSpeed: number, callback: (spatial: number) => boolean) {\n  let v = initialSpeed;\n  let s = 0;\n  let lastTime: number | undefined = undefined;\n  let frameId = 0;\n\n  const calcMove = (now: number) => {\n    if (!lastTime) {\n      lastTime = now;\n    }\n    const dt = now - lastTime;\n    const direction = Math.sign(initialSpeed);\n    const a = direction * acceleration;\n    const f = Math.sign(-v) * v ** 2 * resistance;\n    const ds = v * dt + ((a + f) * dt ** 2) / 2;\n    v = v + (a + f) * dt;\n\n    s = s + ds;\n    // move to s\n    lastTime = now;\n\n    if (direction * v <= 0) {\n      caf();\n      return;\n    }\n\n    if (callback(s)) {\n      raf();\n      return;\n    }\n    caf();\n  };\n  raf();\n\n  function raf() {\n    frameId = requestAnimationFrame(calcMove);\n  }\n  function caf() {\n    cancelAnimationFrame(frameId);\n  }\n}\n\n/**\n * 缓动函数\n */\nconst easeOutQuart = (x: number) => 1 - (1 - x) ** 4;\n\n/**\n * 缓动回调\n */\nfunction easeOutMove(\n  start: number,\n  end: number,\n  callback: (spatial: number) => boolean,\n  speed = defaultSpeed,\n  easing = easeOutQuart,\n  complete?: () => void,\n) {\n  const distance = end - start;\n  if (distance === 0) {\n    return;\n  }\n\n  const startTime = Date.now();\n  let frameId = 0;\n\n  const calcMove = () => {\n    const time = Math.min(1, (Date.now() - startTime) / speed);\n    const result = callback(start + easing(time) * distance);\n\n    if (result && time < 1) {\n      raf();\n      return;\n    }\n    cancelAnimationFrame(frameId);\n    if (time >= 1 && complete) {\n      complete();\n    }\n  };\n  raf();\n\n  function raf() {\n    frameId = requestAnimationFrame(calcMove);\n  }\n}\n","import type { Dispatch, MutableRefObject, SetStateAction } from 'react';\nimport { useState, useEffect, useRef } from 'react';\nimport type { EasingMode, OriginRectType } from '../types';\nimport useMethods from './useMethods';\nimport { maxWaitAnimationTime } from '../variables';\n\nconst initialRect: OriginRectType = {\n  T: 0,\n  L: 0,\n  W: 0,\n  H: 0,\n  // 图像填充方式\n  FIT: undefined,\n};\n\nexport default function useAnimationOrigin(\n  visible: boolean | undefined,\n  originRef: MutableRefObject<HTMLElement | null> | undefined,\n  loaded: boolean,\n  speed: number,\n  updateEasing: (pause: boolean) => void,\n): [\n  // 动画状态\n  easingMode: EasingMode,\n  originRect: OriginRectType,\n] {\n  const [originRect, updateOriginRect] = useState(initialRect);\n  // 动画状态\n  const [easingMode, updateEasingMode] = useState<EasingMode>(0);\n  const initialTime = useRef<number>();\n\n  const fn = useMethods({\n    OK: () => visible && updateEasingMode(4),\n  });\n\n  useEffect(() => {\n    // 记录初始打开的时间\n    if (!initialTime.current) {\n      initialTime.current = Date.now();\n    }\n    if (!loaded) {\n      return;\n    }\n    handleUpdateOrigin(originRef, updateOriginRect);\n    // 打开动画处理\n    if (visible) {\n      // 小于最大允许动画时间，则执行缩放动画\n      if (Date.now() - initialTime.current < maxWaitAnimationTime) {\n        updateEasingMode(1);\n        // 延时执行动画，保持 transition 生效\n        requestAnimationFrame(() => {\n          updateEasingMode(2);\n          requestAnimationFrame(() => handleToShape(3));\n        });\n        setTimeout(fn.OK, speed);\n        return;\n      }\n      // 超出则不执行\n      updateEasingMode(4);\n      return;\n    }\n    // 关闭动画处理\n    handleToShape(5);\n  }, [visible, loaded]);\n\n  function handleToShape(currentShape: EasingMode) {\n    updateEasing(false);\n    updateEasingMode(currentShape);\n  }\n\n  return [easingMode, originRect];\n}\n\n/**\n * 更新缩略图位置信息\n */\nfunction handleUpdateOrigin(\n  originRef: MutableRefObject<HTMLElement | null> | undefined,\n  updateOriginRect: Dispatch<SetStateAction<typeof initialRect>>,\n) {\n  const element = originRef && originRef.current;\n\n  if (element && element.nodeType === 1) {\n    // 获取触发时节点位置\n    const { top, left, width, height } = element.getBoundingClientRect();\n    const isImage = element.tagName === 'IMG';\n    updateOriginRect({\n      T: top,\n      L: left,\n      W: width,\n      H: height,\n      FIT: isImage ? (getComputedStyle(element).objectFit as 'contain' | 'cover' | 'fill' | undefined) : undefined,\n    });\n  }\n}\n","import { useEffect, useRef } from 'react';\n\nconst useMountedRef = () => {\n  const mountedRef = useRef(false);\n  useEffect(() => {\n    mountedRef.current = true;\n    return () => {\n      mountedRef.current = false;\n    };\n  }, []);\n  return mountedRef;\n};\n\nexport default useMountedRef;\n","import React from 'react';\nimport './Spinner.less';\n\nfunction Spinner({ className, ...props }: React.HTMLAttributes<HTMLElement>) {\n  return (\n    <div className={`PhotoView__Spinner ${className}`} {...props}>\n      <svg viewBox=\"0 0 32 32\" width=\"36\" height=\"36\" fill=\"white\">\n        <path opacity=\".25\" d=\"M16 0 A16 16 0 0 0 16 32 A16 16 0 0 0 16 0 M16 4 A12 12 0 0 1 16 28 A12 12 0 0 1 16 4\" />\n        <path d=\"M16 0 A16 16 0 0 1 32 16 L28 16 A12 12 0 0 0 16 4z\" />\n      </svg>\n    </div>\n  );\n}\n\nexport default Spinner;\n","import React from 'react';\nimport Spinner from './components/Spinner';\nimport useMountedRef from './hooks/useMountedRef';\nimport type { BrokenElementParams } from './types';\nimport './Photo.less';\n\nexport interface IPhotoLoadedParams {\n  loaded?: boolean;\n  naturalWidth?: number;\n  naturalHeight?: number;\n  broken?: boolean;\n}\n\nexport interface IPhotoProps extends React.HTMLAttributes<HTMLElement> {\n  src: string;\n  loaded: boolean;\n  broken: boolean;\n  onPhotoLoad: (params: IPhotoLoadedParams) => void;\n  loadingElement?: JSX.Element;\n  brokenElement?: JSX.Element | ((photoProps: BrokenElementParams) => JSX.Element);\n}\n\nexport default function Photo({\n  src,\n  loaded,\n  broken,\n  className,\n  onPhotoLoad,\n  loadingElement,\n  brokenElement,\n  ...restProps\n}: IPhotoProps) {\n  const mountedRef = useMountedRef();\n\n  function handleImageLoaded(e: React.SyntheticEvent<HTMLImageElement>) {\n    const { naturalWidth, naturalHeight } = e.target as HTMLImageElement;\n    if (mountedRef.current) {\n      onPhotoLoad({\n        loaded: true,\n        naturalWidth,\n        naturalHeight,\n      });\n    }\n  }\n\n  function handleImageBroken() {\n    if (mountedRef.current) {\n      onPhotoLoad({\n        broken: true,\n      });\n    }\n  }\n\n  if (src && !broken) {\n    return (\n      <>\n        <img\n          className={`PhotoView__Photo${className ? ` ${className}` : ''}`}\n          src={src}\n          onLoad={handleImageLoaded}\n          onError={handleImageBroken}\n          alt=\"\"\n          {...restProps}\n        />\n        {!loaded &&\n          (<span className=\"PhotoView__icon\">{loadingElement}</span> || <Spinner className=\"PhotoView__icon\" />)}\n      </>\n    );\n  }\n\n  if (brokenElement) {\n    return (\n      <span className=\"PhotoView__icon\">\n        {typeof brokenElement === 'function' ? brokenElement({ src }) : brokenElement}\n      </span>\n    );\n  }\n\n  return null;\n}\n","import React, { useRef } from 'react';\nimport isTouchDevice from './utils/isTouchDevice';\nimport getMultipleTouchPosition from './utils/getMultipleTouchPosition';\nimport getPositionOnMoveOrScale from './utils/getPositionOnMoveOrScale';\nimport { getReachType, computePositionEdge } from './utils/edgeHandle';\nimport getRotateSize from './utils/getRotateSize';\nimport { limitScale } from './utils/limitTarget';\nimport getSuitableImageSize from './utils/getSuitableImageSize';\nimport useIsomorphicLayoutEffect from './hooks/useIsomorphicLayoutEffect';\nimport { minStartTouchOffset, scaleBuffer } from './variables';\nimport type {\n  DataType,\n  ReachMoveFunction,\n  ReachFunction,\n  PhotoTapFunction,\n  BrokenElementParams,\n  ExposedProperties,\n} from './types';\nimport type { ReachType, TouchStartType } from './types';\nimport useSetState from './hooks/useSetState';\nimport useMethods from './hooks/useMethods';\nimport useDebounceCallback from './hooks/useDebounceCallback';\nimport useEventListener from './hooks/useEventListener';\nimport useContinuousTap from './hooks/useContinuousTap';\nimport useScrollPosition from './hooks/useScrollPosition';\nimport useAnimationPosition from './hooks/useAnimationPosition';\nimport useMountedRef from './hooks/useMountedRef';\nimport type { IPhotoLoadedParams } from './Photo';\nimport Photo from './Photo';\nimport './PhotoBox.less';\n\nexport interface PhotoBoxProps {\n  // 图片信息\n  item: DataType;\n  // 是否可见\n  visible: boolean;\n  // 动画时间\n  speed: number;\n  // 动画函数\n  easing: string;\n  // 容器类名\n  wrapClassName?: string;\n  // 图片类名\n  className?: string;\n  // style\n  style?: object;\n  // 自定义 loading\n  loadingElement?: JSX.Element;\n  // 加载失败 Element\n  brokenElement?: JSX.Element | ((photoProps: BrokenElementParams) => JSX.Element);\n\n  // Photo 点击事件\n  onPhotoTap: PhotoTapFunction;\n  // Mask 点击事件\n  onMaskTap: PhotoTapFunction;\n  // 到达边缘滑动事件\n  onReachMove: ReachMoveFunction;\n  // 触摸解除事件\n  onReachUp: ReachFunction;\n  // Resize 事件\n  onPhotoResize: () => void;\n  // 向父组件导出属性\n  expose: (state: ExposedProperties) => void;\n  // 是否在当前操作中\n  isActive: boolean;\n}\n\nconst initialState = {\n  // 真实宽度\n  naturalWidth: undefined as number | undefined,\n  // 真实高度\n  naturalHeight: undefined as number | undefined,\n  // 宽度\n  width: undefined as number | undefined,\n  // 高度\n  height: undefined as number | undefined,\n  // 加载成功状态\n  loaded: undefined as boolean | undefined,\n  // 破碎状态\n  broken: false,\n\n  // 图片 X 偏移量\n  x: 0,\n  // 图片 y 偏移量\n  y: 0,\n  // 图片处于触摸的状态\n  touched: false,\n  // 背景处于触摸状态\n  maskTouched: false,\n  // 旋转状态\n  rotate: 0,\n  // 放大缩小\n  scale: 1,\n\n  // 触摸开始时 x 原始坐标\n  CX: 0,\n  // 触摸开始时 y 原始坐标\n  CY: 0,\n\n  // 触摸开始时图片 x 偏移量\n  lastX: 0,\n  // 触摸开始时图片 y 偏移量\n  lastY: 0,\n  // 上一个触摸状态 x 原始坐标\n  lastCX: 0,\n  // 上一个触摸状态 y 原始坐标\n  lastCY: 0,\n  // 上一个触摸状态的 scale\n  lastScale: 1,\n\n  // 触摸开始时时间\n  touchTime: 0,\n  // 多指触控间距\n  touchLength: 0,\n  // 是否暂停 transition\n  pause: true,\n  // 停止 Raf\n  stopRaf: true,\n  // 当前边缘触发状态\n  reach: undefined as ReachType,\n};\n\nexport default function PhotoBox({\n  item: { src, render, width: customWidth = 0, height: customHeight = 0, originRef },\n  visible,\n  speed,\n  easing,\n  wrapClassName,\n  className,\n  style,\n  loadingElement,\n  brokenElement,\n\n  onPhotoTap,\n  onMaskTap,\n  onReachMove,\n  onReachUp,\n  onPhotoResize,\n  isActive,\n  expose,\n}: PhotoBoxProps) {\n  const [state, updateState] = useSetState(initialState);\n  const initialTouchRef = useRef<TouchStartType>(0);\n  const mounted = useMountedRef();\n\n  const {\n    naturalWidth = customWidth,\n    naturalHeight = customHeight,\n    width = customWidth,\n    height = customHeight,\n    loaded = !src,\n    broken,\n    x,\n    y,\n    touched,\n    stopRaf,\n    maskTouched,\n    rotate,\n    scale,\n    CX,\n    CY,\n    lastX,\n    lastY,\n    lastCX,\n    lastCY,\n    lastScale,\n    touchTime,\n    touchLength,\n    pause,\n    reach,\n  } = state;\n\n  const fn = useMethods({\n    onScale: (current: number) => onScale(limitScale(current)),\n    onRotate(current: number) {\n      if (rotate !== current) {\n        expose({ rotate: current });\n        updateState({ rotate: current, ...getSuitableImageSize(naturalWidth, naturalHeight, current) });\n      }\n    },\n  });\n\n  // 默认为屏幕中心缩放\n  function onScale(current: number, clientX?: number, clientY?: number) {\n    if (scale !== current) {\n      expose({ scale: current });\n      updateState({\n        scale: current,\n        ...getPositionOnMoveOrScale(x, y, width, height, scale, current, clientX, clientY),\n        ...(current <= 1 && { x: 0, y: 0 }),\n      });\n    }\n  }\n\n  const handleMove = useDebounceCallback(\n    (nextClientX: number, nextClientY: number, currentTouchLength: number = 0) => {\n      if ((touched || maskTouched) && isActive) {\n        // 通过旋转调换宽高\n        const [currentWidth, currentHeight] = getRotateSize(rotate, width, height);\n        // 单指最小缩放下，以初始移动距离来判断意图\n        if (currentTouchLength === 0 && initialTouchRef.current === 0) {\n          const isStillX = Math.abs(nextClientX - CX) <= minStartTouchOffset;\n          const isStillY = Math.abs(nextClientY - CY) <= minStartTouchOffset;\n          // 初始移动距离不足\n          if (isStillX && isStillY) {\n            // 方向记录上次移动距离，以便平滑过渡\n            updateState({ lastCX: nextClientX, lastCY: nextClientY });\n            return;\n          }\n          // 设置响应状态\n          initialTouchRef.current = !isStillX ? 1 : nextClientY > CY ? 3 : 2;\n        }\n\n        const offsetX = nextClientX - lastCX;\n        const offsetY = nextClientY - lastCY;\n        // 边缘触发状态\n        let currentReach: ReachType = undefined;\n        if (currentTouchLength === 0) {\n          // 边缘超出状态\n          const [horizontalCloseEdge] = computePositionEdge(offsetX + lastX, scale, currentWidth, innerWidth);\n          const [verticalCloseEdge] = computePositionEdge(offsetY + lastY, scale, currentHeight, innerHeight);\n          // 边缘触发检测\n          currentReach = getReachType(initialTouchRef.current, horizontalCloseEdge, verticalCloseEdge, reach);\n\n          // 接触边缘\n          if (currentReach !== undefined) {\n            onReachMove(currentReach, nextClientX, nextClientY, scale);\n          }\n        }\n        // 横向边缘触发、背景触发禁用当前滑动\n        if (currentReach === 'x' || maskTouched) {\n          updateState({ reach: 'x' });\n          return;\n        }\n        // 目标倍数\n        const toScale = limitScale(\n          scale + ((currentTouchLength - touchLength) / 100 / 2) * scale,\n          naturalWidth / width,\n          scaleBuffer,\n        );\n        // 导出变量\n        expose({ scale: toScale });\n        updateState({\n          touchLength: currentTouchLength,\n          reach: currentReach,\n          scale: toScale,\n          ...getPositionOnMoveOrScale(x, y, width, height, scale, toScale, nextClientX, nextClientY, offsetX, offsetY),\n        });\n      }\n    },\n    {\n      maxWait: 8,\n    },\n  );\n\n  function updateRaf(position: { x?: number; y?: number }) {\n    if (stopRaf || touched) {\n      return false;\n    }\n    if (mounted.current) {\n      // 下拉关闭时可以有动画\n      updateState({ ...position, pause: visible });\n    }\n    return mounted.current;\n  }\n\n  const slideToPosition = useScrollPosition(\n    (nextX) => updateRaf({ x: nextX }),\n    (nextY) => updateRaf({ y: nextY }),\n    (nextScale) => {\n      if (mounted.current) {\n        expose({ scale: nextScale });\n        updateState({ scale: nextScale });\n      }\n      return !touched && mounted.current;\n    },\n  );\n\n  const handlePhotoTap = useContinuousTap(onPhotoTap, (currentClientX: number, currentClientY: number) => {\n    if (!reach) {\n      // 若图片足够大，则放大适应的倍数\n      const endScale = scale !== 1 ? 1 : Math.max(2, naturalWidth / width);\n      onScale(endScale, currentClientX, currentClientY);\n    }\n  });\n\n  function handleUp(nextClientX: number, nextClientY: number) {\n    // 重置响应状态\n    initialTouchRef.current = 0;\n    if ((touched || maskTouched) && isActive) {\n      updateState({\n        touched: false,\n        maskTouched: false,\n        pause: false,\n        stopRaf: false,\n        reach: undefined,\n      });\n      const safeScale = limitScale(scale, naturalWidth / width);\n      // Go\n      slideToPosition(x, y, lastX, lastY, width, height, scale, safeScale, lastScale, rotate, touchTime);\n\n      onReachUp(nextClientX, nextClientY);\n      // 触发 Tap 事件\n      if (CX === nextClientX && CY === nextClientY) {\n        if (touched) {\n          handlePhotoTap(nextClientX, nextClientY);\n          return;\n        }\n        if (maskTouched) {\n          onMaskTap(nextClientX, nextClientY);\n        }\n      }\n    }\n  }\n\n  useEventListener(isTouchDevice ? undefined : 'mousemove', (e) => {\n    e.preventDefault();\n    handleMove(e.clientX, e.clientY);\n  });\n  useEventListener(isTouchDevice ? undefined : 'mouseup', (e) => {\n    handleUp(e.clientX, e.clientY);\n  });\n  useEventListener(\n    isTouchDevice ? 'touchmove' : undefined,\n    (e) => {\n      e.preventDefault();\n      const position = getMultipleTouchPosition(e);\n      handleMove(...position);\n    },\n    { passive: false },\n  );\n  useEventListener(\n    isTouchDevice ? 'touchend' : undefined,\n    ({ changedTouches }) => {\n      const touch = changedTouches[0];\n      handleUp(touch.clientX, touch.clientY);\n    },\n    { passive: false },\n  );\n  useEventListener(\n    'resize',\n    useDebounceCallback(\n      () => {\n        if (loaded && !touched) {\n          updateState(getSuitableImageSize(naturalWidth, naturalHeight, rotate));\n          onPhotoResize();\n        }\n      },\n      { maxWait: 8 },\n    ),\n  );\n\n  useIsomorphicLayoutEffect(() => {\n    if (isActive) {\n      expose({ scale, rotate, ...fn });\n    }\n  }, [isActive]);\n\n  function handlePhotoLoad(params: IPhotoLoadedParams) {\n    updateState({\n      ...params,\n      ...(params.loaded && getSuitableImageSize(params.naturalWidth || 0, params.naturalHeight || 0, rotate)),\n    });\n  }\n\n  function handleStart(currentClientX: number, currentClientY: number, currentTouchLength: number = 0) {\n    updateState({\n      touched: true,\n      CX: currentClientX,\n      CY: currentClientY,\n      lastCX: currentClientX,\n      lastCY: currentClientY,\n      lastX: x,\n      lastY: y,\n      lastScale: scale,\n      touchLength: currentTouchLength,\n      touchTime: Date.now(),\n    });\n  }\n\n  function handleWheel(e: React.WheelEvent) {\n    if (!reach) {\n      // 限制最大倍数和最小倍数\n      const toScale = limitScale(scale - e.deltaY / 100 / 2, naturalWidth / width);\n      updateState({ stopRaf: true });\n      onScale(toScale, e.clientX, e.clientY);\n    }\n  }\n\n  function handleMaskStart(e: { clientX: number; clientY: number }) {\n    updateState({\n      maskTouched: true,\n      CX: e.clientX,\n      CY: e.clientY,\n      lastX: x,\n      lastY: y,\n    });\n  }\n\n  function handleTouchStart(e: React.TouchEvent) {\n    e.stopPropagation();\n    handleStart(...getMultipleTouchPosition(e));\n  }\n\n  function handleMouseDown(e: React.MouseEvent) {\n    e.stopPropagation();\n    if (e.button === 0) {\n      handleStart(e.clientX, e.clientY, 0);\n    }\n  }\n\n  // 计算位置\n  const [translateX, translateY, currentWidth, currentHeight, currentScale, opacity, easingMode, FIT] =\n    useAnimationPosition(visible, originRef, loaded, x, y, width, height, scale, speed, (isPause: boolean) =>\n      updateState({ pause: isPause }),\n    );\n  // 图片 objectFit 渐变时间\n  const transitionLayoutTime = easingMode < 4 ? speed / 2 : easingMode > 4 ? speed : 0;\n  const transitionCSS = `transform ${speed}ms ${easing}`;\n\n  const attrs = {\n    className,\n    onMouseDown: isTouchDevice ? undefined : handleMouseDown,\n    onTouchStart: isTouchDevice ? handleTouchStart : undefined,\n    onWheel: handleWheel,\n    style: {\n      width: currentWidth,\n      height: currentHeight,\n      opacity,\n      objectFit: easingMode === 4 ? undefined : FIT,\n      transform: rotate ? `rotate(${rotate}deg)` : undefined,\n      transition:\n        // 初始状态无渐变\n        easingMode > 2\n          ? `${transitionCSS}, opacity ${speed}ms ease, height ${transitionLayoutTime}ms ${easing}`\n          : undefined,\n    },\n  };\n\n  return (\n    <div\n      className={`PhotoView__PhotoWrap${wrapClassName ? ` ${wrapClassName}` : ''}`}\n      style={style}\n      onMouseDown={!isTouchDevice && isActive ? handleMaskStart : undefined}\n      onTouchStart={isTouchDevice && isActive ? (e) => handleMaskStart(e.touches[0]) : undefined}\n    >\n      <div\n        className=\"PhotoView__PhotoBox\"\n        style={{\n          transform: `matrix(${currentScale}, 0, 0, ${currentScale}, ${translateX}, ${translateY})`,\n          transition: touched || pause ? undefined : transitionCSS,\n          willChange: isActive ? 'transform' : undefined,\n        }}\n      >\n        {src ? (\n          <Photo\n            src={src}\n            loaded={loaded}\n            broken={broken}\n            {...attrs}\n            onPhotoLoad={handlePhotoLoad}\n            loadingElement={loadingElement}\n            brokenElement={brokenElement}\n          />\n        ) : (\n          render && render({ attrs, scale: currentScale, rotate })\n        )}\n      </div>\n    </div>\n  );\n}\n","import { useRef } from 'react';\nimport useDebounceCallback from './useDebounceCallback';\n\nexport type TapFuncType<T> = (...args: T[]) => void;\n\n/**\n * 单击和双击事件处理\n * @param singleTap - 单击事件\n * @param doubleTap - 双击事件\n * @return invokeTap\n */\nexport default function useContinuousTap<T>(singleTap: TapFuncType<T>, doubleTap: TapFuncType<T>): TapFuncType<T> {\n  // 当前连续点击次数\n  const continuousClick = useRef(0);\n\n  const debounceTap = useDebounceCallback(\n    (...args) => {\n      continuousClick.current = 0;\n      singleTap(...args);\n    },\n    {\n      wait: 300,\n    },\n  );\n\n  return function invokeTap(...args) {\n    continuousClick.current += 1;\n    debounceTap(...args);\n    // 双击\n    if (continuousClick.current >= 2) {\n      debounceTap.cancel();\n      continuousClick.current = 0;\n      doubleTap(...args);\n    }\n  };\n}\n","import type { MutableRefObject } from 'react';\nimport useAnimationOrigin from './useAnimationOrigin';\nimport useTargetScale from './useTargetScale';\n\nexport default function useAnimationPosition(\n  visible: boolean | undefined,\n  originRef: MutableRefObject<HTMLElement | null> | undefined,\n  loaded: boolean,\n  x: number,\n  y: number,\n  width: number,\n  height: number,\n  scale: number,\n  speed: number,\n  updateEasing: (pause: boolean) => void,\n) {\n  // 延迟更新 width/height\n  const [autoWidth, autoHeight, autoScale] = useTargetScale(width, height, scale, speed, updateEasing);\n  // 动画源处理\n  const [easingMode, originRect] = useAnimationOrigin(visible, originRef, loaded, speed, updateEasing);\n\n  // 计算动画位置\n  const { T, L, W, H, FIT } = originRect;\n  // 偏移量，x: 0, y: 0 居中为初始\n  const centerWidth = innerWidth / 2;\n  const centerHeight = innerHeight / 2;\n  const offsetX = centerWidth - (width * scale) / 2;\n  const offsetY = centerHeight - (height * scale) / 2;\n  // 缩略图状态\n  const miniMode = easingMode < 3 || easingMode > 4;\n  // 有缩略图时，则为缩略图的位置，否则居中\n  const translateX = miniMode ? (W ? L : centerWidth) : x + offsetX;\n  const translateY = miniMode ? (W ? T : centerHeight) : y + offsetY;\n\n  // 最小值缩放\n  const minScale = W / (width * scale) || 0.01;\n\n  // 适应 objectFit 保持缩略图宽高比\n  const currentHeight = miniMode && FIT ? autoWidth * (H / W) : autoHeight;\n  // 初始加载情况无缩放\n  const currentScale = easingMode === 0 ? autoScale : miniMode ? minScale : autoScale;\n  const opacity = miniMode ? (FIT ? 1 : 0) : 1;\n\n  return [translateX, translateY, autoWidth, currentHeight, currentScale, opacity, easingMode, FIT] as const;\n}\n","import { useRef } from 'react';\nimport useSetState from './useSetState';\nimport useIsomorphicLayoutEffect from './useIsomorphicLayoutEffect';\nimport useDebounceCallback from './useDebounceCallback';\n\n/**\n * 目标缩放延迟处理\n */\nexport default function useTargetScale(\n  realWidth: number,\n  realHeight: number,\n  realScale: number,\n  speed: number,\n  updateEasing: (pause: boolean) => void,\n) {\n  const execRef = useRef(false);\n\n  const [{ lead, scale }, updateState] = useSetState({ lead: true, scale: realScale });\n\n  const moveScale = useDebounceCallback(\n    async (current: number) => {\n      updateEasing(true);\n      updateState({ lead: false, scale: current });\n    },\n    { wait: speed },\n  );\n\n  useIsomorphicLayoutEffect(() => {\n    if (!execRef.current) {\n      execRef.current = true;\n      return;\n    }\n    updateEasing(false);\n    updateState({ lead: true });\n\n    moveScale(realScale);\n  }, [realScale]);\n\n  // 运动开始\n  if (lead) {\n    return [realWidth * scale, realHeight * scale, realScale / scale] as const;\n  }\n\n  // 运动结束\n  return [realWidth * realScale, realHeight * realScale, 1] as const;\n}\n","import React, { useRef, useState } from 'react';\nimport type { DataType, PhotoProviderBase, OverlayRenderProps } from './types';\nimport type { ReachType } from './types';\nimport { defaultEasing, defaultSpeed, defaultOpacity, horizontalOffset, maxMoveOffset } from './variables';\nimport isTouchDevice from './utils/isTouchDevice';\nimport { limitNumber } from './utils/limitTarget';\nimport useIsomorphicLayoutEffect from './hooks/useIsomorphicLayoutEffect';\nimport useAdjacentImages from './hooks/useAdjacentImages';\nimport useSetState from './hooks/useSetState';\nimport useEventListener from './hooks/useEventListener';\nimport useAnimationVisible from './hooks/useAnimationVisible';\nimport useMethods from './hooks/useMethods';\nimport SlidePortal from './components/SlidePortal';\nimport CloseIcon from './components/CloseIcon';\nimport ArrowLeft from './components/ArrowLeft';\nimport ArrowRight from './components/ArrowRight';\nimport PreventScroll from './components/PreventScroll';\nimport PhotoBox from './PhotoBox';\nimport './PhotoSlider.less';\n\nexport interface IPhotoSliderProps extends PhotoProviderBase {\n  // 图片列表\n  images: DataType[];\n  // 图片当前索引\n  index?: number;\n  // 索引改变回调\n  onIndexChange?: (index: number) => void;\n  // 可见\n  visible: boolean;\n  // 关闭回调\n  onClose: (evt?: React.MouseEvent | React.TouchEvent) => void;\n  // 关闭动画结束后回调\n  afterClose?: () => void;\n}\n\ntype PhotoSliderState = {\n  // 偏移量\n  x: number;\n  // 图片处于触摸的状态\n  touched: boolean;\n  // 是否暂停 transition\n  pause: boolean;\n  // Reach 开始时 x 坐标\n  lastCX: number | undefined;\n  // Reach 开始时 y 坐标\n  lastCY: number | undefined;\n  // 背景透明度\n  bg: number | null | undefined;\n  // 上次关闭的背景透明度\n  lastBg: number | null | undefined;\n  // 是否显示 overlay\n  overlay: boolean;\n  // 是否为最小状态，可下拉关闭\n  minimal: boolean;\n  // 缩放\n  scale: number;\n  // 旋转\n  rotate: number;\n  // 缩放回调\n  onScale?: (scale: number) => void;\n  // 旋转回调\n  onRotate?: (rotate: number) => void;\n};\n\nconst initialState: PhotoSliderState = {\n  x: 0,\n  touched: false,\n  pause: false,\n  lastCX: undefined,\n  lastCY: undefined,\n  bg: undefined,\n  lastBg: undefined,\n  overlay: true,\n  minimal: true,\n  scale: 1,\n  rotate: 0,\n};\n\nexport default function PhotoSlider(props: IPhotoSliderProps) {\n  const {\n    loop = 3,\n    speed: speedFn,\n    easing: easingFn,\n    photoClosable,\n    maskClosable = true,\n    maskOpacity = defaultOpacity,\n    pullClosable = true,\n    bannerVisible = true,\n    overlayRender,\n    toolbarRender,\n    className,\n    maskClassName,\n    photoClassName,\n    photoWrapClassName,\n    loadingElement,\n    brokenElement,\n    images,\n    index: controlledIndex = 0,\n    onIndexChange: controlledIndexChange,\n    visible,\n    onClose,\n    afterClose,\n    portalContainer,\n  } = props;\n\n  const [state, updateState] = useSetState(initialState);\n  const [innerIndex, updateInnerIndex] = useState(0);\n\n  const {\n    x,\n    touched,\n    pause,\n\n    lastCX,\n    lastCY,\n\n    bg = maskOpacity,\n    lastBg,\n    overlay,\n    minimal,\n\n    scale,\n    rotate,\n    onScale,\n    onRotate,\n  } = state;\n\n  // 受控 index\n  const isControlled = props.hasOwnProperty('index');\n  const index = isControlled ? controlledIndex : innerIndex;\n  const onIndexChange = isControlled ? controlledIndexChange : updateInnerIndex;\n  // 内部虚拟 index\n  const virtualIndexRef = useRef(index);\n\n  // 当前图片\n  const imageLength = images.length;\n  const currentImage: DataType | undefined = images[index];\n\n  // 是否开启\n  // noinspection SuspiciousTypeOfGuard\n  const enableLoop = typeof loop === 'boolean' ? loop : imageLength > loop;\n\n  // 显示动画处理\n  const [realVisible, activeAnimation, onAnimationEnd] = useAnimationVisible(visible, afterClose);\n\n  useIsomorphicLayoutEffect(() => {\n    // 显示弹出层，修正正确的指向\n    if (realVisible) {\n      updateState({\n        pause: true,\n        x: index * -(innerWidth + horizontalOffset),\n      });\n      virtualIndexRef.current = index;\n      return;\n    }\n    // 关闭后清空状态\n    updateState(initialState);\n  }, [realVisible]);\n\n  const { close, changeIndex } = useMethods({\n    close(evt?: React.MouseEvent | React.TouchEvent) {\n      if (onRotate) {\n        onRotate(0);\n      }\n      updateState({\n        overlay: true,\n        // 记录当前关闭时的透明度\n        lastBg: bg,\n      });\n      onClose(evt);\n    },\n    changeIndex(nextIndex: number, isPause: boolean = false) {\n      // 当前索引\n      const currentIndex = enableLoop ? virtualIndexRef.current + (nextIndex - index) : nextIndex;\n      const max = imageLength - 1;\n      // 虚拟 index\n      // 非循环模式，限制区间\n      const limitIndex = limitNumber(currentIndex, 0, max);\n      const nextVirtualIndex = enableLoop ? currentIndex : limitIndex;\n      // 单个屏幕宽度\n      const singlePageWidth = innerWidth + horizontalOffset;\n\n      updateState({\n        touched: false,\n        lastCX: undefined,\n        lastCY: undefined,\n        x: -singlePageWidth * nextVirtualIndex,\n        pause: isPause,\n      });\n\n      virtualIndexRef.current = nextVirtualIndex;\n      // 更新真实的 index\n      const realLoopIndex = nextIndex < 0 ? max : nextIndex > max ? 0 : nextIndex;\n      if (onIndexChange) {\n        onIndexChange(enableLoop ? realLoopIndex : limitIndex);\n      }\n    },\n  });\n\n  useEventListener('keydown', (evt: KeyboardEvent) => {\n    if (visible) {\n      switch (evt.key) {\n        case 'ArrowLeft':\n          changeIndex(index - 1, true);\n          break;\n        case 'ArrowRight':\n          changeIndex(index + 1, true);\n          break;\n        case 'Escape':\n          close();\n          break;\n      }\n    }\n  });\n\n  function handlePhotoTap(closeable: boolean | undefined) {\n    return closeable ? close() : updateState({ overlay: !overlay });\n  }\n\n  function handleResize() {\n    updateState({\n      x: -(innerWidth + horizontalOffset) * index,\n      lastCX: undefined,\n      lastCY: undefined,\n      pause: true,\n    });\n    virtualIndexRef.current = index;\n  }\n\n  function handleReachVerticalMove(clientY: number, nextScale?: number) {\n    if (lastCY === undefined) {\n      updateState({\n        touched: true,\n        lastCY: clientY,\n        bg,\n        minimal: true,\n      });\n      return;\n    }\n    const opacity =\n      maskOpacity === null ? null : limitNumber(maskOpacity, 0.01, maskOpacity - Math.abs(clientY - lastCY) / 100 / 4);\n\n    updateState({\n      touched: true,\n      lastCY,\n      bg: nextScale === 1 ? opacity : maskOpacity,\n      minimal: nextScale === 1,\n    });\n  }\n\n  function handleReachHorizontalMove(clientX: number) {\n    if (lastCX === undefined) {\n      updateState({\n        touched: true,\n        lastCX: clientX,\n        x,\n        pause: false,\n      });\n      return;\n    }\n    const originOffsetClientX = clientX - lastCX;\n    let offsetClientX = originOffsetClientX;\n\n    // 第一张和最后一张超出距离减半\n    if (\n      !enableLoop &&\n      ((index === 0 && originOffsetClientX > 0) || (index === imageLength - 1 && originOffsetClientX < 0))\n    ) {\n      offsetClientX = originOffsetClientX / 2;\n    }\n\n    updateState({\n      touched: true,\n      lastCX: lastCX,\n      x: -(innerWidth + horizontalOffset) * virtualIndexRef.current + offsetClientX,\n      pause: false,\n    });\n  }\n\n  function handleReachMove(reachPosition: ReachType, clientX: number, clientY: number, nextScale?: number) {\n    if (reachPosition === 'x') {\n      handleReachHorizontalMove(clientX);\n    } else if (reachPosition === 'y') {\n      handleReachVerticalMove(clientY, nextScale);\n    }\n  }\n\n  function handleReachUp(clientX: number, clientY: number) {\n    const offsetClientX = clientX - (lastCX ?? clientX);\n    const offsetClientY = clientY - (lastCY ?? clientY);\n    let willClose = false;\n    // 下一张\n    if (offsetClientX < -maxMoveOffset) {\n      changeIndex(index + 1);\n      return;\n    }\n    // 上一张\n    if (offsetClientX > maxMoveOffset) {\n      changeIndex(index - 1);\n      return;\n    }\n    const singlePageWidth = innerWidth + horizontalOffset;\n    // 当前偏移\n    const currentTranslateX = -singlePageWidth * virtualIndexRef.current;\n\n    if (Math.abs(offsetClientY) > 100 && minimal && pullClosable) {\n      willClose = true;\n      close();\n    }\n    updateState({\n      touched: false,\n      x: currentTranslateX,\n      lastCX: undefined,\n      lastCY: undefined,\n      bg: maskOpacity,\n      overlay: willClose ? true : overlay,\n    });\n  }\n  // 截取相邻的图片\n  const adjacentImages = useAdjacentImages(images, index, enableLoop);\n\n  if (!realVisible) {\n    return null;\n  }\n\n  const currentOverlayVisible = overlay && !activeAnimation;\n  // 关闭过程中使用下拉保存的透明度\n  const currentOpacity = visible ? bg : lastBg;\n  // 覆盖物参数\n  const overlayParams: OverlayRenderProps | undefined = onScale &&\n    onRotate && {\n      images,\n      index,\n      visible,\n      onClose: close,\n      onIndexChange: changeIndex,\n      overlayVisible: currentOverlayVisible,\n      overlay: currentImage && currentImage.overlay,\n      scale,\n      rotate,\n      onScale,\n      onRotate,\n    };\n  // 动画时间\n  const currentSpeed = speedFn ? speedFn(activeAnimation) : defaultSpeed;\n  const currentEasing = easingFn ? easingFn(activeAnimation) : defaultEasing;\n  const slideSpeed = speedFn ? speedFn(3) : defaultSpeed + 200;\n  const slideEasing = easingFn ? easingFn(3) : defaultEasing;\n\n  return (\n    <SlidePortal\n      className={`PhotoView-Portal${!currentOverlayVisible ? ' PhotoView-Slider__clean' : ''}${\n        !visible ? ' PhotoView-Slider__willClose' : ''\n      }${className ? ` ${className}` : ''}`}\n      role=\"dialog\"\n      onClick={(e) => e.stopPropagation()}\n      container={portalContainer}\n    >\n      {visible && <PreventScroll />}\n      <div\n        className={`PhotoView-Slider__Backdrop${maskClassName ? ` ${maskClassName}` : ''}${\n          activeAnimation === 1\n            ? ' PhotoView-Slider__fadeIn'\n            : activeAnimation === 2\n            ? ' PhotoView-Slider__fadeOut'\n            : ''\n        }`}\n        style={{\n          background: currentOpacity ? `rgba(0, 0, 0, ${currentOpacity})` : undefined,\n          transitionTimingFunction: currentEasing,\n          transitionDuration: `${touched ? 0 : currentSpeed}ms`,\n          animationDuration: `${currentSpeed}ms`,\n        }}\n        onAnimationEnd={onAnimationEnd}\n      />\n      {bannerVisible && (\n        <div className=\"PhotoView-Slider__BannerWrap\">\n          <div className=\"PhotoView-Slider__Counter\">\n            {index + 1} / {imageLength}\n          </div>\n          <div className=\"PhotoView-Slider__BannerRight\">\n            {toolbarRender && overlayParams && toolbarRender(overlayParams)}\n            <CloseIcon className=\"PhotoView-Slider__toolbarIcon\" onClick={close} />\n          </div>\n        </div>\n      )}\n      {adjacentImages.map((item: DataType, currentIndex) => {\n        // 截取之前的索引位置\n        const nextIndex =\n          !enableLoop && index === 0 ? index + currentIndex : virtualIndexRef.current - 1 + currentIndex;\n\n        return (\n          <PhotoBox\n            key={enableLoop ? `${item.key}/${item.src}/${nextIndex}` : item.key}\n            item={item}\n            speed={currentSpeed}\n            easing={currentEasing}\n            visible={visible}\n            onReachMove={handleReachMove}\n            onReachUp={handleReachUp}\n            onPhotoTap={() => handlePhotoTap(photoClosable)}\n            onMaskTap={() => handlePhotoTap(maskClosable)}\n            wrapClassName={photoWrapClassName}\n            className={photoClassName}\n            style={{\n              left: `${(innerWidth + horizontalOffset) * nextIndex}px`,\n              transform: `translate3d(${x}px, 0px, 0)`,\n              transition: touched || pause ? undefined : `transform ${slideSpeed}ms ${slideEasing}`,\n            }}\n            loadingElement={loadingElement}\n            brokenElement={brokenElement}\n            onPhotoResize={handleResize}\n            isActive={virtualIndexRef.current === nextIndex}\n            expose={updateState}\n          />\n        );\n      })}\n      {!isTouchDevice && bannerVisible && (\n        <>\n          {(enableLoop || index !== 0) && (\n            <div className=\"PhotoView-Slider__ArrowLeft\" onClick={() => changeIndex(index - 1, true)}>\n              <ArrowLeft />\n            </div>\n          )}\n          {(enableLoop || index + 1 < imageLength) && (\n            <div className=\"PhotoView-Slider__ArrowRight\" onClick={() => changeIndex(index + 1, true)}>\n              <ArrowRight />\n            </div>\n          )}\n        </>\n      )}\n      {overlayRender && overlayParams && (\n        <div className=\"PhotoView-Slider__Overlay\">{overlayRender(overlayParams)}</div>\n      )}\n    </SlidePortal>\n  );\n}\n","import { useReducer, useRef } from 'react';\nimport type { ActiveAnimationType } from '../types';\nimport useForkedVariable from './useForkedVariable';\n\n/**\n * 动画关闭处理真实关闭状态\n * 通过 onAnimationEnd 回调实现 leaveCallback\n */\nexport default function useAnimationVisible(\n  visible: boolean | undefined,\n  afterClose?: () => void,\n): [realVisible: boolean | undefined, activeAnimation: ActiveAnimationType, onAnimationEnd: () => void] {\n  const [, handleRender] = useReducer((c) => !c, false);\n\n  const activeAnimation = useRef<ActiveAnimationType>(0);\n\n  // 可见状态分支\n  const [realVisible, modifyRealVisible] = useForkedVariable(visible, (modify) => {\n    // 可见状态：设置进入动画\n    if (visible) {\n      modify(visible);\n      activeAnimation.current = 1;\n    } else {\n      activeAnimation.current = 2;\n    }\n  });\n\n  function onAnimationEnd() {\n    // 动画结束后触发渲染\n    handleRender();\n    // 结束动画：设置隐藏状态\n    if (activeAnimation.current === 2) {\n      modifyRealVisible(false);\n      // 触发隐藏回调\n      if (afterClose) {\n        afterClose();\n      }\n    }\n    // 重置状态\n    activeAnimation.current = 0;\n  }\n\n  return [\n    /**\n     * 真实可见状态\n     */\n    realVisible,\n    /**\n     * 正在进行的动画\n     */\n    activeAnimation.current,\n    /**\n     * 动画结束后回调\n     */\n    onAnimationEnd,\n  ];\n}\n","import { useRef, useMemo } from 'react';\n\n/**\n * 逻辑分叉变量处理\n * 此 hook 不触发额外渲染\n */\nexport default function useForkedVariable<T>(initial: T, updater: (modify: (variable: T) => void) => void) {\n  // 初始分叉变量\n  const forkedRef = useRef(initial);\n\n  function modify(next: T) {\n    forkedRef.current = next;\n  }\n\n  useMemo(() => {\n    // 参数变化之后同步内部分叉变量\n    updater(modify);\n  }, [initial]);\n\n  return [forkedRef.current, modify] as const;\n}\n","import { useMemo } from 'react';\nimport type { DataType } from '../types';\n\n/**\n * 截取相邻三张图片\n */\nexport default function useAdjacentImages(images: DataType[], index: number, loop: boolean) {\n  return useMemo(() => {\n    const imageLength = images.length;\n    if (loop) {\n      const connected = images.concat(images).concat(images);\n      return connected.slice(imageLength + index - 1, imageLength + index + 2);\n    }\n    return images.slice(Math.max(index - 1, 0), Math.min(index + 2, imageLength + 1));\n  }, [images, index, loop]);\n}\n","import React, { useMemo, useRef } from 'react';\nimport type { DataType, PhotoProviderBase } from './types';\nimport useMethods from './hooks/useMethods';\nimport useSetState from './hooks/useSetState';\nimport PhotoContext from './photo-context';\nimport PhotoSlider from './PhotoSlider';\n\nexport interface PhotoProviderProps extends PhotoProviderBase {\n  children: React.ReactNode;\n  onIndexChange?: (index: number, state: PhotoProviderState) => void;\n  onVisibleChange?: (visible: boolean, index: number, state: PhotoProviderState) => void;\n}\n\ntype PhotoProviderState = {\n  images: DataType[];\n  visible: boolean;\n  index: number;\n};\n\nconst initialState: PhotoProviderState = {\n  images: [],\n  visible: false,\n  index: 0,\n};\n\nexport default function PhotoProvider({ children, onIndexChange, onVisibleChange, ...restProps }: PhotoProviderProps) {\n  const [state, updateState] = useSetState(initialState);\n  const uniqueIdRef = useRef(0);\n  const { images, visible, index } = state;\n\n  const methods = useMethods({\n    nextId() {\n      return (uniqueIdRef.current += 1);\n    },\n    update(imageItem: DataType) {\n      const currentIndex = images.findIndex((n) => n.key === imageItem.key);\n      if (currentIndex > -1) {\n        const nextImages = images.slice();\n        nextImages.splice(currentIndex, 1, imageItem);\n        updateState({\n          images: nextImages,\n        });\n        return;\n      }\n      updateState((prev) => ({\n        images: prev.images.concat(imageItem),\n      }));\n    },\n    remove(key: number) {\n      updateState((prev) => {\n        const nextImages = prev.images.filter((item) => item.key !== key);\n        const nextEndIndex = nextImages.length - 1;\n        return {\n          images: nextImages,\n          index: Math.min(nextEndIndex, index),\n        };\n      });\n    },\n    show(key: number) {\n      const currentIndex = images.findIndex((item) => item.key === key);\n      updateState({\n        visible: true,\n        index: currentIndex,\n      });\n      if (onVisibleChange) {\n        onVisibleChange(true, currentIndex, state);\n      }\n    },\n  });\n\n  const fn = useMethods({\n    close() {\n      updateState({\n        visible: false,\n      });\n\n      if (onVisibleChange) {\n        onVisibleChange(false, index, state);\n      }\n    },\n    changeIndex(nextIndex: number) {\n      updateState({\n        index: nextIndex,\n      });\n\n      if (onIndexChange) {\n        onIndexChange(nextIndex, state);\n      }\n    },\n  });\n\n  const value = useMemo(() => ({ ...state, ...methods }), [state, methods]);\n\n  return (\n    <PhotoContext.Provider value={value}>\n      {children}\n      <PhotoSlider\n        images={images}\n        visible={visible}\n        index={index}\n        onIndexChange={fn.changeIndex}\n        onClose={fn.close}\n        {...restProps}\n      />\n    </PhotoContext.Provider>\n  );\n}\n","import React, { useImperativeHandle } from 'react';\nimport { Children, cloneElement, useContext, useEffect, useMemo, useRef } from 'react';\nimport useInitial from './hooks/useInitial';\nimport useMethods from './hooks/useMethods';\nimport type { PhotoContextType } from './photo-context';\nimport PhotoContext from './photo-context';\nimport type { PhotoRenderParams } from './types';\n\nexport interface PhotoViewProps {\n  /**\n   * 图片地址\n   */\n  src?: string;\n  /**\n   * 自定义渲染，优先级比 src 低\n   */\n  render?: (props: PhotoRenderParams) => React.ReactNode;\n  /**\n   * 自定义覆盖节点\n   */\n  overlay?: React.ReactNode;\n  /**\n   * 自定义渲染节点宽度\n   */\n  width?: number;\n  /**\n   * 自定义渲染节点高度\n   */\n  height?: number;\n  /**\n   * 子节点，一般为缩略图\n   */\n  children?: React.ReactElement;\n  /**\n   * 触发的事件\n   */\n  triggers?: ('onClick' | 'onDoubleClick')[];\n}\n\nconst PhotoView: React.FC<PhotoViewProps> = ({\n  src,\n  render,\n  overlay,\n  width,\n  height,\n  triggers = ['onClick'],\n  children,\n}) => {\n  const photoContext = useContext<PhotoContextType>(PhotoContext);\n  const key = useInitial(() => photoContext.nextId());\n  const originRef = useRef<HTMLElement>(null);\n\n  useImperativeHandle((children as React.FunctionComponentElement<HTMLElement>)?.ref, () => originRef.current);\n\n  useEffect(() => {\n    return () => {\n      photoContext.remove(key);\n    };\n  }, []);\n\n  function invokeChildrenFn(eventName: string, e: React.SyntheticEvent) {\n    if (children) {\n      const eventFn = children.props[eventName];\n      if (eventFn) {\n        eventFn(e);\n      }\n    }\n  }\n\n  const fn = useMethods({\n    render(props: PhotoRenderParams) {\n      return render && render(props);\n    },\n    show(eventName: string, e: React.MouseEvent) {\n      photoContext.show(key);\n      invokeChildrenFn(eventName, e);\n    },\n  });\n\n  const eventListeners = useMemo(() => {\n    const listener = {};\n    triggers.forEach((eventName) => {\n      listener[eventName] = fn.show.bind(null, eventName);\n    });\n    return listener;\n  }, []);\n\n  useEffect(() => {\n    photoContext.update({\n      key,\n      src,\n      originRef,\n      render: fn.render,\n      overlay,\n      width,\n      height,\n    });\n  }, [src]);\n\n  if (children) {\n    return Children.only(cloneElement(children, { ...eventListeners, ref: originRef }));\n  }\n  return null;\n};\n\nexport default PhotoView;\n","import { useRef } from 'react';\n\nexport default function useInitial<T extends (...args: any) => any>(callback: T) {\n  const { current } = useRef({ sign: false, fn: undefined as ReturnType<T> });\n  if (!current.sign) {\n    current.sign = true;\n    current.fn = callback();\n  }\n  return current.fn;\n}\n","import React from \"react\";\nimport moment from \"moment\";\nimport { deleteFileRec, getFileDetails } from \"../../../redux/services/gallery\";\nimport \"react-photo-view/dist/react-photo-view.css\";\nimport { PhotoProvider, PhotoView } from \"react-photo-view\";\nimport { CiMenuKebab } from \"react-icons/ci\";\nimport { FaTrash } from \"react-icons/fa\";\n\nconst Files = ({ filesData, token, dispatch, authUser }) => {\n  const handleFileClick = (file_id) => {\n    dispatch(getFileDetails(token, file_id));\n  };\n  const handleDeleteFile = (file_id) => {\n    dispatch(deleteFileRec(token, file_id, authUser.name));\n  };\n  return (\n    <div data-simplebar className=\"nicescroll-bar\">\n      <div className=\"collapse-simple\">\n        {Object.entries(filesData).map(([date, filesList]) => (\n          <div className=\"card card-border\" key={date}>\n            <div className=\"card-header\">\n              <a\n                role=\"button\"\n                data-bs-toggle=\"collapse\"\n                href=\"/gal_collapse_1\"\n                aria-expanded=\"true\"\n              >\n                <h5 className=\"mb-0\">\n                  {\" \"}\n                  {moment(Date.now()).format(\"YYYY-MM-DD\") === date\n                    ? \"Recently Assigned\"\n                    : moment(date).format(\"MMM DD YYYY\")}\n                </h5>\n              </a>\n            </div>\n            <div id=\"gal_collapse_1\" className=\"collapse show\">\n              <div className=\"card-body\">\n                <div className=\"row  hk-gallery\">\n                  <PhotoProvider>\n                    {filesList?.length > 0 &&\n                      filesList?.map((file, index) => (\n                        <div className=\"col-lg-3 col-md-4 col-sm-6\" key={index}>\n                          <PhotoView key={index} src={file.url}>\n                            <img\n                              src={file.url}\n                              width={250}\n                              alt=\"\"\n                              className=\"card card-border gallery-img\"\n                            />\n                          </PhotoView>\n                          <div\n                            class=\"dropdown position-absolute\"\n                            style={{ top: \"60px\" }}\n                          >\n                            <button\n                              class=\"btn btn-icon btn-rounded btn-flush-light flush-soft-hover dropdown-toggle no-caret\"\n                              aria-expanded=\"false\"\n                              data-bs-toggle=\"dropdown\"\n                            >\n                              <span class=\"icon\">\n                                <span class=\"feather-icon\">\n                                  {/* <i data-feather=\"more-vertical\"></i> */}\n                                  <CiMenuKebab />\n                                </span>\n                              </span>\n                            </button>\n                            <div\n                              role=\"menu\"\n                              class=\"dropdown-menu dropdown-menu-end\"\n                            >\n                              <button\n                                class=\"dropdown-item \"\n                                onClick={() => handleDeleteFile(file.id)}\n                              >\n                                <span className=\"px-2\">\n                                  <FaTrash />\n                                </span>\n                                Delete File\n                              </button>\n                            </div>\n                          </div>\n                        </div>\n                      ))}\n                  </PhotoProvider>\n                  {/* <div className=\"col\">\n                    <a href=\"/\">\n                      <div\n                        className=\"card card-border gallery-img\"\n                        data-sub-html=\"#caption\"\n                        data-src=\"dist/img/gallery/mock2.jpg\"\n                        style={{ backgroundImage: `url(${image})` }}\n                      ></div>\n                      <span className=\"gallery-star\">\n                        <span className=\"feather-icon\">\n                          <i data-feather=\"star\"></i>\n                        </span>\n                      </span>\n                    </a>\n                  </div>\n                  <div className=\"col\">\n                    <a href=\"/\">\n                      <div\n                        className=\"card card-border gallery-img\"\n                        data-sub-html=\"#caption\"\n                        data-src=\"dist/img/gallery/mock3.jpg\"\n                        style={{ backgroundImage: `url(${image})` }}\n                      ></div>\n                      <span className=\"gallery-star\">\n                        <span className=\"feather-icon\">\n                          <i data-feather=\"star\"></i>\n                        </span>\n                      </span>\n                    </a>\n                  </div>\n                  <div className=\"col\">\n                    <a href=\"/\">\n                      <div\n                        className=\"card card-border gallery-img\"\n                        data-sub-html=\"#caption\"\n                        data-src=\"dist/img/gallery/mock4.jpg\"\n                        style={{ backgroundImage: `url(${image})` }}\n                      ></div>\n                      <span className=\"gallery-star\">\n                        <span className=\"feather-icon\">\n                          <i data-feather=\"star\"></i>\n                        </span>\n                      </span>\n                    </a>\n                  </div>\n                  <div className=\"col\">\n                    <a href=\"/\">\n                      <div\n                        className=\"card card-border gallery-img\"\n                        data-sub-html=\"#caption\"\n                        data-src=\"dist/img/gallery/mock5.jpg\"\n                        style={{ backgroundImage: `url(${image})` }}\n                      ></div>\n                      <span className=\"gallery-star marked\">\n                        <span className=\"feather-icon\">\n                          <i data-feather=\"star\"></i>\n                        </span>\n                      </span>\n                    </a>\n                  </div>\n                  <div className=\"col\">\n                    <a href=\"/\">\n                      <div\n                        className=\"card card-border gallery-img gallery-video\"\n                        data-sub-html=\"#caption\"\n                        data-src=\"https://www.youtube.com/watch?v=BvXR97eR1QE\"\n                        data-poster=\"dist/img/gallery/mock6.jpg\"\n                        //   data-sub-html=\"#caption3\"\n                        style={{ backgroundImage: `url(${image})` }}\n                      ></div>\n                      <span className=\"gallery-star marked\">\n                        <span className=\"feather-icon\">\n                          <i data-feather=\"star\"></i>\n                        </span>\n                      </span>\n                    </a>\n                  </div> */}\n                </div>\n              </div>\n            </div>\n          </div>\n        ))}\n      </div>\n      {/* <div id=\"caption\" className=\"\">\n        <div className=\"gallery-info h-100\">\n          <div data-simplebar className=\"nicescroll-bar\">\n            <header className=\"gallery-header\">\n              <div>\n                <div className=\"file-name\">bruce-mars-flEG-pk6Z</div>\n                <span className=\"fs-7\">JPG File</span>\n              </div>\n              <div className=\"gallery-options-wrap\">\n                <a\n                  className=\"btn btn-icon btn-flush-dark btn-rounded flush-soft-hover\"\n                  href=\"/\"\n                >\n                  <span className=\"icon\">\n                    <span className=\"feather-icon\">\n                      <i data-feather=\"link-2\"></i>\n                    </span>\n                  </span>\n                </a>\n                <a\n                  className=\"btn btn-icon btn-flush-dark btn-rounded flush-soft-hover\"\n                  href=\"/\"\n                >\n                  <span className=\"icon\">\n                    <span className=\"feather-icon\">\n                      <i data-feather=\"more-horizontal\"></i>\n                    </span>\n                  </span>\n                </a>\n              </div>\n            </header>\n            <div className=\"gallery-detail-body\">\n              <div className=\"collapse-simple\">\n                <div className=\"card\">\n                  <div className=\"card-header\">\n                    <a\n                      role=\"button\"\n                      data-bs-toggle=\"collapse\"\n                      href=\"/fl_info\"\n                      aria-expanded=\"true\"\n                    >\n                      Specification\n                    </a>\n                  </div>\n                  <div id=\"fl_info\" className=\"collapse show\">\n                    <div className=\"card-body\">\n                      <ul className=\"file-info\">\n                        <li>\n                          <span>Date Modified</span>\n                          <span>20 Nov,2020</span>\n                        </li>\n                        <li>\n                          <span>Size</span>\n                          <span>15.2 GB</span>\n                        </li>\n                        <li>\n                          <span>Created by</span>\n                          <span>Morgan Freeman</span>\n                        </li>\n                        <li>\n                          <span>Date Created</span>\n                          <span>12 Nov,2020</span>\n                        </li>\n                        <li>\n                          <span>Dimension</span>\n                          <span>1920 x 1245</span>\n                        </li>\n                        <li>\n                          <span className=\"text-danger\">\n                            Delete Permanently\n                          </span>\n                        </li>\n                      </ul>\n                    </div>\n                  </div>\n                </div>\n              </div>\n              <div className=\"separator separator-light mt-0\"></div>\n              <form>\n                <div className=\"form-group\">\n                  <label className=\"form-label\">Add Comment</label>\n                  <textarea className=\"form-control\" rows=\"5\"></textarea>\n                  <small className=\"form-text text-muted\">\n                    Basic HTML is allowed\n                  </small>\n                </div>\n                <div className=\"d-flex align-items-center justify-content-between\">\n                  <button className=\"btn btn-primary\">Send</button>\n                </div>\n              </form>\n            </div>\n          </div>\n        </div>\n      </div>\n      <div className=\"collapse-simple\">\n        <div className=\"card card-border\">\n          <div className=\"card-header\">\n            <a\n              role=\"button\"\n              data-bs-toggle=\"collapse\"\n              href=\"/gal_collapse_2\"\n              aria-expanded=\"true\"\n            >\n              <h5 className=\"mb-0\">November 20</h5>\n            </a>\n          </div>\n          <div id=\"gal_collapse_2\" className=\"collapse show\">\n            <div className=\"card-body\">\n              <div className=\"row gx-3 row-cols-xxl-6 row-cols-xl-5 row-cols-lg-3 row-cols-md-2 row-cols-1 hk-gallery\">\n                <div className=\"col\">\n                  <a href=\"/\">\n                    <div\n                      className=\"card card-border gallery-img\"\n                      data-sub-html=\"#caption\"\n                      data-src=\"dist/img/gallery/mock6.jpg\"\n                      style={{ backgroundImage: `url(${image})` }}\n                    ></div>\n                    <span className=\"gallery-star marked\">\n                      <span className=\"feather-icon\">\n                        <i data-feather=\"star\"></i>\n                      </span>\n                    </span>\n                  </a>\n                </div>\n                <div className=\"col\">\n                  <a href=\"/\">\n                    <div\n                      className=\"card card-border gallery-img\"\n                      data-sub-html=\"#caption\"\n                      data-src=\"dist/img/gallery/mock7.jpg\"\n                      style={{ backgroundImage: `url(${image})` }}\n                    ></div>\n                  </a>\n                </div>\n                <div className=\"col\">\n                  <a href=\"/\">\n                    <div\n                      className=\"card card-border gallery-img\"\n                      data-sub-html=\"#caption\"\n                      data-src=\"dist/img/gallery/mock8.jpg\"\n                      style={{ backgroundImage: `url(${image})` }}\n                    ></div>\n                  </a>\n                </div>\n                <div className=\"col\">\n                  <a href=\"/\">\n                    <div\n                      className=\"card card-border gallery-img\"\n                      data-sub-html=\"#caption\"\n                      data-src=\"dist/img/gallery/mock9.jpg\"\n                      style={{ backgroundImage: `url(${image})` }}\n                    ></div>\n                  </a>\n                </div>\n                <div className=\"col\">\n                  <a href=\"/\">\n                    <div\n                      className=\"card card-border gallery-img\"\n                      data-sub-html=\"#caption\"\n                      data-src=\"dist/img/gallery/mock10.jpg\"\n                      style={{ backgroundImage: `url(${image})` }}\n                    ></div>\n                    <span className=\"gallery-star marked\">\n                      <span className=\"feather-icon\">\n                        <i data-feather=\"star\"></i>\n                      </span>\n                    </span>\n                  </a>\n                </div>\n                <div className=\"col\">\n                  <a href=\"/\">\n                    <div\n                      className=\"card card-border gallery-img gallery-video\"\n                      data-sub-html=\"#caption\"\n                      data-src=\"https://www.youtube.com/watch?v=BvXR97eR1QE\"\n                      data-poster=\"dist/img/gallery/mock2.jpg\"\n                      //   data-sub-html=\"#caption3\"\n                      style={{ backgroundImage: `url(${image})` }}\n                    ></div>\n                    <span className=\"gallery-star marked\">\n                      <span className=\"feather-icon\">\n                        <i data-feather=\"star\"></i>\n                      </span>\n                    </span>\n                  </a>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n      <div className=\"collapse-simple\">\n        <div className=\"card card-border\">\n          <div className=\"card-header\">\n            <a\n              role=\"button\"\n              data-bs-toggle=\"collapse\"\n              href=\"/gal_collapse_3\"\n              aria-expanded=\"true\"\n            >\n              <h5 className=\"mb-0\">October 20</h5>\n            </a>\n          </div>\n          <div id=\"gal_collapse_3\" className=\"collapse show\">\n            <div className=\"card-body\">\n              <div className=\"row gx-3 row-cols-xxl-6 row-cols-xl-5 row-cols-lg-3 row-cols-md-2 row-cols-1 hk-gallery\">\n                <div className=\"col\">\n                  <a href=\"/\">\n                    <div\n                      className=\"card card-border gallery-img\"\n                      data-sub-html=\"#caption\"\n                      data-src=\"dist/img/gallery/mock11.jpg\"\n                      style={{ backgroundImage: `url(${image})` }}\n                    ></div>\n                    <span className=\"gallery-star marked\">\n                      <span className=\"feather-icon\">\n                        <i data-feather=\"star\"></i>\n                      </span>\n                    </span>\n                  </a>\n                </div>\n                <div className=\"col\">\n                  <a href=\"/\">\n                    <div\n                      className=\"card card-border gallery-img\"\n                      data-sub-html=\"#caption\"\n                      data-src=\"dist/img/gallery/mock12.jpg\"\n                      style={{ backgroundImage: `url(${image})` }}\n                    ></div>\n                  </a>\n                </div>\n                <div className=\"col\">\n                  <a href=\"/\">\n                    <div\n                      className=\"card card-border gallery-img\"\n                      data-sub-html=\"#caption\"\n                      data-src=\"dist/img/gallery/mock13.jpg\"\n                      style={{ backgroundImage: `url(${image})` }}\n                    ></div>\n                  </a>\n                </div>\n                <div className=\"col\">\n                  <a href=\"/\">\n                    <div\n                      className=\"card card-border gallery-img\"\n                      data-sub-html=\"#caption\"\n                      data-src=\"dist/img/gallery/mock14.jpg\"\n                      style={{ backgroundImage: `url(${image})` }}\n                    ></div>\n                  </a>\n                </div>\n                <div className=\"col\">\n                  <a href=\"/\">\n                    <div\n                      className=\"card card-border gallery-img\"\n                      data-sub-html=\"#caption\"\n                      data-src=\"dist/img/gallery/mock15.jpg\"\n                      style={{ backgroundImage: `url(${image})` }}\n                    ></div>\n                    <span className=\"gallery-star marked\">\n                      <span className=\"feather-icon\">\n                        <i data-feather=\"star\"></i>\n                      </span>\n                    </span>\n                  </a>\n                </div>\n                <div className=\"col\">\n                  <a href=\"/\">\n                    <div\n                      className=\"card card-border gallery-img gallery-video\"\n                      data-sub-html=\"#caption\"\n                      data-src=\"https://www.youtube.com/watch?v=BvXR97eR1QE\"\n                      data-poster=\"dist/img/gallery/mock12.jpg\"\n                      //   data-sub-html=\"#caption3\"\n                      style={{ backgroundImage: `url(${image})` }}\n                    ></div>\n                    <span className=\"gallery-star marked\">\n                      <span className=\"feather-icon\">\n                        <i data-feather=\"star\"></i>\n                      </span>\n                    </span>\n                  </a>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div> */}\n    </div>\n  );\n};\n\nexport default Files;\n","import React, { useEffect, useState } from \"react\";\nimport Sidebar from \"./components/Sidebar\";\nimport Header from \"./components/Header\";\nimport Files from \"./components/Files\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { getFileList } from \"../../redux/services/gallery\";\n\nconst GalleryContent = () => {\n  const dispatch = useDispatch();\n  const [filesData, setFilesData] = useState([]);\n  const { token, user } = useSelector((state) => state.auth);\n  const { files } = useSelector((state) => state.gallery);\n  useEffect(() => {\n    dispatch(getFileList(token));\n  }, [dispatch, token]);\n  useEffect(() => {\n    const filesByDate = files.reduce((acc, file) => {\n      const date = file.created_at.split(\"T\")[0]; // Assuming created_at is in ISO 8601 format\n      acc[date] = acc[date] || [];\n      acc[date].push(file);\n      return acc;\n    }, {});\n    setFilesData(filesByDate);\n  }, [files]);\n  return (\n    <div className=\"hk-pg-wrapper pb-0\">\n      {/* <!-- Page Body --> */}\n      <div className=\"hk-pg-body py-0\">\n        <div className=\"galleryapp-wrap\">\n          <Sidebar dispatch={dispatch} token={token} authUser={user} />\n          <div className=\"galleryapp-content\">\n            <div className=\"galleryapp-detail-wrap\">\n              <Header />\n              <div className=\"gallery-body\">\n                <Files\n                  filesData={filesData}\n                  token={token}\n                  dispatch={dispatch}\n                  authUser={user}\n                />\n              </div>\n            </div>\n            {/* <!-- Add Category --> */}\n            <div\n              id=\"add_new_cat\"\n              className=\"modal fade\"\n              tabindex=\"-1\"\n              role=\"dialog\"\n              aria-hidden=\"true\"\n            >\n              <div\n                className=\"modal-dialog modal-dialog-centered modal-sm\"\n                role=\"document\"\n              >\n                <div className=\"modal-content\">\n                  <div className=\"modal-body\">\n                    <button\n                      type=\"button\"\n                      className=\"btn-close\"\n                      data-bs-dismiss=\"modal\"\n                      aria-label=\"Close\"\n                    >\n                      <span aria-hidden=\"true\">×</span>\n                    </button>\n                    <h6 className=\"text-uppercase fw-bold mb-3\">\n                      Add Category\n                    </h6>\n                    <form>\n                      <div className=\"row gx-3\">\n                        <div className=\"col-sm-12\">\n                          <div className=\"form-group\">\n                            <input\n                              className=\"form-control\"\n                              type=\"text\"\n                              placeholder=\"Category Name\"\n                            />\n                          </div>\n                        </div>\n                      </div>\n                      <button\n                        type=\"button\"\n                        className=\"btn btn-primary float-end\"\n                        data-bs-dismiss=\"modal\"\n                      >\n                        Add\n                      </button>\n                    </form>\n                  </div>\n                </div>\n              </div>\n            </div>\n            {/* <!-- /Add Category --> */}\n          </div>\n        </div>\n      </div>\n      {/* <!-- /Page Body --> */}\n    </div>\n  );\n};\n\nexport default GalleryContent;\n","import React from \"react\";\nimport Layout from \"../layout/Layout\";\nimport GalleryContent from \"./GalleryContent\";\n\nconst Gallery = () => {\n  return <Layout component={<GalleryContent />} />;\n};\n\nexport default Gallery;\n"],"names":["backendURL","concat","process","storeFile","token","data","async","console","log","dispatch","galleryRequestLoading","config","headers","axios","post","then","response","_response$data","statusCode","toast","error","message","invalidRequest","addFile","success","getFileList","e","get","_response$data2","getAllFiles","galleryData","getFileDetails","file_id","_response$data3","fileDetails","deleteFileRec","user_name","delete","_response$data4","deleteFile","_ref","authUser","_jsxs","className","children","_jsx","type","onChange","file","currentTarget","files","formData","FormData","i","target","length","append","id","name","title","href","Header","role","placeholder","g","t","n","fn","curr","current","r","Object","create","keys","forEach","call","apply","slice","arguments","p","h","w","y","window","x","Math","max","min","C","b","test","navigator","userAgent","o","E","addEventListener","removeEventListener","k","P","container","document","body","m","f","_","width","height","viewBox","d","M","Y","X","style","overflow","N","touches","clientX","clientY","a","sqrt","pow","W","c","S","u","l","innerWidth","innerHeight","s","v","lastCX","lastCY","T","V","pause","R","leading","maxWait","wait","clearTimeout","Date","now","setTimeout","cancel","A","H","I","cancelAnimationFrame","requestAnimationFrame","L","FIT","F","D","O","fill","opacity","B","z","src","loaded","broken","onPhotoLoad","loadingElement","brokenElement","onLoad","naturalWidth","naturalHeight","onError","alt","j","touched","maskTouched","rotate","scale","CX","CY","lastX","lastY","lastScale","touchTime","touchLength","stopRaf","reach","q","item","render","originRef","visible","speed","easing","wrapClassName","onPhotoTap","onMaskTap","onReachMove","onReachUp","onPhotoResize","isActive","expose","K","U","G","J","Q","Z","$","ee","ne","te","re","ie","oe","ae","ce","ue","le","se","de","ve","fe","he","me","ge","pe","we","ye","xe","Ce","be","Ee","ke","Pe","_e","Me","onScale","Ye","onRotate","Xe","abs","Ne","We","Se","Te","Ve","Re","Ae","Ie","He","Le","sign","Fe","De","Oe","Be","preventDefault","passive","changedTouches","ze","lead","Promise","resolve","reject","OK","nodeType","getBoundingClientRect","top","left","tagName","getComputedStyle","objectFit","je","qe","Ke","Ue","onMouseDown","stopPropagation","button","onTouchStart","onWheel","deltaY","transform","transition","willChange","attrs","bg","lastBg","overlay","minimal","loop","photoClosable","maskClosable","maskOpacity","pullClosable","bannerVisible","overlayRender","toolbarRender","maskClassName","photoClassName","photoWrapClassName","images","index","onIndexChange","onClose","afterClose","portalContainer","hasOwnProperty","close","changeIndex","key","overlayVisible","onClick","background","transitionTimingFunction","transitionDuration","animationDuration","onAnimationEnd","map","onVisibleChange","nextId","update","findIndex","splice","remove","filter","show","Provider","value","triggers","ref","props","bind","only","filesData","entries","_ref2","date","filesList","moment","format","PhotoProvider","PhotoView","url","class","CiMenuKebab","handleDeleteFile","FaTrash","GalleryContent","useDispatch","setFilesData","useState","user","useSelector","state","auth","gallery","useEffect","filesByDate","reduce","acc","created_at","split","push","Sidebar","Files","tabindex","Gallery","Layout","component"],"sourceRoot":""}