"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[856],{12972:(e,a,l)=>{l.d(a,{Z:()=>c});var s=l(72791),n=l(61134),i=l(763),t=l.n(i),d=l(61750),r=l(80184);const o=s.forwardRef(((e,a)=>{const{title:l,style:i,label:o,type:c,errors:m,defaultValue:u,onChange:v,onFocus:h,onBlur:x,menuPlacement:p,ellipses:j,value:b,...g}=e,{field:N,fieldState:f,formState:y}=(0,n.bc)(e),[w,k]=(0,s.useState)({});let S=t().get(m,e.name);const _=e=>{k(e),N.onChange(e.hex)};return(0,r.jsxs)("div",{className:"mb-5",children:[(0,r.jsx)(n.Qr,{name:null===e||void 0===e?void 0:e.name,rules:null===e||void 0===e?void 0:e.rules,control:null===e||void 0===e?void 0:e.control,defaultValue:u,render:a=>{let{field:{onChange:l}}=a;return(0,r.jsxs)(r.Fragment,{children:[o&&(0,r.jsx)("label",{for:null===e||void 0===e?void 0:e.name,class:"block mb-2 text-sm font-bold text-gray-900 dark:text-white",children:o}),(0,r.jsxs)("div",{className:"",children:[(0,r.jsx)(d.ZP,{initialValue:null!==N&&void 0!==N&&N.value?null===N||void 0===N?void 0:N.value:"",onChange:_,placement:"bottom",name:N.name,className:"position-absolute ",style:{height:"38px"}}),(0,r.jsx)("input",{className:"form-control",style:{paddingLeft:"70px"},type:"text",placeholder:" Color",name:N.name,value:w.hex})]})]})}}),e.rules&&S&&e.rules&&null!==S&&void 0!==S&&S.message?(0,r.jsx)("p",{className:" fs-6 p-1 text-danger",id:"email-error",children:e.rules&&S&&e.rules&&(null===S||void 0===S?void 0:S.message)}):""]})}));o.displayName="ReactColorInput";const c=o},92392:(e,a,l)=>{l.d(a,{Z:()=>c});var s=l(72791),n=l(61134),i=l(763),t=l.n(i),d=l(12880),r=l(80184);const o=s.forwardRef(((e,a)=>{const[l,i]=(0,s.useState)([]),{title:o,style:c,label:m,type:u,errors:v,defaultValue:h,onChange:x,onFocus:p,onBlur:j,menuPlacement:b,ellipses:g,value:N,placeHolder:f,mb:y,...w}=e,{field:k,fieldState:S,formState:_}=(0,n.bc)(e);console.log("\ud83d\ude80 ~ ReactTagInputComponent ~ field:",k);let E=t().get(v,e.name);const C=e=>{i(e),k.onChange(e)};return(0,r.jsxs)("div",{className:"".concat(y?"":"mb-5"),children:[(0,r.jsx)(n.Qr,{name:null===e||void 0===e?void 0:e.name,rules:null===e||void 0===e?void 0:e.rules,control:null===e||void 0===e?void 0:e.control,defaultValue:h,render:s=>{let{field:{onChange:n}}=s;return(0,r.jsxs)(r.Fragment,{children:[m&&(0,r.jsx)("label",{for:null===e||void 0===e?void 0:e.name,class:"block mb-2 text-sm font-bold text-gray-900 dark:text-white",children:m}),(0,r.jsx)(d.B,{...k,...w,ref:a,value:l,onChange:C,name:e.name,placeHolder:f})]})}}),e.rules&&E&&e.rules&&null!==E&&void 0!==E&&E.message?(0,r.jsx)("p",{className:" fs-6 p-1 text-danger",id:"email-error",children:e.rules&&E&&e.rules&&(null===E||void 0===E?void 0:E.message)}):""]})}));o.displayName="ReactTagInputComponent";const c=o},20856:(e,a,l)=>{l.r(a),l.d(a,{default:()=>R});var s=l(72791),n=l(34855),i=l(12202),t=l(94420),d=l(29750),r=l(51909),o=l(80184);const c=e=>{let{onSendData:a,contactsData:l,onToggleEdit:n}=e;const{users:c}=(0,t.v9)((e=>e.user)),[m,u]=(0,s.useState)("all"),{handleToggleShowUserDetail:v}=(0,s.useContext)(d.J);return(0,o.jsxs)("nav",{className:"contactapp-sidebar",children:[(0,o.jsx)("div",{"data-simplebar":!0,className:"nicescroll-bar",children:(0,o.jsxs)("div",{className:"menu-content-wrap",children:[(0,o.jsx)("button",{type:"button",className:"btn btn-primary btn-rounded btn-block mb-4","data-bs-toggle":"modal","data-bs-target":"#add_new_agent",children:"Add new Agent"}),(0,o.jsx)("div",{className:"menu-group p-1",children:(0,o.jsxs)("ul",{className:"nav nav-light navbar-nav flex-column",children:[(0,o.jsx)("li",{id:"all_contacts",className:"nav-item ".concat("all"===m?"active":""),children:(0,o.jsxs)("button",{onClick:()=>{const e=l;u("all"),v(!1),a(e)},className:"nav-link btn-block",children:[(0,o.jsx)("span",{className:"nav-icon-wrap",children:(0,o.jsx)("span",{className:"feather-icon",children:(0,o.jsx)(i.ziV,{})})}),(0,o.jsx)("span",{className:"nav-link-text",children:"All Agents"})]})}),(0,o.jsx)("li",{className:"nav-item ".concat("active"===m?"active":""),children:(0,o.jsxs)("button",{id:"deleted_contacts",onClick:()=>{const e=null===l||void 0===l?void 0:l.filter((e=>"active"===e.status));u("active"),v(!1),a(e)},className:"nav-link button-block",children:[(0,o.jsx)("span",{className:"nav-icon-wrap",children:(0,o.jsx)("span",{className:"feather-icon",children:(0,o.jsx)(i.TZR,{})})}),(0,o.jsx)("span",{className:"nav-link-text",children:"Active"})]})}),(0,o.jsx)("li",{className:"nav-item ".concat("blocked"===m?"active":""),children:(0,o.jsxs)("button",{id:"deleted_contacts",onClick:()=>{const e=l.filter((e=>"blocked"===e.status));u("blocked"),a(e),v(!1),n(!1)},className:"nav-link btn-block",children:[(0,o.jsx)("span",{className:"nav-icon-wrap",children:(0,o.jsx)("span",{className:"feather-icon",children:(0,o.jsx)(r.LWo,{})})}),(0,o.jsx)("span",{className:"nav-link-text",children:"Blocked"})]})})]})})]})}),(0,o.jsx)("div",{className:"contactapp-fixednav",children:(0,o.jsx)("div",{className:"hk-toolbar"})})]})},m=e=>{let{onDataFromChild:a,activeBar:l}=e;return(0,o.jsxs)("header",{className:"contact-header",children:[(0,o.jsx)("div",{className:"d-flex align-items-center",children:(0,o.jsx)("div",{className:"dropdown",children:(0,o.jsx)("a",{className:"contactapp-title dropdown-toggle link-dark",role:"button",children:(0,o.jsx)("h1",{children:"Agents"})})})}),(0,o.jsxs)("div",{className:"contact-options-wrap",children:[(0,o.jsx)("a",{className:"btn btn-icon btn-flush-dark flush-soft-hover dropdown-toggle no-caret active","data-bs-toggle":"dropdown",children:(0,o.jsx)("span",{className:"icon",children:(0,o.jsx)("span",{className:"feather-icon",children:(0,o.jsx)(i.AeW,{})})})}),(0,o.jsxs)("div",{className:"dropdown-menu dropdown-menu-end",children:[(0,o.jsxs)("a",{className:"dropdown-item ".concat("list"===l?"active":""),onClick:()=>a("list"),children:[(0,o.jsx)("span",{className:"feather-icon dropdown-icon",children:(0,o.jsx)(i.AeW,{})}),(0,o.jsx)("span",{children:"List View"})]}),(0,o.jsxs)("a",{className:"dropdown-item ".concat("grid"===l?"active":""),onClick:()=>a("grid"),children:[(0,o.jsx)("span",{className:"feather-icon dropdown-icon",children:(0,o.jsx)(i.Qan,{})}),(0,o.jsx)("span",{children:"Grid View"})]})]})]}),(0,o.jsx)("div",{className:"hk-sidebar-togglable"})]})};var u=l(61765),v=l(22316),h=l(72426),x=l.n(h),p=l(98911);const j=e=>{let{usersData:a,onToggleEdit:l,isEdit:n}=e;const{handleToggleShowUserDetail:c}=(0,s.useContext)(d.J),m=(0,t.I0)(),{token:h}=(0,t.v9)((e=>e.auth)),{isLoading:j}=(0,t.v9)((e=>e.contact));(0,s.useEffect)((()=>{h&&m((0,u.SN)(h))}),[m,h]);const b=e=>{c(!0,e,h)};return(0,o.jsx)("div",{className:"contact-list-view",children:!n&&(0,o.jsx)(o.Fragment,{children:j?(0,o.jsx)(v.Z,{}):(0,o.jsxs)("table",{className:"table w-100 mb-5",children:[(0,o.jsx)("thead",{children:(0,o.jsxs)("tr",{children:[(0,o.jsx)("th",{children:"Name"}),(0,o.jsx)("th",{children:"Email Address"}),(0,o.jsx)("th",{children:"Status"}),(0,o.jsx)("th",{children:"Date Created"}),(0,o.jsx)("th",{children:"Actions"})]})}),(0,o.jsx)("tbody",{children:(null===a||void 0===a?void 0:a.length)>0&&(null===a||void 0===a?void 0:a.map((e=>(0,o.jsxs)("tr",{children:[(0,o.jsx)("td",{children:(0,o.jsxs)("div",{className:"media align-items-center",children:[(0,o.jsx)("div",{className:"media-head me-2",children:(0,o.jsx)("div",{className:"avatar avatar-xs avatar-rounded",children:(0,o.jsx)("img",{src:e.avatar||"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQj0HSlpGrcoSJqHfu9TPqo_WhhuWwq8t8zb5lbp5ES8w&s",alt:"user",className:"avatar-img"})})}),(0,o.jsx)("div",{className:"media-body",children:(0,o.jsx)("a",{className:"badge badge-primary ",onClick:()=>b(e.id),children:(0,o.jsx)("span",{className:"d-block text-high-em",style:{color:"white"},children:e.name})})})]})}),(0,o.jsx)("td",{className:"text-truncate",children:e.email}),(0,o.jsx)("td",{children:(0,o.jsx)("span",{className:"".concat("active"===(null===e||void 0===e?void 0:e.status)?" badge rounded text-bg-primary ":"badge rounded text-bg-danger","  justify-content-around mt-3"),children:null===e||void 0===e?void 0:e.status})}),(0,o.jsx)("td",{children:x()(null===e||void 0===e?void 0:e.created_at).format("DD, MMM YYYY")}),(0,o.jsx)("td",{children:(0,o.jsx)("div",{className:"d-flex align-items-center",children:(0,o.jsxs)("div",{className:"d-flex",children:[(0,o.jsx)("a",{className:"btn btn-icon btn-flush-dark btn-rounded flush-soft-hover","data-bs-toggle":"tooltip","data-placement":"top",title:"","data-bs-original-title":"Edit",onClick:()=>b(e.id),children:(0,o.jsx)("span",{className:"icon",children:(0,o.jsx)("span",{className:"feather-icon",children:(0,o.jsx)(i.fmQ,{})})})}),(0,o.jsx)("button",{className:"btn btn-icon btn-flush-dark btn-rounded flush-soft-hover del-button",onClick:()=>{return a=e.id,m((0,p.$g)(h,a)),void l(!1);var a},children:(0,o.jsx)("span",{className:"icon",children:(0,o.jsx)("span",{className:"feather-icon",children:(0,o.jsx)(r.LWo,{fontSize:20})})})})]})})})]}))))})]})})})};var b=l(61134),g=l(45523),N=l(49923),f=l(55294),y=l(46772);l(75985);const w="".concat("https://desktopcrm.com:51/v1"),k=(e,a)=>async l=>{try{l((0,y.Zy)());const s={headers:{"Content-Type":"application/json","x-access-token":e}};await f.Z.get("".concat(w,"/user/agents/get-agents/").concat(a),s).then((e=>{var a;if(console.log("\ud83d\ude80 ~ .then ~ response:",e),200!==(null===e||void 0===e||null===(a=e.data)||void 0===a?void 0:a.statusCode))return l((0,y.r6)(e.data.message));l((0,y.ud)(e.data.data.agentsData))}))}catch(s){l((0,y.r6)(s.message))}};var S=l(41706),_=l(763),E=l.n(_);const C=()=>{const{handleSubmit:e,watch:a,control:l,setValue:n,formState:{errors:i}}=(0,b.cI)({}),{token:d,isLoading:r,user:c,accountSid:m,accountAuthToken:u}=(0,t.v9)((e=>e.auth)),{claimedNumbers:h}=(0,t.v9)((e=>e.calling));console.log("\ud83d\ude80 ~ AddContactList ~ claimedNumbers:",h);const[x,j]=(0,s.useState)(null),f=a("country_array"),y=a("state_array"),w=a("city_array"),_=(0,t.I0)();(0,s.useEffect)((()=>{_((0,S.v$)(d,{accountSid:m,authToken:u}))}),[_,d,u,m]),(0,s.useEffect)((()=>{void 0!==f&&n("country",f.value)}),[f,n]),(0,s.useEffect)((()=>{void 0!==y&&n("state",y.value)}),[y,n]),(0,s.useEffect)((()=>{void 0!==w&&n("city",w.value)}),[w,n]);return(0,o.jsxs)("form",{onSubmit:e((e=>{console.log("\ud83d\ude80 ~ handleAddContact ~ data:",e);const a={name:null===e||void 0===e?void 0:e.name,email:null===e||void 0===e?void 0:e.email,password:null===e||void 0===e?void 0:e.password,username:null===e||void 0===e?void 0:e.username,client_id:E().toString(null===c||void 0===c?void 0:c.id),role:"AGENT",personal_phone:null===e||void 0===e?void 0:e.personal_phone,accountSid:null===c||void 0===c?void 0:c.accountSid,authToken:null===c||void 0===c?void 0:c.authToken,api_key_sid:null===c||void 0===c?void 0:c.api_key_sid,api_key_secret:null===c||void 0===c?void 0:c.api_key_secret,twiml_app_sid:null===c||void 0===c?void 0:c.twiml_app_sid,twilio_numbers:{numbers:null===e||void 0===e?void 0:e.twilio_numbers}};_((0,p.o3)(d,a)),_(k(d,c.id))})),children:[r?(0,o.jsx)(v.Z,{}):(0,o.jsx)("div",{class:"modal-body",children:(0,o.jsxs)("div",{className:"row",children:[(0,o.jsx)("div",{className:"col-md-6 col-sm-6",children:(0,o.jsx)(g.Z,{control:l,errors:i,name:"name",placeholder:"Name",label:"Name",rules:{required:{value:!0,message:"Field required!"}}})}),(0,o.jsx)("div",{className:"col-md-6 col-sm-6",children:(0,o.jsx)(g.Z,{control:l,errors:i,name:"username",placeholder:"Username",label:"Username",rules:{required:{value:!0,message:"Field required!"}}})}),(0,o.jsx)("div",{className:"col-md-6 col-sm-6",children:(0,o.jsx)(g.Z,{control:l,type:"email",errors:i,name:"email",placeholder:"Email",label:"Email",rules:{required:{value:!0,message:"Field required!"}}})}),(0,o.jsx)("div",{className:"col-md-6 col-sm-6",children:(0,o.jsx)(g.Z,{type:"personal_phone",control:l,errors:i,name:"phone",placeholder:"Personal phone number",label:"Phone Number",rules:{required:{value:!0,message:"Field required!"}}})}),(0,o.jsx)("div",{className:"col-md-6 col-sm-6",children:(0,o.jsx)(g.Z,{type:"password",control:l,errors:i,name:"password",placeholder:"Password",label:"Password",rules:{required:{value:!0,message:"Field required!"}}})}),(0,o.jsx)("div",{className:"col-md-6 col-sm-6",children:(0,o.jsx)(N.Z,{name:"twilio_numbers",control:l,errors:i,placeholder:"Asign Number",label:"Asign Claimed Number",isMulti:!0,options:(null===h||void 0===h?void 0:h.length)>0?null===h||void 0===h?void 0:h.map(((e,a)=>({label:e.friendlyName,value:e.phoneNumber,...e}))):[]})})]})}),(0,o.jsxs)("div",{class:"modal-footer",children:[(0,o.jsx)("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal",children:"Close"}),(0,o.jsx)("button",{type:"submit",class:"btn btn-primary",children:"Submit"})]})]})};l(92392),l(59110),l(12972);const D=e=>{let{contact:a}=e;const{token:l}=(0,t.v9)((e=>e.auth)),[n,i]=(0,s.useState)(null),d=(0,t.I0)(),{handleSubmit:c,control:m,setValue:u,formState:{errors:v}}=(0,b.cI)({});(0,s.useEffect)((()=>{a&&(u("name",a.name),u("username",a.username),u("personal_phone",a.personal_phone),u("email",a.email),u("role",{label:a.role,value:a.role}),u("status",{label:E().capitalize(a.status),value:a.status}))}),[a,u]);return(0,o.jsx)(o.Fragment,{children:(0,o.jsx)("div",{className:"modal fade",id:"editInfo",role:"dialog","aria-hidden":"true",children:(0,o.jsx)("div",{className:"modal-dialog modal-dialog-centered modal-lg",role:"document",children:(0,o.jsxs)("div",{className:"modal-content",children:[(0,o.jsxs)("div",{className:"modal-header bg-primary",children:[(0,o.jsx)("h6",{className:"modal-title",style:{color:"white"},children:"Profile Information"}),(0,o.jsx)("button",{type:"button",className:"btn btn-light btn-icon btn-sm","data-bs-dismiss":"modal","aria-label":"Close",children:(0,o.jsx)("span",{"aria-hidden":"true",children:(0,o.jsx)(r.FU5,{})})})]}),(0,o.jsx)("div",{className:"modal-body",children:(0,o.jsxs)("form",{onSubmit:c((e=>{var s,i;const t=new FormData;t.append("name",null===e||void 0===e?void 0:e.name),t.append("username",null===e||void 0===e?void 0:e.username),t.append("email",null===e||void 0===e?void 0:e.email),t.append("personal_phone",null===e||void 0===e?void 0:e.personal_phone),t.append("status",null===e||void 0===e||null===(s=e.status)||void 0===s?void 0:s.value),t.append("role",null===e||void 0===e||null===(i=e.role)||void 0===i?void 0:i.value),console.log("\ud83d\ude80 ~ handleUpdateUser ~ data:",e),n&&t.append("avatar",n),d((0,p.cL)(l,t,a.id))})),children:[(0,o.jsxs)("div",{className:"row gx-3",children:[(0,o.jsx)("div",{className:"col-sm-6 col-md-6",children:(0,o.jsx)(g.Z,{name:"name",placeholder:"Enter your Full Name",label:"Name",control:m,rules:{required:{value:!0,message:"Field required!"}},errors:v})}),(0,o.jsx)("div",{className:"col-sm-6 col-md-6",children:(0,o.jsx)(g.Z,{name:"username",placeholder:"Enter username",label:"Username",control:m,rules:{required:{value:!0,message:"Field required!"}},errors:v})})]}),(0,o.jsxs)("div",{className:"row gx-3",children:[(0,o.jsx)("div",{className:"col-sm-6",children:(0,o.jsx)(g.Z,{name:"email",placeholder:"Enter your email identity",label:"Email Id",control:m,rules:{required:{value:!0,message:"Field required!"}},errors:v})}),(0,o.jsx)("div",{className:"col-sm-6",children:(0,o.jsx)(g.Z,{name:"personal_phone",placeholder:"Enter your phone number",label:"Phone Number",control:m,rules:{required:{value:!0,message:"Field required!"}},errors:v})}),(0,o.jsx)("div",{className:"col-sm-6 mb-5",children:(0,o.jsx)(N.Z,{name:"role",placeholder:"Select",label:"Role",mb:!0,options:[{label:"User",value:"USER"},{label:"Admin",value:"ADMIN"},{label:"Super Admin",value:"SUPER_ADMIN"}],control:m,errors:v})}),(0,o.jsx)("div",{className:"col-sm-6 mb-5",children:(0,o.jsx)(N.Z,{name:"status",placeholder:"Select",label:"Status",mb:!0,options:[{label:"Active",value:"active"},{label:"Block",value:"blocked"}],control:m,errors:v})})]}),(0,o.jsxs)("div",{className:"modal-footer align-items-center",children:[(0,o.jsx)("button",{"data-bs-dismiss":"modal",type:"button",className:"btn btn-secondary",children:"Discard"}),(0,o.jsx)("input",{type:"submit",className:"btn btn-primary",value:"Submit"})]})]})})]})})})})},A=e=>{var a,l;let{contactDetails:n,dispatch:t,token:d,authUser:r}=e;const[c,m]=(0,s.useState)("SMS_tab");return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)("div",{className:"contactapp-detail-wrap",children:[(0,o.jsxs)("header",{className:"contact-header",children:[(0,o.jsx)("div",{className:"d-flex align-items-center",children:(0,o.jsx)("nav",{"aria-label":"breadcrumb",children:(0,o.jsxs)("ol",{className:"breadcrumb  mb-0",children:[(0,o.jsx)("li",{className:"breadcrumb-item",children:(0,o.jsx)("a",{href:"contact.html",children:"Agent Details"})}),(0,o.jsxs)("li",{className:"breadcrumb-item active","aria-current":"page",children:[null===n||void 0===n?void 0:n.firstname," ",null===n||void 0===n?void 0:n.middlename," ",null===n||void 0===n?void 0:n.lastname]})]})})}),(0,o.jsx)("div",{className:"hk-sidebar-togglable"})]}),(0,o.jsx)("div",{className:"contact-body contact-detail-body",children:(0,o.jsx)("div",{className:"nicescroll-bar",children:(0,o.jsx)("div",{className:"d-flex flex-xxl-nowrap flex-wrap",children:(0,o.jsxs)("div",{className:"contact-info w-xxl-30 w-100",style:{maxHeight:"1000px",overflow:"scroll"},children:[(0,o.jsxs)("div",{className:"text-center mt-5",children:[(0,o.jsx)("div",{className:"dropify-circle edit-img",children:(0,o.jsx)("img",{src:null===n||void 0===n?void 0:n.avatar,alt:null===n||void 0===n?void 0:n.name,className:"dropify-1",width:100})}),(0,o.jsx)("div",{className:"cp-name text-truncate mt-3",children:null===n||void 0===n?void 0:n.name}),(0,o.jsx)("p",{children:"No phone calls Always busy"}),(0,o.jsx)("div",{className:"rating rating-yellow my-rating-4","data-rating":"3"})]}),(0,o.jsxs)("div",{className:"card",children:[(0,o.jsxs)("div",{className:"card-header",children:[(0,o.jsx)("a",{href:"/",children:"Profile Information"}),(0,o.jsx)("button",{className:"btn btn-xs btn-icon btn-rounded btn-light","data-bs-toggle":"tooltip","data-bs-placement":"top",title:"","data-bs-original-title":"Edit",children:(0,o.jsx)("span",{className:"icon","data-bs-toggle":"modal","data-bs-target":"#update_agent_info",children:(0,o.jsx)("span",{className:"feather-icon",children:(0,o.jsx)(i.fmQ,{})})})})]}),(0,o.jsx)("div",{className:"card-body",children:(0,o.jsxs)("ul",{className:"cp-info",children:[(0,o.jsxs)("li",{children:[(0,o.jsx)("span",{children:"Full Name"}),(0,o.jsx)("span",{children:null===n||void 0===n?void 0:n.name})]}),(0,o.jsxs)("li",{children:[(0,o.jsx)("span",{children:"Username"}),(0,o.jsx)("span",{children:null===n||void 0===n?void 0:n.username})]}),(0,o.jsxs)("li",{children:[(0,o.jsx)("span",{children:"Email"}),(0,o.jsxs)("span",{children:[null===n||void 0===n||null===(a=n.email)||void 0===a?void 0:a.slice(0,20),(null===n||void 0===n||null===(l=n.email)||void 0===l?void 0:l.length)>20?"...":""]})]}),(0,o.jsxs)("li",{children:[(0,o.jsx)("span",{children:"Role"}),(0,o.jsx)("span",{children:null===n||void 0===n?void 0:n.role})]}),(0,o.jsxs)("li",{children:[(0,o.jsx)("span",{children:"Phone"}),(0,o.jsx)("span",{children:null===n||void 0===n?void 0:n.personal_phone})]}),(0,o.jsxs)("li",{children:[(0,o.jsx)("span",{children:"Location"}),(0,o.jsx)("span",{children:null===n||void 0===n?void 0:n.location})]})]})})]}),(0,o.jsx)("div",{className:"separator-full"})]})})})})]}),(0,o.jsx)(D,{contact:n})]})};var q=l(64869),T=l(92566),Z=l(57689);const F=e=>{let{contactsData:a,token:l,dispatch:n,onToggleEdit:t}=e;const r=(0,Z.s0)(),{handleToggleShowUserDetail:c}=(0,s.useContext)(d.J);return(0,o.jsx)("div",{className:"contact-card-view",style:{height:"700px",overflow:"scroll"},children:(0,o.jsx)("div",{className:"row gx-3 row-cols-xxl-3 row-cols-xl-3 row-cols-lg-3 row-cols-md-2 row-cols-1 mb-5",children:(null===a||void 0===a?void 0:a.length)>0&&(null===a||void 0===a?void 0:a.map(((e,a)=>{var s,t;return(0,o.jsx)("div",{children:(0,o.jsxs)("div",{className:"card card-border contact-card",children:[(0,o.jsxs)("div",{className:"card-header bg-primary",style:{color:"white"},children:[null===e||void 0===e?void 0:e.name,(0,o.jsx)("span",{className:"badge badge-sm rounded fw-bold ".concat("active"===(null===e||void 0===e?void 0:e.status)?"badge-success":"badge-danger"),children:null===e||void 0===e?void 0:e.status}),(0,o.jsxs)("div",{className:"card-action-wrap",children:[(0,o.jsx)("a",{className:"btn btn-icon btn-flush-dark btn-rounded flush-soft-hover",href:"#","aria-expanded":"false","data-bs-toggle":"dropdown",children:(0,o.jsx)("span",{className:"btn-icon-wrap",children:(0,o.jsx)("span",{className:"feather-icon",children:(0,o.jsx)(q.Nm0,{color:"white"})})})}),(0,o.jsxs)("div",{className:"dropdown-menu  dropdown-menu-end",role:"menu",children:[(0,o.jsxs)("a",{className:"dropdown-item",href:"javascript:void(0)",role:"menuitem",onClick:()=>{return a=e,n((0,T.pH)(null===a||void 0===a?void 0:a.email,null===a||void 0===a?void 0:a.password,!0)),void r("/");var a},children:[(0,o.jsx)("span",{className:"me-2",children:(0,o.jsx)(i.TZR,{})}),"Login"]}),(0,o.jsxs)("a",{className:"dropdown-item",href:"javascript:void(0)",role:"menuitem",onClick:()=>{return a=e.id,void c(!0,a,l);var a},children:[(0,o.jsx)("span",{className:"me-2",children:(0,o.jsx)(i.fmQ,{})}),"View Detial"]}),(0,o.jsxs)("a",{className:"dropdown-item",href:"javascript:void(0)",role:"menuitem",onClick:()=>{return a=e.id,void n((0,p.$g)(l,a));var a},children:[(0,o.jsx)("span",{className:"me-2",children:(0,o.jsx)(i.Xm5,{})}),"Block User"]})]})]})]}),(0,o.jsxs)("div",{className:"card-body text-center",children:[(0,o.jsx)("div",{className:"avatar avatar-xl avatar-rounded",children:(0,o.jsx)("img",{src:(null===e||void 0===e?void 0:e.avatar)||"https://static.vecteezy.com/system/resources/previews/009/292/244/original/default-avatar-icon-of-social-media-user-vector.jpg",alt:"user",className:"avatar-img"})}),(0,o.jsxs)("div",{className:"d-flex justify-content-between py-1",children:[(0,o.jsx)("div",{className:"fw-bold fs-6",children:"Name"}),(0,o.jsx)("div",{children:null===e||void 0===e?void 0:e.name})]}),(0,o.jsxs)("div",{className:"d-flex justify-content-between py-1",children:[(0,o.jsx)("div",{className:"fw-bold fs-6",children:"Email"}),(0,o.jsx)("div",{children:null===e||void 0===e?void 0:e.email})]}),(0,o.jsxs)("div",{className:"d-flex justify-content-between py-1",children:[(0,o.jsx)("div",{className:"fw-bold fs-6",children:"Phone"}),(0,o.jsx)("div",{children:null===e||void 0===e?void 0:e.phone})]}),(0,o.jsxs)("div",{className:"d-flex justify-content-between py-1",children:[(0,o.jsx)("div",{className:"fw-bold fs-6",children:"Company Name"}),(0,o.jsx)("div",{children:"Desktop"})]}),(0,o.jsxs)("div",{className:"d-flex justify-content-between py-1",children:[(0,o.jsx)("div",{className:"fw-bold fs-6",children:"Date Joined"}),(0,o.jsx)("div",{children:x()(null===e||void 0===e?void 0:e.created_at).format("DD, MMM YYYY")})]}),(0,o.jsxs)("div",{className:"d-flex justify-content-between py-1",children:[(0,o.jsx)("div",{className:"fw-bold fs-6",children:"Tags"}),(0,o.jsx)("div",{className:"w-75 gap-1 d-flex flex-wrap justify-content-end",children:(null===e||void 0===e||null===(s=e.tags)||void 0===s?void 0:s.length)>0&&(null===e||void 0===e||null===(t=e.tags)||void 0===t?void 0:t.map(((e,a)=>(0,o.jsxs)("span",{className:"badge badge-primary ",children:[" ",e.name]}))))})]})]})]})},a)})))})})},U=e=>{let{agentDetails:a}=e;const{handleSubmit:l,watch:n,control:i,setValue:d,formState:{errors:r}}=(0,b.cI)({}),{token:c,isLoading:m,user:u,accountSid:h,accountAuthToken:x}=(0,t.v9)((e=>e.auth)),{claimedNumbers:j}=(0,t.v9)((e=>e.calling)),[f,y]=(0,s.useState)(null),w=n("country_array"),_=n("state_array"),E=n("city_array"),C=(0,t.I0)();(0,s.useEffect)((()=>{C((0,S.v$)(c,{accountSid:h,authToken:x}))}),[C,c,x,h]),(0,s.useEffect)((()=>{var e;d("name",null===a||void 0===a?void 0:a.name),d("username",null===a||void 0===a?void 0:a.username),d("email",null===a||void 0===a?void 0:a.email),d("personal_phone",null===a||void 0===a?void 0:a.personal_phone),d("twilio_numbers",null===a||void 0===a||null===(e=a.twilio_numbers)||void 0===e?void 0:e.numbers)}),[a,d]),(0,s.useEffect)((()=>{void 0!==w&&d("country",w.value)}),[w,d]),(0,s.useEffect)((()=>{void 0!==_&&d("state",_.value)}),[_,d]),(0,s.useEffect)((()=>{void 0!==E&&d("city",E.value)}),[E,d]);return(0,o.jsxs)("form",{onSubmit:l((e=>{console.log("\ud83d\ude80 ~ handleUpdateInfo ~ data:",e);const l={name:null===e||void 0===e?void 0:e.name,email:null===e||void 0===e?void 0:e.email,username:null===e||void 0===e?void 0:e.username,personal_phone:null===e||void 0===e?void 0:e.personal_phone,accountSid:null===a||void 0===a?void 0:a.accountSid,twilio_numbers:{numbers:null===e||void 0===e?void 0:e.twilio_numbers}};C((0,p.cL)(c,l,a.id)),C(k(c,u.id))})),children:[m?(0,o.jsx)(v.Z,{}):(0,o.jsx)("div",{class:"modal-body",children:(0,o.jsxs)("div",{className:"row",children:[(0,o.jsx)("div",{className:"col-md-6 col-sm-6",children:(0,o.jsx)(g.Z,{control:i,errors:r,name:"name",placeholder:"Name",label:"Name",rules:{required:{value:!0,message:"Field required!"}}})}),(0,o.jsx)("div",{className:"col-md-6 col-sm-6",children:(0,o.jsx)(g.Z,{control:i,errors:r,name:"username",placeholder:"Username",label:"Username",rules:{required:{value:!0,message:"Field required!"}}})}),(0,o.jsx)("div",{className:"col-md-6 col-sm-6",children:(0,o.jsx)(g.Z,{control:i,type:"email",errors:r,name:"email",placeholder:"Email",label:"Email",rules:{required:{value:!0,message:"Field required!"}}})}),(0,o.jsx)("div",{className:"col-md-6 col-sm-6",children:(0,o.jsx)(g.Z,{type:"text",control:i,errors:r,name:"personal_phone",placeholder:"Phone Number",label:"Phone Number",rules:{required:{value:!0,message:"Field required!"}}})}),(0,o.jsx)("div",{className:"col-md-6 col-sm-6",children:(0,o.jsx)(N.Z,{name:"twilio_numbers",control:i,errors:r,placeholder:"Asign Number",label:"Asign Claimed Number",isMulti:!0,options:(null===j||void 0===j?void 0:j.length)>0?null===j||void 0===j?void 0:j.map(((e,a)=>({label:e.friendlyName,value:e.phoneNumber,...e}))):[]})})]})}),(0,o.jsxs)("div",{class:"modal-footer",children:[(0,o.jsx)("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal",children:"Close"}),(0,o.jsx)("button",{type:"submit",class:"btn btn-primary",children:"Submit"})]})]})};var I=l(16902);const P=()=>{const{handleToggleShowLeadDetail:e,showUserDetails:a}=(0,s.useContext)(d.J),l=(0,t.I0)(),{token:n,user:i}=(0,t.v9)((e=>e.auth)),{contactDetails:r}=(0,t.v9)((e=>e.contact)),{subscriptions:u}=(0,t.v9)((e=>e.subscription)),[v,h]=(0,s.useState)([]),[x,b]=(0,s.useState)({}),[g,N]=(0,s.useState)({}),[f,y]=(0,s.useState)(null),[w,k]=(0,s.useState)([]),[S,_]=(0,s.useState)(!1),[D,q]=(0,s.useState)("list"),{contacts:T}=(0,t.v9)((e=>e.contact)),{users:Z,userDetails:P}=(0,t.v9)((e=>e.user));(0,s.useEffect)((()=>{l((0,p.Rf)(n)),l((0,I.bd)(n))}),[n,l]),(0,s.useEffect)((()=>{if((null===Z||void 0===Z?void 0:Z.length)>0){const e=null===Z||void 0===Z?void 0:Z.filter((e=>"AGENT"===e.role&&E().toInteger(e.client_id)===i.id)),a=null===Z||void 0===Z?void 0:Z.filter((e=>e.id===E().toInteger(null===i||void 0===i?void 0:i.parent_id)))[0];b(a),h(e),k(e)}}),[Z,i]),(0,s.useEffect)((()=>{const e=null===u||void 0===u?void 0:u.filter((e=>e.customer_id===(null===x||void 0===x?void 0:x.id)))[0];N(e)}),[u,x]),(0,s.useEffect)((()=>{switch(null===g||void 0===g?void 0:g.plan){case"Solo Starter":y(1);break;case"Growth":y(3);break;case"Enterprise":y(1e3);break;default:y(0)}}),[g,i]);const R=e=>{_(e)};return(0,o.jsx)("div",{className:"hk-pg-wrapper pb-0",children:(0,o.jsx)("div",{className:"hk-pg-body py-0",children:(0,o.jsx)("div",{className:"contactapp-wrap",children:(0,o.jsxs)("div",{className:"contactapp-content",children:[(0,o.jsx)(c,{onSendData:e=>{h(e)},contactsData:w,onToggleEdit:R}),a&&(0,o.jsx)(A,{isEdit:a,contactDetails:P,dispatch:l,token:n,authUser:i}),!a&&(0,o.jsxs)("div",{className:"contactapp-detail-wrap",children:[(0,o.jsx)(m,{onDataFromChild:e=>{q(e)},activeBar:D}),(0,o.jsx)("div",{className:"contact-body",children:(0,o.jsx)("div",{className:"nicescroll-bar",children:"list"===D?(0,o.jsx)(j,{usersData:v,onToggleEdit:R,isEdit:S}):(0,o.jsx)(F,{contactsData:v,onToggleEdit:R,isEdit:S,dispatch:l,token:n})})})]}),(0,o.jsx)("div",{id:"add_new_agent",className:"modal fade add-new-contact",tabIndex:"-1",role:"dialog","aria-hidden":"true",children:(0,o.jsx)("div",{className:"modal-dialog modal-dialog-centered modal-lg",role:"document",children:(0,o.jsxs)("div",{className:"modal-content",children:[(0,o.jsxs)("div",{className:"modal-header bg-primary",children:[(0,o.jsx)("div",{className:"modal-title",children:(0,o.jsx)("p",{className:"fs-6 fw-bold",style:{color:"white"},children:"Create New Agent"})}),(0,o.jsx)("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close",children:(0,o.jsx)("span",{"aria-hidden":"true",children:"\xd7"})})]}),(null===v||void 0===v?void 0:v.length)>f?(0,o.jsx)("div",{className:"modal-body p-0",children:(0,o.jsx)("p",{className:"alert alert-warning m-0",children:"You have exeeded your limit"})}):(0,o.jsx)("div",{className:"modal-body",children:(0,o.jsx)(C,{})})]})})}),(0,o.jsx)("div",{id:"update_agent_info",className:"modal fade add-new-contact",tabIndex:"-1",role:"dialog","aria-hidden":"true",children:(0,o.jsx)("div",{className:"modal-dialog modal-dialog-centered modal-lg",role:"document",children:(0,o.jsxs)("div",{className:"modal-content",children:[(0,o.jsxs)("div",{className:"modal-header bg-primary",children:[(0,o.jsx)("div",{className:"modal-title",children:(0,o.jsx)("p",{className:"fs-6 fw-bold",style:{color:"white"},children:"Update Agent"})}),(0,o.jsx)("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close",children:(0,o.jsx)("span",{"aria-hidden":"true",children:"\xd7"})})]}),(0,o.jsx)("div",{className:"modal-body",children:(0,o.jsx)(U,{agentDetails:P})})]})})})]})})})})},R=()=>(0,o.jsx)(n.Z,{component:(0,o.jsx)(P,{})})},12880:(e,a,l)=>{l.d(a,{B:()=>r});var s=l(72791);function n(e,a){let l=(0,s.useRef)(!1);(0,s.useEffect)((()=>{l.current?e():l.current=!0}),a)}function i(){for(var e=arguments.length,a=new Array(e),l=0;l<e;l++)a[l]=arguments[l];return a.filter((e=>e)).join(" ")}function t(e){let{text:a,remove:l,disabled:n,className:t}=e;return s.createElement("span",{className:i("rti--tag",t)},s.createElement("span",null,a),!n&&s.createElement("button",{type:"button",onClick:e=>{e.stopPropagation(),l(a)},"aria-label":"remove ".concat(a)},"\u2715"))}!function(e){let{insertAt:a}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!e||typeof document>"u")return;let l=document.head||document.getElementsByTagName("head")[0],s=document.createElement("style");s.type="text/css","top"===a&&l.firstChild?l.insertBefore(s,l.firstChild):l.appendChild(s),s.styleSheet?s.styleSheet.cssText=e:s.appendChild(document.createTextNode(e))}(".rti--container *{box-sizing:border-box;transition:all .2s ease}.rti--container{--rti-bg: #fff;--rti-border: #ccc;--rti-main: #3182ce;--rti-radius: .375rem;--rti-s: .5rem;--rti-tag: #edf2f7;--rti-tag-remove: #e53e3e;--rti-tag-padding: .15rem .25rem;align-items:center;background:var(--rti-bg);border:1px solid var(--rti-border);border-radius:var(--rti-radius);display:flex;flex-wrap:wrap;gap:var(--rti-s);line-height:1.4;padding:var(--rti-s)}.rti--container:focus-within{border-color:var(--rti-main);box-shadow:var(--rti-main) 0 0 0 1px}.rti--input{border:0;outline:0;font-size:inherit;line-height:inherit;width:50%}.rti--tag{align-items:center;background:var(--rti-tag);border-radius:var(--rti-radius);display:inline-flex;justify-content:center;padding:var(--rti-tag-padding)}.rti--tag button{background:none;border:0;border-radius:50%;cursor:pointer;line-height:inherit;padding:0 var(--rti-s)}.rti--tag button:hover{color:var(--rti-tag-remove)}\n");var d=["Enter"],r=e=>{let{name:a,placeHolder:l,value:r,onChange:o,onBlur:c,separators:m,disableBackspaceRemove:u,onExisting:v,onRemoved:h,disabled:x,isEditOnRemove:p,beforeAddValidate:j,onKeyUp:b,classNames:g}=e,[N,f]=(0,s.useState)(r||[]);n((()=>{o&&o(N)}),[N]),n((()=>{JSON.stringify(r)!==JSON.stringify(N)&&f(r)}),[r]);let y=e=>{f(N.filter((a=>a!==e))),h&&h(e)};return s.createElement("div",{"aria-labelledby":a,className:"rti--container"},N.map((e=>s.createElement(t,{key:e,className:null==g?void 0:g.tag,text:e,remove:y,disabled:x}))),s.createElement("input",{className:i("rti--input",null==g?void 0:g.input),type:"text",name:a,placeholder:l,onKeyDown:e=>{e.stopPropagation();let a=e.target.value;if(!a&&!u&&N.length&&"Backspace"===e.key&&(e.target.value=p?"".concat(N.at(-1)," "):"",f([...N.slice(0,-1)])),a&&(m||d).includes(e.key)){if(e.preventDefault(),j&&!j(a,N))return;if(N.includes(a))return void(v&&v(a));f([...N,a]),e.target.value=""}},onBlur:c,disabled:x,onKeyUp:b}))}}}]);
//# sourceMappingURL=856.0f14f6b9.chunk.js.map