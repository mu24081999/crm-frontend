"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[3872],{60683:(e,l,s)=>{s.d(l,{A:()=>h});var a=s(82483),i=s(28475),t=s.n(i),n=(s(42511),s(84670),s(23080)),r=s(34304),d=s.n(r),o=s(94690),c=s.n(o),u=s(56723);const v=a.forwardRef(((e,l)=>{const[s,i]=(0,a.useState)(!1),{title:r,style:o,type:v,errors:h,defaultValue:m,isDisabled:x,dateTime:p=!0,customStyles:b,onChange:g,maxDate:j,isHighLight:f=!1,showYearPicker:y,showTime:w,showIcon:k,showTimeSelectOnly:_,label:D,...S}=e,{field:q,fieldState:A}=(0,n.as)(e);let N=d().get(h,e.name);return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(n.xI,{autoFocus:!1,name:null===e||void 0===e?void 0:e.name,control:null===e||void 0===e?void 0:e.control,rules:null===e||void 0===e?void 0:e.rules,defaultValue:m,render:s=>{let{field:a}=s;let n=new Date(null===a||void 0===a?void 0:a.value);return function(e){let l=new Date(e);return l instanceof Date&&!isNaN(l)}(null===a||void 0===a?void 0:a.value)||(n=""),(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)("label",{class:"form-label-group",children:D}),(0,u.jsx)(t(),{...a,ref:l,autoComplete:"off",autoFocus:!1,placeholderText:"Select Date",onChange:l=>{a.onChange(_?c()(l).format("HH:mm:ss"):c()(l).format("yyyy-MM-DD")),g&&g(l,null===e||void 0===e?void 0:e.name)},selected:n,onFocus:()=>i(!0),onBlur:()=>{i(!1)},dateFormat:y?"yyyy":"yyyy-MM-DD HH:mm:ss",className:"form-control text-lg  ".concat(x?"opacity-50":"","\n                                   ").concat(f&&" focus:bg-dark   "),placeholder:e.placeholder?e.placeholder:"",disabled:x,maxDate:null===e||void 0===e?void 0:e.maxDate,minDate:null===e||void 0===e?void 0:e.minDate,showTimeSelect:w,showIcon:k,showTimeSelectOnly:_,isClearable:!0,timeFormat:"HH:mm:ss",timeIntervals:15,showYearPicker:y||!1,...S})]})}}),e.rules&&N&&(0,u.jsx)("p",{className:" text-xs text-red-600 h-3",id:"email-error",children:e.rules&&N&&e.rules&&N.message})]})}));v.displayName="DatePickerFeild";const h=v},31279:(e,l,s)=>{s.d(l,{A:()=>c});var a=s(82483),i=s(23080),t=s(34304),n=s.n(t),r=s(55794),d=s(56723);const o=a.forwardRef(((e,l)=>{const[s,t]=(0,a.useState)([]),{title:o,style:c,label:u,type:v,errors:h,defaultValue:m,onChange:x,onFocus:p,onBlur:b,menuPlacement:g,ellipses:j,value:f,placeHolder:y,mb:w,...k}=e,{field:_,fieldState:D,formState:S}=(0,i.as)(e);console.log("\ud83d\ude80 ~ ReactTagInputComponent ~ field:",_);let q=n().get(h,e.name);const A=e=>{t(e),_.onChange(e)};return(0,d.jsxs)("div",{className:"".concat(w?"":"mb-5"),children:[(0,d.jsx)(i.xI,{name:null===e||void 0===e?void 0:e.name,rules:null===e||void 0===e?void 0:e.rules,control:null===e||void 0===e?void 0:e.control,defaultValue:m,render:a=>{let{field:{onChange:i}}=a;return(0,d.jsxs)(d.Fragment,{children:[u&&(0,d.jsx)("label",{for:null===e||void 0===e?void 0:e.name,class:"block mb-2 text-sm font-bold text-gray-900 dark:text-white",children:u}),(0,d.jsx)(r.u,{..._,...k,ref:l,value:s,onChange:A,name:e.name,placeHolder:y})]})}}),e.rules&&q&&e.rules&&null!==q&&void 0!==q&&q.message?(0,d.jsx)("p",{className:" fs-6 p-1 text-danger",id:"email-error",children:e.rules&&q&&e.rules&&(null===q||void 0===q?void 0:q.message)}):""]})}));o.displayName="ReactTagInputComponent";const c=o},63872:(e,l,s)=>{s.r(l),s.d(l,{default:()=>q});var a=s(82483),i=s(16575),t=s(56723);const n=()=>(0,t.jsxs)("nav",{class:"todoapp-sidebar",children:[(0,t.jsx)("div",{"data-simplebar":!0,class:"nicescroll-bar",children:(0,t.jsxs)("div",{class:"menu-content-wrap",children:[(0,t.jsx)("button",{class:"btn btn-primary btn-rounded btn-block mb-4","data-bs-toggle":"modal","data-bs-target":"#add_new_task",children:"Add Task"}),(0,t.jsx)("div",{class:"menu-group",children:(0,t.jsxs)("ul",{class:"nav nav-light navbar-nav flex-column",children:[(0,t.jsx)("li",{class:"nav-item active",children:(0,t.jsxs)("a",{class:"nav-link",href:"/",children:[(0,t.jsx)("span",{class:"nav-icon-wrap",children:(0,t.jsx)("span",{class:"feather-icon",children:(0,t.jsx)("i",{"data-feather":"layout"})})}),(0,t.jsx)("span",{class:"nav-link-text",children:"Overview"})]})}),(0,t.jsx)("li",{class:"nav-item",children:(0,t.jsxs)("a",{class:"nav-link",href:"/",children:[(0,t.jsx)("span",{class:"nav-icon-wrap",children:(0,t.jsx)("span",{class:"feather-icon",children:(0,t.jsx)("i",{"data-feather":"list"})})}),(0,t.jsx)("span",{class:"nav-link-text",children:"My Tasks"})]})}),(0,t.jsx)("li",{class:"nav-item",children:(0,t.jsxs)("a",{class:"nav-link",href:"/",children:[(0,t.jsx)("span",{class:"nav-icon-wrap",children:(0,t.jsx)("span",{class:"feather-icon",children:(0,t.jsx)("i",{"data-feather":"calendar"})})}),(0,t.jsx)("span",{class:"nav-link-text",children:"Files"})]})}),(0,t.jsx)("li",{class:"nav-item",children:(0,t.jsxs)("a",{class:"nav-link",href:"/",children:[(0,t.jsx)("span",{class:"nav-icon-wrap",children:(0,t.jsx)("span",{class:"feather-icon",children:(0,t.jsx)("i",{"data-feather":"file"})})}),(0,t.jsx)("span",{class:"nav-link-text",children:"Activity"})]})})]})}),(0,t.jsx)("div",{class:"separator separator-light"}),(0,t.jsx)("div",{class:"title-sm text-primary",children:"Priority"}),(0,t.jsx)("div",{class:"menu-group",children:(0,t.jsxs)("ul",{class:"nav nav-light navbar-nav flex-column",children:[(0,t.jsx)("li",{class:"nav-item",children:(0,t.jsxs)("a",{class:"nav-link link-with-badge",href:"/",children:[(0,t.jsx)("span",{class:"badge badge-danger badge-indicator badge-indicator-lg me-2"}),(0,t.jsx)("span",{class:"nav-link-text",children:"Urgent"})]})}),(0,t.jsx)("li",{class:"nav-item",children:(0,t.jsxs)("a",{class:"nav-link link-with-badge",href:"/",children:[(0,t.jsx)("span",{class:"badge badge-orange badge-indicator badge-indicator-lg me-2"}),(0,t.jsx)("span",{class:"nav-link-text",children:"High"})]})}),(0,t.jsx)("li",{class:"nav-item",children:(0,t.jsxs)("a",{class:"nav-link link-with-badge",href:"/",children:[(0,t.jsx)("span",{class:"badge badge-yellow badge-indicator badge-indicator-lg me-2"}),(0,t.jsx)("span",{class:"nav-link-text",children:"Medium"})]})}),(0,t.jsx)("li",{class:"nav-item",children:(0,t.jsxs)("a",{class:"nav-link link-with-badge",href:"/",children:[(0,t.jsx)("span",{class:"badge badge-gold badge-indicator badge-indicator-lg me-2"}),(0,t.jsx)("span",{class:"nav-link-text",children:"Low"})]})})]})})]})}),(0,t.jsx)("div",{class:"todoapp-fixednav",children:(0,t.jsx)("div",{class:"hk-toolbar",children:(0,t.jsxs)("ul",{class:"nav nav-light",children:[(0,t.jsx)("li",{class:"nav-item nav-link",children:(0,t.jsx)("a",{class:"btn btn-icon btn-flush-dark btn-rounded flush-soft-hover","data-bs-toggle":"tooltip","data-bs-placement":"top",title:"","data-bs-original-title":"Settings",href:"/",children:(0,t.jsx)("span",{class:"icon",children:(0,t.jsx)("span",{class:"feather-icon",children:(0,t.jsx)("i",{"data-feather":"settings"})})})})}),(0,t.jsx)("li",{class:"nav-item nav-link",children:(0,t.jsx)("a",{href:"/",class:"btn btn-icon btn-rounded btn-flush-dark flush-soft-hover","data-bs-toggle":"tooltip","data-bs-placement":"top",title:"","data-bs-original-title":"Archive",children:(0,t.jsx)("span",{class:"icon",children:(0,t.jsx)("span",{class:"feather-icon",children:(0,t.jsx)("i",{"data-feather":"archive"})})})})}),(0,t.jsx)("li",{class:"nav-item nav-link",children:(0,t.jsx)("a",{href:"/",class:"btn btn-icon btn-rounded btn-flush-dark flush-soft-hover","data-bs-toggle":"tooltip","data-bs-placement":"top",title:"","data-bs-original-title":"Help",children:(0,t.jsx)("span",{class:"icon",children:(0,t.jsx)("span",{class:"feather-icon",children:(0,t.jsx)("i",{"data-feather":"book"})})})})})]})})})]}),r=e=>{let{authUser:l}=e;return(0,t.jsxs)("header",{class:"todo-header",children:[(0,t.jsxs)("div",{class:"d-flex align-items-center",children:[null!==(null===l||void 0===l?void 0:l.parent_id)&&(0,t.jsx)("button",{className:"btn btn-primary me-4","data-bs-toggle":"modal","data-bs-target":"#add_new_task",children:"Add New Task"}),(0,t.jsx)("div",{className:"fw-bold fs-4",children:"Todos"})]}),(0,t.jsxs)("div",{class:"todo-options-wrap",children:[(0,t.jsx)("form",{class:"d-sm-block d-none",role:"search",children:(0,t.jsx)("input",{type:"text",class:"form-control",placeholder:"Search tasks"})}),(0,t.jsx)("a",{class:"btn btn-icon btn-flush-dark btn-rounded flush-soft-hover hk-navbar-togglable",href:"/","data-bs-toggle":"tooltip","data-bs-placement":"top",title:"","data-bs-original-title":"Collapse",children:(0,t.jsxs)("span",{class:"icon",children:[(0,t.jsx)("span",{class:"feather-icon",children:(0,t.jsx)("i",{"data-feather":"chevron-up"})}),(0,t.jsx)("span",{class:"feather-icon d-none",children:(0,t.jsx)("i",{"data-feather":"chevron-down"})})]})})]}),(0,t.jsx)("div",{class:"hk-sidebar-togglable"})]})};var d=s(23080),o=s(7817),c=s(25463),u=s(60683),v=s(42060),h=s(91965),m=s(49678),x=s(50756),p=s(31279),b=s(99492);const g=e=>{let{token:l,usersData:s,user:i}=e;const{handleSubmit:n,control:r,formState:{errors:g}}=(0,d.mN)({}),j=(0,h.wA)(),{pushNotification:f}=(0,a.useContext)(b.d);(0,a.useEffect)((()=>{j((0,m.lo)(l))}),[l,j]);return(0,t.jsx)("div",{id:"add_new_task",class:"modal fade add-new-contact",tabindex:"-1",role:"dialog","aria-hidden":"true",children:(0,t.jsx)("div",{class:"modal-dialog modal-dialog-centered",role:"document",children:(0,t.jsxs)("div",{class:"modal-content",children:[(0,t.jsxs)("div",{className:"modal-header bg-primary",children:[(0,t.jsx)("h5",{class:" modal-title",style:{color:"white"},children:"Add New Task"}),(0,t.jsx)("button",{type:"button",class:"btn-close btn-light","data-bs-dismiss":"modal","aria-label":"Close",children:(0,t.jsx)("span",{"aria-hidden":"true",children:"\xd7"})})]}),(0,t.jsx)("div",{class:"modal-body",children:(0,t.jsxs)("form",{onSubmit:n((async e=>{var s,a,t;const n={...e,priority:null===e||void 0===e||null===(s=e.priority)||void 0===s?void 0:s.value,status:null===e||void 0===e||null===(a=e.status)||void 0===a?void 0:a.value,category_id:null===e||void 0===e||null===(t=e.category_id)||void 0===t?void 0:t.value};if(!0===await j((0,x.sC)(l,n))){const l=[];for(let a=0;a<(null===e||void 0===e?void 0:e.asign_to.length);a++){const s=null===e||void 0===e?void 0:e.asign_to[a];l.push(s.name);const t={user_id:s.id,notification:"You have been added in a todo created by  ".concat(i.name),type:"todo_added",notification_details:n,email_to:s.email};f(t)}const s={user_id:i.id,notification:"You have added todo including members ".concat(l),type:"todo_added",notification_details:n,email_to:i.email};f(s)}})),children:[(0,t.jsx)("div",{class:"title title-xs title-wth-divider text-primary text-uppercase mt-1 mb-4",children:(0,t.jsx)("span",{children:"Basic Info"})}),(0,t.jsxs)("div",{class:"row gx-3",children:[(0,t.jsx)("div",{class:"col-sm-8",children:(0,t.jsx)(o.A,{name:"name",placeholder:"Name",mb:"true",control:r,rules:{required:{value:!0,message:"Field required!"}},errors:g})}),(0,t.jsx)("div",{class:"col-sm-4",children:(0,t.jsx)(o.A,{name:"code",type:"number",mb:"true",placeholder:"Code",control:r,rules:{required:{value:!0,message:"Field required!"}},errors:g})})]}),(0,t.jsx)("div",{class:"row gx-3",children:(0,t.jsx)("div",{class:"col-md-12",children:(0,t.jsx)(c.A,{name:"description",placeholder:"Note",control:r,rows:5,rules:{required:{value:!0,message:"Field required!"}},errors:g})})}),(0,t.jsxs)("div",{class:"row gx-3",children:[(0,t.jsx)("div",{class:"col-sm-6",children:(0,t.jsx)(u.A,{name:"start_date",label:"Start date",control:r,showTimeSelect:!1,rules:{required:{value:!0,message:"Field required!"}},errors:g})}),(0,t.jsx)("div",{class:"col-sm-6",children:(0,t.jsx)(u.A,{name:"start_time",label:"Start time",control:r,showTimeSelect:!0,showTimeSelectOnly:!0,rules:{required:{value:!0,message:"Field required!"}},errors:g})})]}),(0,t.jsxs)("div",{class:"row gx-3",children:[(0,t.jsx)("div",{class:"col-sm-6",children:(0,t.jsx)(u.A,{name:"end_date",label:"End date",control:r,showTimeSelect:!1,rules:{required:{value:!0,message:"Field required!"}},errors:g})}),(0,t.jsx)("div",{class:"col-sm-6",children:(0,t.jsx)(u.A,{name:"end_time",label:"End time",control:r,showTimeSelect:!0,showTimeSelectOnly:!0,rules:{required:{value:!0,message:"Field required!"}},errors:g})})]}),(0,t.jsxs)("div",{class:"row mt-3",children:[(0,t.jsx)("div",{class:"col-sm-6 col-md-6",children:(0,t.jsx)(v.A,{name:"status",placeholder:"Select status",control:r,rules:{required:{value:!0,message:"Field required!"}},options:[{label:"To-Do",value:"to-do"},{label:"On-Hold",value:"on-hold"},{label:"In-Progress",value:"in-progress"},{label:"Done",value:"done"},{label:"Pending",value:"pending"}],errors:g})}),(0,t.jsx)("div",{class:"col-md-6 col-sm-6",children:(0,t.jsx)("div",{class:"form-inline",children:(0,t.jsx)(v.A,{name:"priority",placeholder:"Select priority",control:r,rules:{required:{value:!0,message:"Field required!"}},options:[{label:"High",value:"high"},{label:"Medium",value:"medium"},{label:"Low",value:"low"}],errors:g})})})]}),(0,t.jsx)("div",{class:"row gx-3"}),(0,t.jsx)("div",{class:"row gx-3",children:(0,t.jsx)("div",{class:"col-sm-12",children:(0,t.jsx)("div",{class:"form-inline",children:(0,t.jsx)(p.A,{name:"labels",placeholder:"labels",label:"Labels",mb:"true",control:r,rules:{required:{value:!0,message:"Field required!"}},errors:g})})})}),(0,t.jsx)("div",{class:"title title-xs title-wth-divider text-primary text-uppercase my-4",children:(0,t.jsx)("span",{children:"Assign to"})}),(0,t.jsx)(v.A,{name:"asign_to",placeholder:"Asign to",control:r,rules:{required:{value:!0,message:"Field required!"}},isMulti:!0,options:(null===s||void 0===s?void 0:s.length)>0?null===s||void 0===s?void 0:s.map((e=>({label:null===e||void 0===e?void 0:e.name,value:null===e||void 0===e?void 0:e.id,...e}))):[],errors:g}),(0,t.jsxs)("div",{class:"modal-footer align-items-center",children:[(0,t.jsx)("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal",children:"Done"}),(0,t.jsx)("button",{type:"submit",class:"btn btn-primary",children:"Add"})]})]})})]})})})};var j=s(94690),f=s.n(j),y=s(41609);const w=e=>{let{todosData:l,token:s,dispatch:a,onDataFromChild:i,todosData_:n,paginationDataFromChild:r}=e;console.log("\ud83d\ude80 ~ todosData_:",n);const d=e=>{i(!0),a((0,x.vK)(s,e))};return(0,t.jsx)("div",{class:"container",children:l&&Object.entries(l).map((e=>{let[l,i]=e;return(0,t.jsx)("div",{class:"collapse-simple mt-4",children:(0,t.jsxs)("div",{class:"card",children:[(0,t.jsx)("div",{class:"card-header",children:(0,t.jsx)("a",{role:"button","data-bs-toggle":"collapse",href:"/todo_collapse_1","aria-expanded":"true",children:(0,t.jsx)("h5",{class:"mb-0",children:f()(Date.now()).format("YYYY-MM-DD")===l?"Recently Assigned":f()(l).format("MMM DD YYYY")})})}),(0,t.jsx)("div",{id:"todo_collapse_1",class:"collapse show",children:(0,t.jsx)("div",{class:"card-body",children:(0,t.jsx)("ul",{id:"todo_list",class:"advance-list",children:null===i||void 0===i?void 0:i.map(((e,l)=>{var i,n,r,o,c,u,v,h;return(0,t.jsx)("li",{class:"advance-list-item single-task-list active-todo",onClick:()=>d(e.id),children:(0,t.jsxs)("div",{class:"d-flex align-items-center justify-content-between",children:[(0,t.jsx)("div",{class:"d-flex align-items-center",children:(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{class:"badge badge-danger badge-indicator badge-indicator-xl"}),(0,t.jsx)("span",{class:"todo-text text-dark text-truncate",children:e.name}),(0,t.jsx)("span",{class:"badge badge-sm badge-outline badge-danger badge-wth-indicator badge-wth-icon ms-3 d-lg-inline-block d-none",children:(0,t.jsxs)("span",{children:[(0,t.jsx)("i",{class:"badge-dot ri-checkbox-blank-circle-fill"}),e.priority]})})]})}),(0,t.jsxs)("div",{class:"d-flex flex-shrink-0 align-items-center ms-3",children:[(0,t.jsx)("span",{class:"todo-time d-lg-inline-block d-none text-primary me-3",children:f()(e.end_date).format("YYYY MMM DD")+" "+e.end_time}),(0,t.jsxs)("div",{className:"avatar-group avatar-group-sm avatar-group-overlapped me-3",children:[(null===e||void 0===e?void 0:e.asign_to)&&(null===e||void 0===e||null===(i=e.asign_to)||void 0===i||null===(n=i.members)||void 0===n?void 0:n.map(((e,l)=>(0,t.jsx)("div",{className:"avatar avatar-rounded","data-bs-toggle":"tooltip","data-bs-placement":"top",title:"","data-bs-original-title":"Katharine",children:(0,t.jsx)("img",{src:e.avatar,alt:"user",className:"avatar-img"})})))),(null===e||void 0===e||null===(r=e.asign_to)||void 0===r||null===(o=r.members)||void 0===o?void 0:o.length)>3&&(0,t.jsx)("div",{className:"avatar avatar-soft-danger avatar-rounded","data-bs-toggle":"tooltip","data-bs-placement":"top",title:"","data-bs-original-title":"Tooltip text",children:(0,t.jsxs)("span",{className:"initial-wrap",children:[(null===e||void 0===e||null===(c=e.asign_to)||void 0===c||null===(u=c.memebers)||void 0===u?void 0:u.length)-3,"+"]})})]}),null===e||void 0===e||null===(v=e.labels)||void 0===v||null===(h=v.labels)||void 0===h?void 0:h.map(((e,l)=>(0,t.jsx)("span",{class:"badge badge-primary ms-3 d-md-inline-block d-none",children:e},l))),(0,t.jsxs)("div",{class:"dropdown",children:[(0,t.jsx)("button",{class:"btn btn-icon btn-rounded btn-flush-light flush-soft-hover dropdown-toggle no-caret","aria-expanded":"false","data-bs-toggle":"dropdown",children:(0,t.jsx)("span",{class:"icon",children:(0,t.jsx)("span",{class:"feather-icon",children:(0,t.jsx)(y.txp,{})})})}),(0,t.jsxs)("div",{role:"menu",class:"dropdown-menu dropdown-menu-end",children:[(0,t.jsx)("button",{class:"dropdown-item edit-task",onClick:d,children:"Edit Task"}),(0,t.jsx)("button",{class:"dropdown-item view-task",onClick:d,children:"View Task"}),(0,t.jsx)("button",{class:"dropdown-item ",onClick:()=>{return l=e.id,void a((0,x.Q$)(s,l));var l},children:"Delete Task"})]})]})]})]})},l)}))})})})]})},l)}))})},k=e=>{var l,s,i,n,r,h;let{onDataFromChild:b,todoDetails:g,token:j,dispatch:y,usersData:w}=e;const{handleSubmit:k,control:_,setValue:D,formState:{errors:S}}=(0,d.mN)({});(0,a.useEffect)((()=>{y((0,m.lo)(j))}),[j,y]),(0,a.useEffect)((()=>{var e,l;g&&(D("name",null===g||void 0===g?void 0:g.name),D("code",null===g||void 0===g?void 0:g.code),D("description",null===g||void 0===g?void 0:g.description),D("start_date",f()(null===g||void 0===g?void 0:g.start_date).format("YYYY-MM-DD")),D("start_time",null===g||void 0===g?void 0:g.start_time),D("end_date",f()(null===g||void 0===g?void 0:g.end_date).format("YYYY-MM-DD")),D("end_time",null===g||void 0===g?void 0:g.end_time),D("category_id",{label:"Development",value:null===g||void 0===g?void 0:g.category_id}),D("status",{label:null===g||void 0===g?void 0:g.status,value:null===g||void 0===g?void 0:g.status}),D("priority",{label:null===g||void 0===g?void 0:g.priority,value:null===g||void 0===g?void 0:g.priority}),D("labels",null===g||void 0===g||null===(e=g.labels)||void 0===e?void 0:e.labels),D("asign_to",null===g||void 0===g||null===(l=g.asign_to)||void 0===l?void 0:l.members))}),[g,D]);return(0,t.jsx)("div",{class:"task-info",children:(0,t.jsx)("div",{"data-simplebar":!0,class:"nicescroll-bar",children:(0,t.jsxs)("div",{class:"task-detail-body",children:[(0,t.jsx)("h4",{class:"d-flex align-items-center fw-bold mb-0 inline-editable-wrap",children:(0,t.jsx)("span",{class:"editable",children:null===g||void 0===g?void 0:g.name})}),(0,t.jsxs)("p",{class:"d-flex align-items-center inline-editable-wrap",children:[(0,t.jsx)("span",{class:"editable",children:null===g||void 0===g?void 0:g.description}),(0,t.jsx)("a",{class:"btn btn-sm btn-icon btn-flush-light btn-rounded flush-soft-hover edit-tyn ms-1",href:"/",children:(0,t.jsx)("span",{class:"icon",children:(0,t.jsx)("span",{class:"feather-icon",children:(0,t.jsx)("i",{"data-feather":"edit-2"})})})})]}),(0,t.jsxs)("div",{className:"avatar-group avatar-group-sm avatar-group-overlapped me-3",children:[(null===g||void 0===g?void 0:g.asign_to)&&(null===g||void 0===g||null===(l=g.asign_to)||void 0===l||null===(s=l.members)||void 0===s?void 0:s.map(((e,l)=>(0,t.jsx)("div",{className:"avatar avatar-rounded","data-bs-toggle":"tooltip","data-bs-placement":"top",title:"","data-bs-original-title":"Katharine",children:(0,t.jsx)("img",{src:e.avatar,alt:"user",className:"avatar-img"})})))),(null===g||void 0===g||null===(i=g.asign_to)||void 0===i||null===(n=i.members)||void 0===n?void 0:n.length)>3&&(0,t.jsx)("div",{className:"avatar avatar-soft-danger avatar-rounded","data-bs-toggle":"tooltip","data-bs-placement":"top",title:"","data-bs-original-title":"Tooltip text",children:(0,t.jsxs)("span",{className:"initial-wrap",children:[(null===g||void 0===g||null===(r=g.asign_to)||void 0===r||null===(h=r.memebers)||void 0===h?void 0:h.length)-3,"+"]})})]}),(0,t.jsxs)("form",{onSubmit:k((e=>{const l={...e,priority:e.priority.value,status:e.status.value,category_id:e.category_id.value};return y((0,x.Gn)(j,null===g||void 0===g?void 0:g.id,l)),{}})),children:[(0,t.jsx)("div",{class:"title title-xs title-wth-divider text-primary text-uppercase mt-1 mb-4",children:(0,t.jsx)("span",{children:"Basic Info"})}),(0,t.jsxs)("div",{class:"row gx-3",children:[(0,t.jsx)("div",{class:"col-sm-8",children:(0,t.jsx)(o.A,{name:"name",placeholder:"Enter name for the task",label:"Name",control:_,rules:{required:{value:!0,message:"Field required!"}},errors:S})}),(0,t.jsx)("div",{class:"col-sm-4",children:(0,t.jsx)(o.A,{name:"code",type:"number",placeholder:"Enter code for the task",label:"Code",control:_,rules:{required:{value:!0,message:"Field required!"}},errors:S})})]}),(0,t.jsx)("div",{class:"row gx-3",children:(0,t.jsx)("div",{class:"col-md-12",children:(0,t.jsx)(c.A,{name:"description",placeholder:"Note",label:"Description/Note",control:_,rows:5,rules:{required:{value:!0,message:"Field required!"}},errors:S})})}),(0,t.jsxs)("div",{class:"row gx-3",children:[(0,t.jsx)("div",{class:"col-sm-6",children:(0,t.jsx)(u.A,{name:"start_date",placeholder:"Start date",label:"Start Date",control:_,showTimeSelect:!1,rules:{required:{value:!0,message:"Field required!"}},errors:S})}),(0,t.jsx)("div",{class:"col-sm-6",children:(0,t.jsx)(u.A,{name:"start_time",placeholder:"Start time",label:"Start time",control:_,showTimeSelect:!0,showTimeSelectOnly:!0,rules:{required:{value:!0,message:"Field required!"}},errors:S})})]}),(0,t.jsxs)("div",{class:"row gx-3",children:[(0,t.jsx)("div",{class:"col-sm-6",children:(0,t.jsx)(u.A,{name:"end_date",placeholder:"End date",label:"End Date",control:_,showTimeSelect:!1,rules:{required:{value:!0,message:"Field required!"}},errors:S})}),(0,t.jsx)("div",{class:"col-sm-6",children:(0,t.jsx)(u.A,{name:"end_time",placeholder:"End time",label:"End time",control:_,showTimeSelect:!0,showTimeSelectOnly:!0,rules:{required:{value:!0,message:"Field required!"}},errors:S})})]}),(0,t.jsxs)("div",{class:"row gx-3",children:[(0,t.jsx)("div",{class:"col-sm-6 col-md-6",children:(0,t.jsx)("div",{class:"form-inline",children:(0,t.jsx)(v.A,{name:"priority",placeholder:"Select priority",label:"Priority",control:_,rules:{required:{value:!0,message:"Field required!"}},options:[{label:"High",value:"high"},{label:"Medium",value:"medium"},{label:"Low",value:"low"}],errors:S})})}),(0,t.jsx)("div",{class:"col-sm-6 col-md-6",children:(0,t.jsx)(v.A,{name:"status",placeholder:"Select status",label:"Status",control:_,rules:{required:{value:!0,message:"Field required!"}},options:[{label:"To-Do",value:"to-do"},{label:"On-Hold",value:"on-hold"},{label:"In-Progress",value:"in-progress"},{label:"Done",value:"done"},{label:"Pending",value:"pending"}],errors:S})})]}),(0,t.jsx)("div",{class:"row gx-3",children:(0,t.jsx)("div",{class:"col-sm-12",children:(0,t.jsx)("div",{class:"form-inline",children:(0,t.jsx)(p.A,{name:"labels",placeholder:"Add labels",label:"Labels",control:_,rules:{required:{value:!0,message:"Field required!"}},errors:S})})})}),(0,t.jsx)("div",{class:"title title-xs title-wth-divider text-primary text-uppercase my-4",children:(0,t.jsx)("span",{children:"Assign to"})}),(0,t.jsx)(v.A,{name:"asign_to",placeholder:"Asign to",label:"Asign to",control:_,rules:{required:{value:!0,message:"Field required!"}},isMulti:!0,options:(null===w||void 0===w?void 0:w.length)>0&&w.map((e=>({label:e.name,value:e.id,...e}))),errors:S}),(0,t.jsxs)("div",{class:"modal-footer d-flex justify-content-start",children:[(0,t.jsx)("button",{type:"button",class:"btn btn-secondary",onClick:()=>b(!1),children:"Discard"}),(0,t.jsx)("button",{type:"submit",class:"btn btn-primary",children:"Update"})]})]})]})})})};var _=s(34304),D=s.n(_);const S=()=>{const[e,l]=(0,a.useState)([]),[s,i]=(0,a.useState)([]),[d,o]=(0,a.useState)([]),[c,u]=(0,a.useState)(!1),{token:v,user:p}=(0,h.d4)((e=>e.auth)),{users:b}=(0,h.d4)((e=>e.user)),{todos:j,todoDetails:f}=(0,h.d4)((e=>e.todo)),y=(0,h.wA)();(0,a.useEffect)((()=>{if((null===b||void 0===b?void 0:b.length)>0){const e=null===b||void 0===b?void 0:b.filter((e=>D().toInteger(e.parent_id)===p.id||D().toInteger(e.client_id)===p.id));l(e)}}),[b,p]),(0,a.useEffect)((()=>{const e=[];(null===j||void 0===j?void 0:j.length)>0&&(null===j||void 0===j||j.map(((l,s)=>{var a,i;null===l||void 0===l||null===(a=l.asign_to)||void 0===a||null===(i=a.members)||void 0===i||i.map(((s,a)=>{s.id===p.id&&e.push(l)}))})));const l="AGENT"===(null===p||void 0===p?void 0:p.role)?e:j,s=null===l||void 0===l?void 0:l.reduce(((e,l)=>{const s=l.created_at.split("T")[0];return e[s]=e[s]||[],e[s].push(l),e}),{});i(s),o(j)}),[j,p]),(0,a.useEffect)((()=>{y((0,x.my)(v)),y((0,m.lo)(v))}),[y,v]);const _=e=>{u(e)};return(0,t.jsx)("div",{class:"hk-pg-wrapper pb-0",children:(0,t.jsx)("div",{class:"hk-pg-body py-0",children:(0,t.jsxs)("div",{class:"todoapp-wrap todoapp-info-active",children:[(0,t.jsx)(n,{}),(0,t.jsxs)("div",{class:"todoapp-content",children:[(0,t.jsxs)("div",{class:"todoapp-detail-wrap",children:[(0,t.jsx)(r,{authUser:p}),(0,t.jsx)("div",{class:"todo-body",children:(0,t.jsx)("div",{"data-simplebar":!0,class:"nicescroll-bar",children:(0,t.jsx)(w,{todosData:s,token:v,dispatch:y,onDataFromChild:_,todosData_:d,paginationDataFromChild:e=>{}})})}),c&&(0,t.jsx)(k,{todoDetails:f,onDataFromChild:_,dispatch:y,usersData:e,token:v})]}),(0,t.jsx)(g,{token:v,usersData:e,user:p})]})]})})})},q=()=>(0,t.jsx)(i.A,{component:(0,t.jsx)(S,{})})},55794:(e,l,s)=>{s.d(l,{u:()=>d});var a=s(82483);function i(e,l){let s=(0,a.useRef)(!1);(0,a.useEffect)((()=>{s.current?e():s.current=!0}),l)}function t(){for(var e=arguments.length,l=new Array(e),s=0;s<e;s++)l[s]=arguments[s];return l.filter((e=>e)).join(" ")}function n(e){let{text:l,remove:s,disabled:i,className:n}=e;return a.createElement("span",{className:t("rti--tag",n)},a.createElement("span",null,l),!i&&a.createElement("button",{type:"button",onClick:e=>{e.stopPropagation(),s(l)},"aria-label":"remove ".concat(l)},"\u2715"))}!function(e){let{insertAt:l}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!e||typeof document>"u")return;let s=document.head||document.getElementsByTagName("head")[0],a=document.createElement("style");a.type="text/css","top"===l&&s.firstChild?s.insertBefore(a,s.firstChild):s.appendChild(a),a.styleSheet?a.styleSheet.cssText=e:a.appendChild(document.createTextNode(e))}(".rti--container *{box-sizing:border-box;transition:all .2s ease}.rti--container{--rti-bg: #fff;--rti-border: #ccc;--rti-main: #3182ce;--rti-radius: .375rem;--rti-s: .5rem;--rti-tag: #edf2f7;--rti-tag-remove: #e53e3e;--rti-tag-padding: .15rem .25rem;align-items:center;background:var(--rti-bg);border:1px solid var(--rti-border);border-radius:var(--rti-radius);display:flex;flex-wrap:wrap;gap:var(--rti-s);line-height:1.4;padding:var(--rti-s)}.rti--container:focus-within{border-color:var(--rti-main);box-shadow:var(--rti-main) 0 0 0 1px}.rti--input{border:0;outline:0;font-size:inherit;line-height:inherit;width:50%}.rti--tag{align-items:center;background:var(--rti-tag);border-radius:var(--rti-radius);display:inline-flex;justify-content:center;padding:var(--rti-tag-padding)}.rti--tag button{background:none;border:0;border-radius:50%;cursor:pointer;line-height:inherit;padding:0 var(--rti-s)}.rti--tag button:hover{color:var(--rti-tag-remove)}\n");var r=["Enter"],d=e=>{let{name:l,placeHolder:s,value:d,onChange:o,onBlur:c,separators:u,disableBackspaceRemove:v,onExisting:h,onRemoved:m,disabled:x,isEditOnRemove:p,beforeAddValidate:b,onKeyUp:g,classNames:j}=e,[f,y]=(0,a.useState)(d||[]);i((()=>{o&&o(f)}),[f]),i((()=>{JSON.stringify(d)!==JSON.stringify(f)&&y(d)}),[d]);let w=e=>{y(f.filter((l=>l!==e))),m&&m(e)};return a.createElement("div",{"aria-labelledby":l,className:"rti--container"},f.map((e=>a.createElement(n,{key:e,className:null==j?void 0:j.tag,text:e,remove:w,disabled:x}))),a.createElement("input",{className:t("rti--input",null==j?void 0:j.input),type:"text",name:l,placeholder:s,onKeyDown:e=>{e.stopPropagation();let l=e.target.value;if(!l&&!v&&f.length&&"Backspace"===e.key&&(e.target.value=p?"".concat(f.at(-1)," "):"",y([...f.slice(0,-1)])),l&&(u||r).includes(e.key)){if(e.preventDefault(),b&&!b(l,f))return;if(f.includes(l))return void(h&&h(l));y([...f,l]),e.target.value=""}},onBlur:c,disabled:x,onKeyUp:g}))}}}]);
//# sourceMappingURL=3872.fcbd48e0.chunk.js.map