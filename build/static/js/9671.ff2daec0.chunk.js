"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[9671],{58510:(e,s,a)=>{a.d(s,{A:()=>r});var n=a(82483),t=a(23080),o=a(56723);const l=n.forwardRef(((e,s)=>{const{field:a}=(0,t.as)(e),{label:n,style:l,defaultValue:r,disabled:d}=e;return(0,o.jsx)(o.Fragment,{children:(0,o.jsx)(t.xI,{name:null===e||void 0===e?void 0:e.name,control:null===e||void 0===e?void 0:e.control,rules:null===e||void 0===e?void 0:e.rules,defaultValue:r,render:t=>{let{field:{onChange:r,value:i}}=t;return(0,o.jsxs)("div",{className:" form-check form-check-md ",children:[(0,o.jsx)("label",{className:"form-check-lable",children:n}),(0,o.jsx)("input",{...a,ref:s,checked:"1"===a.value||!0===a.value,type:"checkbox",disabled:d,onChange:s=>{r(s.target.checked),e.onChange&&e.onChange(s)},style:l||{},className:"form-check-input"})]})}})})}));l.displayName="Checkbox";const r=l},19935:(e,s,a)=>{var n=a(82483),t=a(23080),o=a(34304),l=a.n(o),r=a(73643),d=a(56723);const i=n.forwardRef(((e,s)=>{const[a,o]=(0,n.useState)([]),[i,c]=(0,n.useState)({}),[h,u]=(0,n.useState)({}),{title:m,style:g,label:v,type:b,errors:x,defaultValue:p,onChange:j,onFocus:f,onBlur:T,menuPlacement:y,ellipses:k,value:S,placeHolder:N,...C}=e,{field:w,fieldState:M,formState:F}=(0,t.as)(e);let A=l().get(x,e.name);return(0,d.jsxs)("div",{className:"mb-5",children:[(0,d.jsx)(t.xI,{name:null===e||void 0===e?void 0:e.name,rules:null===e||void 0===e?void 0:e.rules,control:null===e||void 0===e?void 0:e.control,defaultValue:p,render:s=>{let{field:{onChange:a}}=s;return(0,d.jsxs)(d.Fragment,{children:[v&&(0,d.jsx)("label",{for:null===e||void 0===e?void 0:e.name,class:"block mb-2 text-sm font-bold text-gray-900 dark:text-white",children:v}),(0,d.jsx)(r.Rl,{projectId:"CRM",handleCountryChange:e=>{c(e),a(null===e||void 0===e?void 0:e.code)},handleStateChange:e=>u(e),children:(0,d.jsx)(r.tD,{label:"Country/Territory",style:{height:"10px"}})})]})}}),e.rules&&A&&e.rules&&null!==A&&void 0!==A&&A.message?(0,d.jsx)("p",{className:" fs-6 p-1 text-danger",id:"email-error",children:e.rules&&A&&e.rules&&(null===A||void 0===A?void 0:A.message)}):""]})}));i.displayName="ReactCountryField"},39161:(e,s,a)=>{a.d(s,{I:()=>d,L:()=>r});var n=a(11222),t=a(9910),o=a(73422);const l="".concat("https://desktopcrm.com:51/v1"),r=e=>async s=>{try{s((0,t.hb)());const a={headers:{"Content-Type":"application/json","x-access-token":e}};await n.A.get("".concat(l,"/user/calling/user-messages"),a).then((e=>{var a;if(console.log("\ud83d\ude80 ~ .then ~ response:",e),200!==(null===e||void 0===e||null===(a=e.data)||void 0===a?void 0:a.statusCode))return o.oR.error(e.data.message),s((0,t.xk)(e.data.message));s((0,t.ez)(e.data.data.messagesData))}))}catch(a){s((0,t.xk)(a.message))}},d=(e,s)=>async a=>{try{a((0,t.hb)());const r={headers:{"Content-Type":"application/json","x-access-token":e}};await n.A.post("".concat(l,"/user/calling/user-messages-logs"),s,r).then((e=>{var s;if(console.log("\ud83d\ude80 ~ .then ~ response:",e),200!==(null===e||void 0===e||null===(s=e.data)||void 0===s?void 0:s.statusCode))return o.oR.error(e.data.message),a((0,t.xk)(e.data.message));a((0,t.ez)(e.data.data.messagesData))}))}catch(r){a((0,t.xk)(r.message))}}},49671:(e,s,a)=>{a.r(s),a.d(s,{default:()=>f});var n=a(82483),t=a(16575),o=a(56723);const l=()=>(0,o.jsx)("header",{className:"contact-header",children:(0,o.jsx)("div",{className:"d-flex align-items-center",children:(0,o.jsx)("div",{className:"dropdown",children:(0,o.jsx)("a",{className:"contactapp-title dropdown-toggle link-dark",role:"button",children:(0,o.jsx)("h1",{children:"Messages Logs"})})})})});var r=a(91965),d=a(7874),i=a(710),c=a(28846),h=a(49678),u=a(94690),m=a.n(u),g=a(55870);const v=e=>{let{isEdit:s,recordingsData:a}=e;const t=(0,r.wA)(),{token:l}=(0,r.d4)((e=>e.auth)),{isLoading:u}=(0,r.d4)((e=>e.calling));(0,n.useEffect)((()=>{l&&(t((0,d.EC)(l)),t((0,h.lo)(l)))}),[t,l]);const v={21601:"The From phone number is invalid or not a valid, SMS-capable Twilio number.",21602:"The To phone number is not a valid phone number.",21603:"The Body of the message is required and cannot be empty.",21604:"The From phone number is required to send a message.",21605:"The StatusCallback URL is not a valid URL.",21606:"The MessageSid provided is not valid.",21610:"The To phone number has opted out of receiving messages from your Twilio number.",21612:"The To phone number is not currently reachable via SMS.",21614:"The To phone number is not a valid mobile number.",21617:"The From phone number has not been enabled for SMS.",21618:"The MessageSid does not exist.",21620:"The MessagingServiceSid is not valid.",21621:"The MessageBody exceeds the maximum allowed length.",21622:"The Message contains prohibited content.",21627:"The From phone number is not a valid, SMS-capable phone number.",21629:"Cannot send message content due to the carrier filter.",21630:"The From phone number is not enabled for messaging.",21631:"The From phone number is not valid.",21632:"The Message content is too long.",21633:"The From phone number is not a valid Twilio number.",30032:"Your toll-free number has not been Verified to allow sending of traffic in USA and Canada"};return(0,o.jsx)("div",{className:"contact-list-view",children:!s&&(0,o.jsx)(o.Fragment,{children:u?(0,o.jsx)(i.A,{}):(0,o.jsxs)("table",{"data-sticky-header":!0,className:"table table-responsive w-100 mb-5",children:[(0,o.jsx)("thead",{className:"table-primary shadow-lg",children:(0,o.jsxs)("tr",{className:"sticky-top border rounded",children:[(0,o.jsx)("th",{children:"Date"}),(0,o.jsx)("th",{children:"From"}),(0,o.jsx)("th",{children:"To"}),(0,o.jsx)("th",{children:"Status"}),(0,o.jsx)("th",{children:"Text"}),(0,o.jsx)("th",{children:"Direction"}),(0,o.jsx)("th",{children:"Error Message"}),(0,o.jsx)("th",{children:"Price"})]})}),(0,o.jsx)("tbody",{children:(null===a||void 0===a?void 0:a.length)>0&&(null===a||void 0===a?void 0:a.map((e=>{return(0,o.jsxs)("tr",{children:[(0,o.jsx)("td",{children:m()(null===e||void 0===e?void 0:e.dateCreated).format("HH:mm:ss YYYY-MM-DD")}),(0,o.jsx)("td",{children:null===e||void 0===e?void 0:e.from}),(0,o.jsx)("td",{children:null===e||void 0===e?void 0:e.to}),(0,o.jsx)("td",{children:null===e||void 0===e?void 0:e.status}),(0,o.jsx)("td",{children:(0,o.jsx)(g.A,{trigger:(0,o.jsx)("button",{className:"btn btn-icon btn-floating btn-light btn-sm btn-rounded shadow-lg",id:"dialer_button",children:(0,o.jsx)(c.Ny1,{size:"18",style:{marginTop:"-15%"}})}),position:"bottom right",children:(0,o.jsx)("p",{className:"",children:null===e||void 0===e?void 0:e.body})})}),(0,o.jsx)("td",{children:null===e||void 0===e?void 0:e.direction}),(0,o.jsx)("td",{children:(null===e||void 0===e?void 0:e.errorCode)&&(0,o.jsx)(g.A,{trigger:(0,o.jsx)("button",{className:"btn btn-icon btn-floating btn-light btn-sm btn-rounded shadow-lg",id:"dialer_button",children:(0,o.jsx)(c.Ny1,{color:"red",size:"18",style:{marginTop:"-15%"}})}),position:"bottom right",children:(0,o.jsx)("p",{className:"",children:(null===e||void 0===e?void 0:e.errorCode)&&(s=e.errorCode,v[s]||"Unknown error code")})})}),(0,o.jsx)("td",{children:null!==e&&void 0!==e&&e.price?2*parseFloat(null===e||void 0===e?void 0:e.price):0})]});var s})))})]})})})};a(19935),a(58510),a(7817),a(42060);var b=a(10802);var x=a(23080),p=a(39161);const j=()=>{const{handleSubmit:e,watch:s,control:a,setValue:t,formState:{errors:d}}=(0,x.mN)({}),[i,c]=(0,n.useState)([]),[h,u]=(0,n.useState)([]),[m,g]=(0,n.useState)([]),[j,f]=(0,n.useState)(!1),[T,y]=(0,n.useState)(!1),{contacts:k}=(0,r.d4)((e=>e.contact)),{availableNumbers:S,recordings:N}=(0,r.d4)((e=>e.calling)),{token:C,accountSid:w,accountAuthToken:M}=(0,r.d4)((e=>e.auth)),{callLogs:F,isLoading:A}=(0,r.d4)((e=>e.calling)),{messages:D}=(0,r.d4)((e=>e.message));console.log("\ud83d\ude80 ~ MessagesLogsContent ~ messages:",D);const E=(0,r.wA)();(0,n.useMemo)((()=>{E((0,p.I)(C,{accountSid:w,authToken:M}))}),[C,E,M,w]),(0,n.useEffect)((()=>{D.length>0&&c(D)}),[D]),(0,n.useEffect)((()=>{S.length>0&&(u(S),g(S))}),[S]),(0,n.useEffect)((()=>{E((0,b.TL)(C,{accountSid:w,authToken:M}))}),[E,C,w,M]);return(0,o.jsx)("div",{className:"hk-pg-wrapper pb-0",children:(0,o.jsx)("div",{className:"hk-pg-body py-0",children:(0,o.jsx)("div",{className:"contactapp-wrap",children:(0,o.jsx)("div",{className:"contactapp-content",children:!j&&(0,o.jsxs)("div",{className:"contactapp-detail-wrap",children:[(0,o.jsx)(l,{}),(0,o.jsx)("div",{className:"contact-body",children:(0,o.jsx)("div",{"data-simplebar":!0,className:"nicescroll-bar",children:(0,o.jsx)(v,{contactsData:h,onToggleEdit:e=>{f(e)},isEdit:j,recordingsData:i})})})]})})})})})},f=()=>(0,o.jsx)(t.A,{component:(0,o.jsx)(j,{})})}}]);
//# sourceMappingURL=9671.ff2daec0.chunk.js.map