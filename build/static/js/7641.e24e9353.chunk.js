"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[7641],{50818:(e,l,s)=>{s.d(l,{Z:()=>o});var a=s(72791),i=s(61134),n=s(80184);const d=a.forwardRef(((e,l)=>{const{field:s}=(0,i.bc)(e),{label:a,style:d,defaultValue:o,disabled:t}=e;return(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(i.Qr,{name:null===e||void 0===e?void 0:e.name,control:null===e||void 0===e?void 0:e.control,rules:null===e||void 0===e?void 0:e.rules,defaultValue:o,render:i=>{let{field:{onChange:o,value:r}}=i;return(0,n.jsxs)("div",{className:" form-check form-check-md ",children:[(0,n.jsx)("label",{className:"form-check-lable",children:a}),(0,n.jsx)("input",{...s,ref:l,checked:"1"===s.value||!0===s.value,type:"checkbox",disabled:t,onChange:l=>{o(l.target.checked),e.onChange&&e.onChange(l)},style:d||{},className:"form-check-input"})]})}})})}));d.displayName="Checkbox";const o=d},64193:(e,l,s)=>{s.d(l,{Z:()=>h});var a=s(72791),i=s(59513),n=s.n(i),d=(s(68639),s(14070),s(61134)),o=s(763),t=s.n(o),r=s(72426),c=s.n(r),m=s(80184);const v=a.forwardRef(((e,l)=>{const[s,i]=(0,a.useState)(!1),{title:o,style:r,type:v,errors:h,defaultValue:u,isDisabled:x,dateTime:p=!0,customStyles:j,onChange:b,maxDate:N,isHighLight:f=!1,showYearPicker:g,showTime:_,showIcon:y,showTimeSelectOnly:w,label:k,...C}=e,{field:D,fieldState:S}=(0,d.bc)(e);let A=t().get(h,e.name);return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(d.Qr,{autoFocus:!1,name:null===e||void 0===e?void 0:e.name,control:null===e||void 0===e?void 0:e.control,rules:null===e||void 0===e?void 0:e.rules,defaultValue:u,render:s=>{let{field:a}=s;let d=new Date(null===a||void 0===a?void 0:a.value);return function(e){let l=new Date(e);return l instanceof Date&&!isNaN(l)}(null===a||void 0===a?void 0:a.value)||(d=""),(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)("label",{class:"form-label-group",children:k}),(0,m.jsx)(n(),{...a,ref:l,autoComplete:"off",autoFocus:!1,placeholderText:"Select Date",onChange:l=>{a.onChange(w?c()(l).format("HH:mm:ss"):c()(l).format("yyyy-MM-DD")),b&&b(l,null===e||void 0===e?void 0:e.name)},selected:d,onFocus:()=>i(!0),onBlur:()=>{i(!1)},dateFormat:g?"yyyy":"yyyy-MM-DD HH:mm:ss",className:"form-control text-lg  ".concat(x?"opacity-50":"","\n                                   ").concat(f&&" focus:bg-dark   "),placeholder:e.placeholder?e.placeholder:"",disabled:x,maxDate:null===e||void 0===e?void 0:e.maxDate,minDate:null===e||void 0===e?void 0:e.minDate,showTimeSelect:_,showIcon:y,showTimeSelectOnly:w,isClearable:!0,timeFormat:"HH:mm:ss",timeIntervals:15,showYearPicker:g||!1,...C})]})}}),e.rules&&A&&(0,m.jsx)("p",{className:" text-xs text-red-600 h-3",id:"email-error",children:e.rules&&A&&e.rules&&A.message})]})}));v.displayName="DatePickerFeild";const h=v},77641:(e,l,s)=>{s.r(l),s.d(l,{default:()=>F});var a=s(72791),i=s(34855),n=s(12202),d=s(77558),o=s(80184);const t=e=>{let{onShowCreateDataFromChild:l,onShowListDataFromChild:s,onShowDetailsDataFromChild:i,onFilterDataFromChild:t,invoiceData:r,dispatch:c}=e;const[m,v]=(0,a.useState)("all");return(0,o.jsxs)("nav",{className:"invoiceapp-sidebar",children:[(0,o.jsx)("div",{"data-simplebar":!0,className:"nicescroll-bar",children:(0,o.jsxs)("div",{className:"menu-content-wrap",children:[(0,o.jsx)("button",{type:"button",className:"btn btn-primary btn-rounded btn-block mb-4 ",onClick:()=>{l(!0),s(!1),i(!1),c((0,d.O7)({}))},children:"Create"}),(0,o.jsx)("div",{className:"menu-group",children:(0,o.jsxs)("ul",{className:"nav nav-light navbar-nav flex-column",children:[(0,o.jsx)("li",{className:"nav-item ".concat("all"===m?"active":""),children:(0,o.jsxs)("button",{className:"nav-link btn-block",onClick:()=>{const e=null===r||void 0===r?void 0:r.filter((e=>"blocked"!==e.activity&&"archived"!==e.activity));v("all"),t(e),s(!0),l(!1),i(!1)},children:[(0,o.jsx)("span",{className:"nav-icon-wrap",children:(0,o.jsx)("span",{className:"feather-icon",children:(0,o.jsx)(n.I$,{})})}),(0,o.jsx)("span",{className:"nav-link-text",children:"All Invoices"})]})}),(0,o.jsx)("li",{className:"nav-item ".concat("sent"===m?"active":""),children:(0,o.jsxs)("button",{className:"nav-link btn-block",onClick:()=>{const e=null===r||void 0===r?void 0:r.filter((e=>"sent"===e.activity));v("sent"),t(e),s(!0),l(!1),i(!1)},children:[(0,o.jsx)("span",{className:"nav-icon-wrap",children:(0,o.jsx)("span",{className:"feather-icon",children:(0,o.jsx)(n.QJe,{})})}),(0,o.jsx)("span",{className:"nav-link-text",children:"Sent"})]})}),(0,o.jsx)("li",{className:"nav-item ".concat("archived"===m?"active":""),children:(0,o.jsxs)("button",{className:"nav-link btn-block",onClick:()=>{const e=null===r||void 0===r?void 0:r.filter((e=>"archived"===e.activity));v("archived"),t(e),s(!0),l(!1),i(!1)},children:[(0,o.jsx)("span",{className:"nav-icon-wrap",children:(0,o.jsx)("span",{className:"feather-icon",children:(0,o.jsx)(n.ALl,{})})}),(0,o.jsx)("span",{className:"nav-link-text",children:"Archived"})]})}),(0,o.jsx)("li",{className:"nav-item ".concat("draft"===m?"active":""),children:(0,o.jsxs)("button",{className:"nav-link btn-block",onClick:()=>{const e=null===r||void 0===r?void 0:r.filter((e=>"draft"===e.status));v("draft"),t(e),s(!0),l(!1),i(!1)},children:[(0,o.jsx)("span",{className:"nav-icon-wrap",children:(0,o.jsx)("span",{className:"feather-icon",children:(0,o.jsx)(n.ffH,{})})}),(0,o.jsx)("span",{className:"nav-link-text",children:"Pending"})]})}),(0,o.jsx)("li",{className:"nav-item ".concat("deleted"===m?"active":""),children:(0,o.jsxs)("button",{className:"nav-link btn-block",onClick:()=>{const e=null===r||void 0===r?void 0:r.filter((e=>"blocked"===e.activity));v("deleted"),t(e),s(!0),l(!1),i(!1)},children:[(0,o.jsx)("span",{className:"nav-icon-wrap",children:(0,o.jsx)("span",{className:"feather-icon",children:(0,o.jsx)(n.Xm5,{})})}),(0,o.jsx)("span",{className:"nav-link-text",children:"Deleted"})]})})]})}),(0,o.jsx)("div",{className:"menu-gap"})]})}),(0,o.jsx)("div",{className:"invoiceapp-fixednav",children:(0,o.jsx)("div",{className:"hk-toolbar",children:(0,o.jsxs)("ul",{className:"nav nav-light",children:[(0,o.jsx)("li",{className:"nav-item nav-link",children:(0,o.jsx)("a",{className:"btn btn-icon btn-flush-dark btn-rounded flush-soft-hover","data-bs-toggle":"tooltip","data-bs-placement":"top",title:"","data-bs-original-title":"Settings",href:"/",children:(0,o.jsx)("span",{className:"icon",children:(0,o.jsx)("span",{className:"feather-icon",children:(0,o.jsx)("i",{"data-feather":"settings"})})})})}),(0,o.jsx)("li",{className:"nav-item nav-link",children:(0,o.jsx)("a",{href:"/",className:"btn btn-icon btn-rounded btn-flush-dark flush-soft-hover","data-bs-toggle":"tooltip","data-bs-placement":"top",title:"","data-bs-original-title":"Archive",children:(0,o.jsx)("span",{className:"icon",children:(0,o.jsx)("span",{className:"feather-icon",children:(0,o.jsx)("i",{"data-feather":"archive"})})})})}),(0,o.jsx)("li",{className:"nav-item nav-link",children:(0,o.jsx)("a",{href:"/",className:"btn btn-icon btn-rounded btn-flush-dark flush-soft-hover","data-bs-toggle":"tooltip","data-bs-placement":"top",title:"","data-bs-original-title":"Help",children:(0,o.jsx)("span",{className:"icon",children:(0,o.jsx)("span",{className:"feather-icon",children:(0,o.jsx)("i",{"data-feather":"book"})})})})})]})})})]})};var r=s(763),c=s.n(r),m=s(72426),v=s.n(m),h=s(55294),u=s(75985);const x="".concat("https://desktopcrm.com:51/v1"),p=e=>async l=>{try{l((0,d.fK)());const s={headers:{"Content-Type":"application/json","x-access-token":e}};await h.Z.get("".concat(x,"/user/invoice/get-invoices"),s).then((e=>{var s;if(console.log("\ud83d\ude80 ~ .then ~ response:",e),200!==(null===e||void 0===e||null===(s=e.data)||void 0===s?void 0:s.statusCode))return u.Am.error(e.data.message),l((0,d.r6)(e.data.message));l((0,d.qL)(e.data.data.invoicesData))}))}catch(s){l((0,d.r6)(s.message))}},j=e=>async l=>{try{l((0,d.fK)());const s={headers:{"Content-Type":"application/json","x-access-token":e}};await h.Z.get("".concat(x,"/user/invoice/get-user-invoices"),s).then((e=>{var s;if(console.log("\ud83d\ude80 ~ .then ~ response:",e),200!==(null===e||void 0===e||null===(s=e.data)||void 0===s?void 0:s.statusCode))return u.Am.error(e.data.message),l((0,d.r6)(e.data.message));l((0,d.qL)(e.data.data.invoicesData))}))}catch(s){l((0,d.r6)(s.message))}},b=(e,l)=>async s=>{try{s((0,d.fK)());const a={headers:{"Content-Type":"application/json","x-access-token":e}};await h.Z.get("".concat(x,"/user/invoice/invoice-details/").concat(l),a).then((e=>{var l;if(console.log("\ud83d\ude80 ~ .then ~ response:",e),200!==(null===e||void 0===e||null===(l=e.data)||void 0===l?void 0:l.statusCode))return u.Am.error(e.data.message),s((0,d.r6)(e.data.message));s((0,d.O7)(e.data.data.invoiceData))}))}catch(a){s((0,d.r6)(a.message))}},N=e=>{let{invoiceData:l,dispatch:s,token:a,onShowCreateDataFromChild:i,onShowListDataFromChild:t,onShowDetailsDataFromChild:r}=e;const m=e=>{s(((e,l)=>async s=>{try{s((0,d.fK)());const a={headers:{"Content-Type":"application/json","x-access-token":e}};await h.Z.delete("".concat(x,"/user/invoice/delete-invoice/").concat(l),a).then((l=>{var a;if(console.log("\ud83d\ude80 ~ .then ~ response:",l),200!==(null===l||void 0===l||null===(a=l.data)||void 0===a?void 0:a.statusCode))return u.Am.error(l.data.message),s((0,d.r6)(l.data.message));s((0,d.Wu)(l.data.message)),s(p(e)),u.Am.success(l.data.message)}))}catch(a){s((0,d.r6)(a.message))}})(a,e))},j=e=>{s(((e,l,s)=>async a=>{try{a((0,d.fK)());const i={headers:{"Content-Type":"application/json","x-access-token":e}};await h.Z.put("".concat(x,"/user/invoice/update-activity/").concat(l),s,i).then((l=>{var s;if(console.log("\ud83d\ude80 ~ .then ~ response:",l),200!==(null===l||void 0===l||null===(s=l.data)||void 0===s?void 0:s.statusCode))return u.Am.error(l.data.message),a((0,d.r6)(l.data.message));a((0,d.aL)(l.data.message)),a(p(e)),u.Am.success(l.data.message)}))}catch(i){a((0,d.r6)(i.message))}})(a,e,{activity:"archived"}))};return(0,o.jsxs)("div",{children:[(0,o.jsxs)("header",{className:"invoice-header",children:[(0,o.jsx)("div",{className:"d-flex align-items-center",children:(0,o.jsx)("a",{className:"invoiceapp-title link-dark",href:"#",role:"button",children:(0,o.jsx)("h1",{children:"All invoices"})})}),(0,o.jsx)("div",{className:"hk-sidebar-togglable"})]}),(0,o.jsx)("div",{className:"invoice-body",children:(0,o.jsx)("div",{"data-simplebar":!0,className:"nicescroll-bar",children:(0,o.jsx)("div",{className:"invoice-list-view",children:(0,o.jsxs)("table",{id:"datable_1",className:"table nowrap w-100 mb-5",children:[(0,o.jsx)("thead",{children:(0,o.jsxs)("tr",{children:[(0,o.jsx)("th",{children:"Invoice #"}),(0,o.jsx)("th",{children:"Date"}),(0,o.jsx)("th",{children:"Reciplent"}),(0,o.jsx)("th",{children:"Status"}),(0,o.jsx)("th",{children:"Activity"}),(0,o.jsx)("th",{children:"Amount"}),(0,o.jsx)("th",{children:"Actions"})]})}),(0,o.jsx)("tbody",{children:(null===l||void 0===l?void 0:l.length)>0&&(null===l||void 0===l?void 0:l.map(((e,l)=>{var d,h,u,x,p,N,f,g;return(0,o.jsxs)("tr",{children:[(0,o.jsx)("td",{children:(0,o.jsx)("a",{onClick:()=>{return l=null===e||void 0===e?void 0:e.id,s(b(a,l)),i(!1),t(!1),void r(!0);var l},className:"table-link-text link-high-em",style:{cursor:"pointer"},children:null===e||void 0===e||null===(d=e.invoice_details)||void 0===d||null===(h=d.items[0])||void 0===h?void 0:h.value})}),(0,o.jsxs)("td",{children:[" ",v()(null===e||void 0===e||null===(u=e.invoice_details)||void 0===u||null===(x=u.items[1])||void 0===x?void 0:x.value).format("DD MMM, YYYY")]}),(0,o.jsxs)("td",{children:[(0,o.jsx)("div",{className:"text-dark",children:null===e||void 0===e||null===(p=e.bill_details)||void 0===p?void 0:p.company_name}),(0,o.jsx)("div",{className:"fs-7",children:null===e||void 0===e||null===(N=e.bill_details)||void 0===N?void 0:N.email})]}),(0,o.jsxs)("td",{children:["draft"===(null===e||void 0===e?void 0:e.status)&&(0,o.jsx)("span",{className:"badge badge-light",children:"draft"}),"unpaid"===(null===e||void 0===e?void 0:e.status)&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("span",{className:"badge badge-danger",children:"Unpaid"}),(0,o.jsxs)("div",{className:"fs-8 mt-1",children:["Due"," ",v()(null===e||void 0===e||null===(f=e.invoice_details)||void 0===f||null===(g=f.items[1])||void 0===g?void 0:g.value).format("DD MMM, YYYY")]})]}),"paid"===(null===e||void 0===e?void 0:e.status)&&(0,o.jsx)("span",{className:"badge badge-primary",children:"Paid"}),"blocked"===(null===e||void 0===e?void 0:e.status)&&(0,o.jsx)("span",{className:"badge badge-danger",children:"Blocked"})]}),(0,o.jsx)("td",{children:c().capitalize(null===e||void 0===e?void 0:e.activity)}),(0,o.jsxs)("td",{children:["$ ",null===e||void 0===e?void 0:e.total," USD"]}),(0,o.jsx)("td",{children:(0,o.jsx)("div",{className:"d-flex align-items-center",children:(0,o.jsxs)("div",{className:"d-flex",children:[(0,o.jsx)("a",{className:"btn btn-icon btn-flush-dark btn-rounded flush-soft-hover","data-bs-toggle":"tooltip","data-bs-placement":"top",title:"","data-bs-original-title":"Archive",onClick:()=>j(null===e||void 0===e?void 0:e.id),children:(0,o.jsx)("span",{className:"btn-icon-wrap",children:(0,o.jsx)("span",{className:"feather-icon",children:(0,o.jsx)(n.ALl,{color:"#007d88"})})})}),(0,o.jsx)("a",{className:"btn btn-icon btn-flush-dark btn-rounded flush-soft-hover","data-bs-toggle":"tooltip","data-bs-placement":"top",title:"","data-bs-original-title":"Edit",onClick:()=>{return l=null===e||void 0===e?void 0:e.id,s(b(a,l)),i(!0),t(!1),void r(!1);var l},children:(0,o.jsx)("span",{className:"btn-icon-wrap",children:(0,o.jsx)("span",{className:"feather-icon",children:(0,o.jsx)(n.ffH,{color:"#007d88"})})})}),(0,o.jsx)("a",{className:"btn btn-icon btn-flush-dark btn-rounded flush-soft-hover del-button","data-bs-toggle":"tooltip","data-bs-placement":"top",title:"","data-bs-original-title":"Delete",onClick:()=>m(null===e||void 0===e?void 0:e.id),children:(0,o.jsx)("span",{className:"btn-icon-wrap",children:(0,o.jsx)("span",{className:"feather-icon",children:(0,o.jsx)(n.AMf,{color:"red"})})})})]})})})]},l)})))})]})})})})]})},f=e=>{var l,s,a,i,n,d,t,r,c,m,v,h,u,x;let{invoiceDetails:p}=e;console.log("\ud83d\ude80 ~ InvoicePreview ~ invoiceDetails:",p);const j=[],b=[];return null===p||void 0===p||null===(l=p.invoice_details)||void 0===l||null===(s=l.items)||void 0===s||s.map(((e,l)=>(j.push(e.label),b.push(e.value),{}))),(0,o.jsxs)("div",{children:[(0,o.jsx)("header",{className:"invoice-header",children:(0,o.jsx)("div",{className:"d-flex align-items-center",children:(0,o.jsx)("a",{className:"invoiceapp-title link-dark ms-1 ms-sm-0",children:(0,o.jsx)("h1",{children:"Template Preview"})})})}),(0,o.jsx)("div",{className:"invoice-body",children:(0,o.jsx)("div",{className:"nicescroll-bar",style:{height:"700px",overflow:"scroll"},children:(0,o.jsx)("div",{className:"container",children:(0,o.jsxs)("div",{className:"template-invoice-wrap mt-xxl-5 p-md-5 p-3",children:[(0,o.jsxs)("div",{className:"row",children:[(0,o.jsx)("div",{className:"col-lg-3 col-md-5 order-md-0 order-1",children:(0,o.jsx)("img",{src:null===p||void 0===p?void 0:p.logo,width:100,alt:"logo"})}),(0,o.jsx)("div",{className:"col-lg-4 offset-lg-5 offset-md-3 col-md-4 mb-md-0 mb-2",children:(0,o.jsx)("h2",{className:"d-flex justify-content-md-end mb-0",children:null===p||void 0===p?void 0:p.title})})]}),(0,o.jsxs)("div",{className:"row mt-4",children:[(0,o.jsx)("div",{className:"col-md-4 order-md-0 order-1",children:(0,o.jsxs)("div",{className:"address-wrap",children:[(0,o.jsx)("h6",{children:null===p||void 0===p||null===(a=p.business_info)||void 0===a?void 0:a.company_name}),(0,o.jsx)("p",{children:null===p||void 0===p||null===(i=p.business_info)||void 0===i?void 0:i.address_line_1}),(0,o.jsx)("p",{children:null===p||void 0===p||null===(n=p.business_info)||void 0===n?void 0:n.address_line_2}),(0,o.jsxs)("p",{children:["j",null===p||void 0===p||null===(d=p.business_info)||void 0===d?void 0:d.email]})]})}),(0,o.jsx)("div",{className:"col-md-5 offset-md-3 mb-4 mb-md-0",children:(0,o.jsxs)("div",{className:"d-flex justify-content-md-end",children:[(0,o.jsx)("div",{className:"text-md-end me-3",children:null===j||void 0===j?void 0:j.map(((e,l)=>(0,o.jsx)("div",{className:"mb-1",children:e},l)))}),(0,o.jsx)("div",{className:"text-dark",children:null===b||void 0===b?void 0:b.map(((e,l)=>(0,o.jsx)("div",{className:"mb-1",children:e},l)))})]})})]}),(0,o.jsx)("div",{className:"separator separator-light"}),(0,o.jsx)("div",{className:"row",children:(0,o.jsxs)("div",{className:"col-md-3",children:[(0,o.jsx)("h6",{className:"text-uppercase fs-7 mb-2",children:"Billed To"}),(0,o.jsxs)("div",{className:"Billto-wrap",children:[(0,o.jsx)("h6",{children:null===p||void 0===p||null===(t=p.bill_details)||void 0===t?void 0:t.company_name}),(0,o.jsx)("p",{children:null===p||void 0===p||null===(r=p.bill_details)||void 0===r?void 0:r.address_line_1}),(0,o.jsx)("p",{children:null===p||void 0===p||null===(c=p.bill_details)||void 0===c?void 0:c.address_line_2}),(0,o.jsxs)("p",{children:["j",null===p||void 0===p||null===(m=p.bill_details)||void 0===m?void 0:m.email]})]})]})}),(0,o.jsx)("div",{className:"table-wrap mt-6",children:(0,o.jsx)("div",{className:"table-responsive",children:(0,o.jsxs)("table",{className:"table table-bordered",children:[(0,o.jsx)("thead",{className:"thead-primary",children:(0,o.jsxs)("tr",{children:[(0,o.jsx)("th",{children:"Item"}),(0,o.jsx)("th",{className:"text-end",children:"Quantity"}),(0,o.jsx)("th",{className:"text-end",children:"Price"}),(0,o.jsx)("th",{className:"text-end",children:"Discount"}),(0,o.jsx)("th",{className:"text-end",children:"Amount"})]})}),(0,o.jsxs)("tbody",{children:[null===p||void 0===p||null===(v=p.invoice_items)||void 0===v||null===(h=v.items)||void 0===h?void 0:h.map(((e,l)=>(0,o.jsxs)("tr",{children:[(0,o.jsxs)("td",{className:"w-70",children:[(0,o.jsx)("h6",{children:null===e||void 0===e?void 0:e.name}),(0,o.jsx)("p",{children:null===e||void 0===e?void 0:e.description})]}),(0,o.jsx)("td",{className:"text-end text-dark",children:null===e||void 0===e?void 0:e.quantity}),(0,o.jsx)("td",{className:"w-15 text-end text-dark",children:null===e||void 0===e?void 0:e.price}),(0,o.jsxs)("td",{className:"text-end text-dark",children:[null===e||void 0===e?void 0:e.discount,"%"]}),(0,o.jsxs)("td",{className:"w-20 text-end text-dark",children:["$",null===e||void 0===e?void 0:e.total]})]},l))),(0,o.jsxs)("tr",{children:[(0,o.jsx)("td",{colspan:"2",rowspan:"4",className:"border-0"}),(0,o.jsx)("td",{colspan:"2",children:"Subtotal"}),(0,o.jsxs)("td",{className:"text-end text-dark",children:["$",null===p||void 0===p?void 0:p.subtotal]})]}),(0,o.jsxs)("tr",{children:[(0,o.jsx)("td",{colspan:"2",children:"Item Discount"}),(0,o.jsxs)("td",{className:"text-end text-dark",children:["$",null===p||void 0===p?void 0:p.discount]})]}),(0,o.jsxs)("tr",{children:[(0,o.jsx)("td",{colspan:"2",children:"Extra Discount"}),(0,o.jsxs)("td",{className:"text-end text-dark",children:["$",null===p||void 0===p?void 0:p.discount_total]})]}),(0,o.jsxs)("tr",{className:"border-0",children:[(0,o.jsx)("td",{colspan:"2",className:"text-dark border",children:"Total"}),(0,o.jsxs)("td",{className:"text-end text-dark border",children:["$",null===p||void 0===p?void 0:p.total]})]})]})]})})}),(0,o.jsxs)("div",{className:"row mt-3",children:[(0,o.jsxs)("div",{className:"col-lg-5",children:[(0,o.jsx)("h6",{children:"Note to client"}),(0,o.jsx)("p",{children:null===p||void 0===p?void 0:p.note_to_client})]}),(0,o.jsxs)("div",{className:"col-lg-7 text-lg-end mt-lg-0 mt-3",children:[(0,o.jsx)("h5",{className:"mt-lg-7",children:null===p||void 0===p?void 0:p.from_name}),(0,o.jsx)("p",{children:null===p||void 0===p?void 0:p.from_label})]})]}),(0,o.jsx)("div",{className:"separator separator-light mt-7"}),(0,o.jsx)("div",{className:"row",children:(0,o.jsxs)("div",{className:"col-md-12",children:[(0,o.jsx)("h6",{children:"Terms & Conditions"}),(0,o.jsx)("ol",{className:"ps-3",children:null===p||void 0===p||null===(u=p.conditions)||void 0===u||null===(x=u.items)||void 0===x?void 0:x.map(((e,l)=>(0,o.jsx)("li",{children:null===e||void 0===e?void 0:e.term},l)))})]})})]})})})})]})};var g=s(49923),_=s(61134),y=s(45523),w=s(59110),k=s(50818),C=s(64193);const D=e=>{var l,s,i,t,r,c,m,v,b;let{businessInfo:N,billedInfo:f,authUser:D,token:S,dispatch:A,invoiceDetails:Z}=e;const{handleSubmit:I,watch:F,control:T,setValue:q,reset:L,getValues:E,formState:{errors:O}}=(0,_.cI)({}),[B,V]=(0,a.useState)(null);console.log("\ud83d\ude80 ~ logo:",B);const[H,P]=(0,a.useState)(!1),[M,Y]=(0,a.useState)(!1),[K,U]=(0,a.useState)(0),[G,R]=(0,a.useState)(1),[$,J]=(0,a.useState)(1),Q=F("extra_discount_percentage"),z=[],W=[];for(let a=0;a<G;a++){const e=F("item_qty_".concat(a)),l=F("item_price_".concat(a)),s=F("item_discount_".concat(a));if(void 0!==e&&void 0!==l){const i=e*l,n=void 0!==s?i/100*s:0,d=i-n;q("item_total_".concat(a),d),z.push(d),W.push(n)}}const X=null===z||void 0===z?void 0:z.reduce(((e,l)=>e+l),0),ee=null===W||void 0===W?void 0:W.reduce(((e,l)=>e+l),0);(0,a.useEffect)((()=>{X&&q("subtotal",X)}),[X,q]),(0,a.useEffect)((()=>{ee&&q("discount",ee)}),[ee,q]),(0,a.useEffect)((()=>{X&&void 0===Q?q("total",X):X&&void 0!==Q&&q("total",X-Q)}),[X,q,Q]),(0,a.useEffect)((()=>{if(void 0!==Q&&ee&&X){q("discount_total",X/100*Q)}}),[Q,q,ee,X]);const le=F("title");(0,a.useEffect)((()=>{if(null!==Z&&void 0!==Z&&Z.title){var e,l,s,a,i,n,d,o,t,r,c,m,v,h,u,x,p,j,b;q("title",null===Z||void 0===Z?void 0:Z.title),q("labelA",null===Z||void 0===Z||null===(e=Z.invoice_details)||void 0===e?void 0:e.items[0].label),q("labelB",null===Z||void 0===Z||null===(l=Z.invoice_details)||void 0===l?void 0:l.items[1].label),q("labelC",null===Z||void 0===Z||null===(s=Z.invoice_details)||void 0===s?void 0:s.items[2].label),q("valueA",null===Z||void 0===Z||null===(a=Z.invoice_details)||void 0===a?void 0:a.items[0].value),q("valueB",null===Z||void 0===Z||null===(i=Z.invoice_details)||void 0===i?void 0:i.items[1].value),q("valueC",null===Z||void 0===Z||null===(n=Z.invoice_details)||void 0===n?void 0:n.items[2].value),U((null===Z||void 0===Z||null===(d=Z.invoice_details)||void 0===d||null===(o=d.items)||void 0===o?void 0:o.length)-3);for(let e=0;e<K;e++){var N,f,g,_;q("label".concat(e),null===Z||void 0===Z||null===(N=Z.invoice_details)||void 0===N||null===(f=N.items[e+3])||void 0===f?void 0:f.label),q("value".concat(e),null===Z||void 0===Z||null===(g=Z.invoice_details)||void 0===g||null===(_=g.items[e+3])||void 0===_?void 0:_.value)}Y(!0),q("client_business_name",null===Z||void 0===Z||null===(t=Z.shipping_info)||void 0===t?void 0:t.client_business_name),q("address",null===Z||void 0===Z||null===(r=Z.shipping_info)||void 0===r?void 0:r.address),q("city",null===Z||void 0===Z||null===(c=Z.shipping_info)||void 0===c?void 0:c.city),q("postal_code",null===Z||void 0===Z||null===(m=Z.shipping_info)||void 0===m?void 0:m.postal_code),q("state",null===Z||void 0===Z||null===(v=Z.shipping_info)||void 0===v?void 0:v.state),q("country",null===Z||void 0===Z||null===(h=Z.shipping_info)||void 0===h?void 0:h.country),q("GSTIN",null===Z||void 0===Z||null===(u=Z.shipping_info)||void 0===u?void 0:u.GSTIN),R(null===Z||void 0===Z||null===(x=Z.invoice_items)||void 0===x||null===(p=x.items)||void 0===p?void 0:p.length);for(let e=0;e<G;e++){var y,w,k,C,D,S,A,I,F,T,L,E;q("item_name_".concat(e),null===Z||void 0===Z||null===(y=Z.invoice_items)||void 0===y||null===(w=y.items[e])||void 0===w?void 0:w.name),q("item_qty_".concat(e),null===Z||void 0===Z||null===(k=Z.invoice_items)||void 0===k||null===(C=k.items[e])||void 0===C?void 0:C.qty),q("item_price_".concat(e),null===Z||void 0===Z||null===(D=Z.invoice_items)||void 0===D||null===(S=D.items[e])||void 0===S?void 0:S.price),q("item_discount_".concat(e),null===Z||void 0===Z||null===(A=Z.invoice_items)||void 0===A||null===(I=A.items[e])||void 0===I?void 0:I.discount),q("item_total_".concat(e),null===Z||void 0===Z||null===(F=Z.invoice_items)||void 0===F||null===(T=F.items[e])||void 0===T?void 0:T.total),q("item_description_".concat(e),null===Z||void 0===Z||null===(L=Z.invoice_items)||void 0===L||null===(E=L.items[e])||void 0===E?void 0:E.description)}q("extra_discount_percentage",null===Z||void 0===Z?void 0:Z.extra_discount_percentage),q("note_to_client",null===Z||void 0===Z?void 0:Z.note_to_client),q("from_name",null===Z||void 0===Z?void 0:Z.from_name),q("from_label",null===Z||void 0===Z?void 0:Z.from_label),J(null===Z||void 0===Z||null===(j=Z.conditions)||void 0===j||null===(b=j.items)||void 0===b?void 0:b.length);for(let e=0;e<$;e++){var O,B;q("conditions_".concat(e),null===Z||void 0===Z||null===(O=Z.conditions)||void 0===O||null===(B=O.items[e])||void 0===B?void 0:B.term)}q("personal_memo",null===Z||void 0===Z?void 0:Z.personal_memo),"draft"===(null===Z||void 0===Z?void 0:Z.status)&&q("save_to_draft",!0)}}),[Z,q,K,G,$]);return(0,o.jsx)("div",{children:(0,o.jsxs)("form",{onSubmit:I((e=>{const l=[],s=[{label:e.labelA,value:e.valueA},{label:e.labelB,value:e.valueB},{label:e.labelC,value:e.valueC}],a=[];for(let d=0;d<K;d++){const l={label:e["label".concat(d)],value:e["value".concat(d)]};s.push(l)}for(let d=0;d<$;d++){const l={term:e["conditions_".concat(d)]};a.push(l)}for(let d=0;d<G;d++){const s={description:e["item_description_".concat(d)],discount:e["item_discount_".concat(d)],discountType:e["item_discount_type_".concat(d)],name:e["item_name_".concat(d)],price:e["item_price_".concat(d)],qty:e["item_qty_".concat(d)],total:e["item_total_".concat(d)]};l.push(s)}const i={items:s},n={items:a},o={items:l},t={client_business_name:null===e||void 0===e?void 0:e.client_business_name,address:null===e||void 0===e?void 0:e.address,city:null===e||void 0===e?void 0:e.city,postal_code:null===e||void 0===e?void 0:e.postal_code,state:null===e||void 0===e?void 0:e.state,country:null===e||void 0===e?void 0:e.country,GSTIN:null===e||void 0===e?void 0:e.GSTIN},r=JSON.stringify(i),c=JSON.stringify(n),m=JSON.stringify(o),v=JSON.stringify(t),b=JSON.stringify(!Z||null!==f&&void 0!==f&&f.email?f:null===Z||void 0===Z?void 0:Z.bill_details),g=JSON.stringify(!Z||null!==N&&void 0!==N&&N.email?N:null===Z||void 0===Z?void 0:Z.business_info),_=new FormData;_.append("user_id",D.id),_.append("user_name",D.name),_.append("user_image",D.image),_.append("logo",B),_.append("title",e.title),_.append("business_info",b),_.append("invoice_details",r),_.append("bill_details",g),_.append("shipping_info",v),_.append("invoice_items",m),_.append("conditions",c),_.append("subtotal",e.subtotal),_.append("discount",e.discount),_.append("extra_discount_percentage",e.extra_discount_percentage),_.append("discount_total",e.discount_total),_.append("total",e.total),_.append("from_name",e.from_name),_.append("from_label",e.from_label),_.append("personal_memo",e.personal_memo),_.append("note_to_client",e.note_to_client),null!==e&&void 0!==e&&e.save_to_draft?_.append("status","draft"):_.append("status","unpaid"),null!==e&&void 0!==e&&e.save_to_draft?_.append("activity",""):_.append("activity","sent"),null!==Z&&void 0!==Z&&Z.id?A(((e,l,s)=>async a=>{try{a((0,d.fK)());const i={headers:{"Content-Type":"multipart/form-data","x-access-token":e}};await h.Z.put("".concat(x,"/user/invoice/invoice-update/").concat(l),s,i).then((l=>{var s;if(console.log("\ud83d\ude80 ~ .then ~ response:",l),200!==(null===l||void 0===l||null===(s=l.data)||void 0===s?void 0:s.statusCode))return u.Am.error(l.data.message),a((0,d.r6)(l.data.message));a((0,d.aL)(l.data.message)),a(p(e)),u.Am.success(l.data.message)}))}catch(i){a((0,d.r6)(i.message))}})(S,null===Z||void 0===Z?void 0:Z.id,_)):A(((e,l)=>async s=>{try{s((0,d.fK)());const a={headers:{"Content-Type":"multipart/form-data","x-access-token":e}};await h.Z.post("".concat(x,"/user/invoice/post-invoice"),l,a).then((l=>{var a;if(200!==(null===l||void 0===l||null===(a=l.data)||void 0===a?void 0:a.statusCode))return u.Am.error(l.data.message),s((0,d.r6)(l.data.message));s((0,d.YP)(l.data.message)),u.Am.success(l.data.message),s(j(e))}))}catch(a){s((0,d.r6)(a.message))}})(S,_))})),children:[(0,o.jsxs)("header",{className:"invoice-header",children:[(0,o.jsx)("div",{className:"d-flex align-items-center",children:(0,o.jsx)("a",{className:"invoiceapp-title link-dark",href:"/",role:"button",children:(0,o.jsx)("h1",{children:"Standard Template"})})}),(0,o.jsx)("div",{className:"invoice-options-wrap",children:(0,o.jsx)("button",{type:"submit",className:"btn btn-primary ms-2 d-sm-inline-block d-none",children:"save"})}),(0,o.jsx)("div",{className:"hk-sidebar-togglable"})]}),(0,o.jsx)("div",{className:"invoice-body",children:(0,o.jsx)("div",{className:"nicescroll-bar",style:{height:"800px",overflow:"scroll"},children:(0,o.jsx)("div",{className:"container",children:(0,o.jsxs)("div",{className:"create-invoice-wrap mt-xxl-5 p-md-5 p-3",children:[(0,o.jsxs)("div",{className:"row",children:[(0,o.jsx)("div",{className:"col-lg-3 col-md-5 order-md-0 order-1",children:(0,o.jsx)("div",{class:"frame",children:(0,o.jsx)("div",{class:"center",children:(0,o.jsxs)("div",{class:"dropzone",children:[B||Z?(0,o.jsx)("div",{children:(0,o.jsx)("img",{src:Z&&null===B?null===Z||void 0===Z?void 0:Z.logo:URL.createObjectURL(B),alt:"Preview",width:100})}):(0,o.jsx)("img",{src:"http://100dayscss.com/codepen/upload.svg",class:"upload-icon",alt:"default"}),(0,o.jsx)("p",{className:" fs-6 fw-bolder text-center",children:"Upload Logo"}),(0,o.jsx)("input",{type:"file",class:"upload-input",onChange:e=>{(e=>{const l=e.currentTarget.files[0];V(l)})(e)}})]})})})}),(0,o.jsx)("div",{className:"col-lg-4 offset-lg-5 offset-md-3 col-md-4 mb-md-0 mb-4",children:(0,o.jsxs)("h2",{className:"d-flex align-items-center justify-content-md-end mb-0 inline-editable-wrap",children:[(0,o.jsx)("a",{className:"btn btn-sm btn-icon btn-flush-light btn-rounded flush-soft-hover edit-tyn ms-md-5",onClick:()=>P(!H),children:(0,o.jsx)("span",{className:"icon",children:(0,o.jsx)("span",{className:"feather-icon",children:(0,o.jsx)(n.fmQ,{})})})}),H?(0,o.jsx)(y.Z,{name:"title",placeholder:"Invoice Title",control:T,defaultValue:"Invoice",rules:{required:{value:!0,message:"Field required!"}},errors:O}):(0,o.jsx)("span",{className:"editable",children:le||"Invoice"})]})})]}),(0,o.jsxs)("div",{className:"row mt-5",children:[(0,o.jsxs)("div",{className:"col-xxl-3",children:[(0,o.jsx)("a",{className:"d-inline-block mb-3","data-bs-toggle":"collapse",href:"#address_collpase",role:"button","aria-expanded":"false",children:"- Your business information"}),(0,o.jsxs)("div",{className:"collapse show mt-5",id:"address_collpase",children:[N&&(0,o.jsxs)("div",{className:"address-wrap",children:[(0,o.jsx)("h6",{children:null===N||void 0===N?void 0:N.company_name}),(0,o.jsx)("p",{children:null===N||void 0===N?void 0:N.address_line_1}),(0,o.jsx)("p",{children:null===N||void 0===N?void 0:N.address_line_2}),(0,o.jsx)("p",{children:null===N||void 0===N?void 0:N.email})]}),Z&&!(null!==N&&void 0!==N&&N.company_name)&&(0,o.jsxs)("div",{className:"address-wrap",children:[(0,o.jsx)("h6",{children:null===Z||void 0===Z||null===(l=Z.business_info)||void 0===l?void 0:l.company_name}),(0,o.jsx)("p",{children:null===Z||void 0===Z||null===(s=Z.business_info)||void 0===s?void 0:s.address_line_1}),(0,o.jsx)("p",{children:null===Z||void 0===Z||null===(i=Z.business_info)||void 0===i?void 0:i.address_line_2}),(0,o.jsx)("p",{children:null===Z||void 0===Z||null===(t=Z.business_info)||void 0===t?void 0:t.email})]}),(0,o.jsxs)("a",{className:"d-inline-flex align-items-center mt-2","data-bs-toggle":"modal","data-bs-target":"#edit_info",href:"/",children:[(0,o.jsx)(n.KHI,{}),null!==N&&void 0!==N&&N.email?"Edit":"Add"," Business Info"]})]})]}),(0,o.jsx)("div",{className:"col-xxl-4 offset-xxl-5 mt-xxl-0 mt-6",children:(0,o.jsxs)("form",{children:[(0,o.jsxs)("div",{className:"row",children:[(0,o.jsx)("div",{className:"col-lg-6 form-group",children:(0,o.jsx)(y.Z,{name:"labelA",mb:!0,control:T,defaultValue:"Invoice No*",errors:O})}),(0,o.jsx)("div",{className:"col-lg-6 form-group",children:(0,o.jsx)(y.Z,{name:"valueA",mb:!0,control:T,defaultValue:"0001",errors:O})})]}),(0,o.jsxs)("div",{className:"row",children:[(0,o.jsx)("div",{className:"col-lg-6 form-group",children:(0,o.jsx)(y.Z,{name:"labelB",mb:!0,control:T,defaultValue:"Invoice Date*",errors:O})}),(0,o.jsx)("div",{className:"col-lg-6 form-group",children:(0,o.jsx)(C.Z,{name:"valueB",placeholder:"Invoice Date",control:T,rules:{required:{value:!0,message:"Field required!"}},errors:O})})]}),(0,o.jsxs)("div",{className:"row",children:[(0,o.jsx)("div",{className:"col-lg-6 form-group",children:(0,o.jsx)(y.Z,{name:"labelC",mb:!0,control:T,defaultValue:"Customer No",errors:O})}),(0,o.jsx)("div",{className:"col-lg-6 form-group",children:(0,o.jsx)(y.Z,{name:"valueC",mb:!0,control:T,defaultValue:"3224",errors:O})})]}),null===(r=[...Array(K)])||void 0===r?void 0:r.map(((e,l)=>(0,o.jsxs)("div",{className:"row",children:[(0,o.jsx)("div",{className:"col-lg-6 form-group",children:(0,o.jsx)(y.Z,{name:"label".concat(l),placeholder:"Label",mb:!0,control:T,errors:O})}),(0,o.jsx)("div",{className:"col-lg-6 form-group",children:(0,o.jsx)(y.Z,{name:"value".concat(l),mb:!0,placeholder:"Value",control:T,errors:O})})]},l))),(0,o.jsxs)("a",{className:"d-inline-flex align-items-center cursor-pointer",onClick:()=>{U(K+1)},children:[(0,o.jsx)(n.KHI,{}),"Add more fields"]})]})})]}),(0,o.jsx)("div",{className:"separator separator-light"}),(0,o.jsxs)("div",{className:"row",children:[(0,o.jsxs)("div",{className:"col-xxl-3 mb-xxl-0 mb-4",children:[(0,o.jsx)("h6",{children:"Billed To"}),f&&(0,o.jsxs)("div",{className:"Billto-wrap mt-4",children:[(0,o.jsx)("h6",{children:null===f||void 0===f?void 0:f.company_name}),(0,o.jsx)("p",{children:null===f||void 0===f?void 0:f.address_line_1}),(0,o.jsx)("p",{children:null===f||void 0===f?void 0:f.address_line_2}),(0,o.jsx)("p",{children:null===f||void 0===f?void 0:f.email})]}),Z&&!(null!==f&&void 0!==f&&f.company_name)&&(0,o.jsxs)("div",{className:"address-wrap",children:[(0,o.jsx)("h6",{children:null===Z||void 0===Z||null===(c=Z.bill_details)||void 0===c?void 0:c.company_name}),(0,o.jsx)("p",{children:null===Z||void 0===Z||null===(m=Z.bill_details)||void 0===m?void 0:m.address_line_1}),(0,o.jsx)("p",{children:null===Z||void 0===Z||null===(v=Z.bill_details)||void 0===v?void 0:v.address_line_2}),(0,o.jsx)("p",{children:null===Z||void 0===Z||null===(b=Z.bill_details)||void 0===b?void 0:b.email})]}),(0,o.jsxs)("a",{className:"d-inline-flex align-items-center mt-2","data-bs-toggle":"modal","data-bs-target":"#billed_info",href:"/",children:[(0,o.jsx)(n.KHI,{}),null!==f&&void 0!==f&&f.email?"Edit":"Add"," Client Info"]})]}),(0,o.jsxs)("div",{className:"col-xxl-4 offset-xxl-5",children:[(0,o.jsx)("h6",{children:"Ship To"}),(0,o.jsxs)("div",{className:"repeater",children:[(0,o.jsx)("div",{className:"collapse",id:"shipto_collpase",style:{display:"block"},children:M&&(0,o.jsxs)("div",{className:"row gx-3",children:[(0,o.jsx)("div",{className:"col-sm-12 form-group",children:(0,o.jsx)(y.Z,{name:"client_business_name",mb:!0,placeholder:"Client business name",control:T,errors:O})}),(0,o.jsx)("div",{className:"col-sm-12 form-group",children:(0,o.jsx)(y.Z,{name:"address",mb:!0,placeholder:"Address",control:T,errors:O})}),(0,o.jsx)("div",{className:"col-lg-6 form-group",children:(0,o.jsx)(y.Z,{name:"city",mb:!0,placeholder:"City",control:T,errors:O})}),(0,o.jsx)("div",{className:"col-lg-6 form-group",children:(0,o.jsx)(y.Z,{name:"postal_code",mb:!0,placeholder:"Postal Code",control:T,errors:O})}),(0,o.jsx)("div",{className:"col-sm-12 form-group",children:(0,o.jsx)(y.Z,{name:"state",mb:!0,placeholder:"State",control:T,errors:O})}),(0,o.jsx)("div",{className:"col-sm-12 form-group",children:(0,o.jsx)(y.Z,{name:"country",mb:!0,placeholder:"Country",control:T,errors:O})}),(0,o.jsx)("div",{className:"col-sm-12 form-group",children:(0,o.jsx)(y.Z,{name:"GSTIN",mb:!0,placeholder:"GSTIN Enter GSTIN here(optional)",control:T,errors:O})})]})}),(0,o.jsxs)("a",{"data-bs-toggle":"collapse",className:"d-inline-flex align-items-center",onClick:()=>Y(!M),children:[(0,o.jsx)(n.jwq,{})," Add shipping address"]})]})]})]}),(0,o.jsx)("div",{className:"table-wrap mt-5",children:(0,o.jsxs)("div",{className:"invoice-table-wrap",children:[(0,o.jsxs)("table",{className:"table table-bordered invoice-table",children:[(0,o.jsx)("thead",{className:"thead-primary",children:(0,o.jsxs)("tr",{children:[(0,o.jsx)("th",{children:"Item"}),(0,o.jsx)("th",{children:"Quantity"}),(0,o.jsx)("th",{children:"Price"}),(0,o.jsx)("th",{colspan:"2",children:"Discount"}),(0,o.jsx)("th",{children:"Amount"})]})}),(0,o.jsx)("tbody",{children:[...Array(G)].map(((e,l)=>(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("tr",{className:"table-row-gap",children:(0,o.jsx)("td",{})}),(0,o.jsxs)("tr",{children:[(0,o.jsx)("td",{className:"w-70 rounded-top-start border-end-0 border-bottom-0",children:(0,o.jsx)(y.Z,{name:"item_name_".concat(l),placeholder:"Item Name",mb:!0,control:T,errors:O})}),(0,o.jsx)("td",{className:"border-end-0 border-bottom-0",children:(0,o.jsx)(y.Z,{name:"item_qty_".concat(l),type:"number",placeholder:"0",mb:!0,control:T,errors:O})}),(0,o.jsx)("td",{className:"w-15 border-end-0 border-bottom-0",children:(0,o.jsx)(y.Z,{name:"item_price_".concat(l),type:"number",placeholder:"0",mb:!0,control:T,errors:O})}),(0,o.jsx)("td",{className:"border-end-0 border-bottom-0",children:(0,o.jsx)("div",{style:{width:"60px"},children:(0,o.jsx)(y.Z,{name:"item_discount_".concat(l),type:"number",placeholder:"0",mb:!0,control:T,errors:O})})}),(0,o.jsx)("td",{className:"border-end-0 border-bottom-0",children:(0,o.jsx)("div",{className:"",children:(0,o.jsx)(g.Z,{name:"item_discount_type_".concat(l),placeholder:"Select",mb:!0,options:[{label:"%",value:"%"}],control:T,errors:O})})}),(0,o.jsxs)("td",{className:"w-20  rounded-end  bg-primary-light-5 close-over position-relative",rowspan:"2",children:[(0,o.jsx)(y.Z,{name:"item_total_".concat(l),type:"number",readOnly:!0,placeholder:"0",mb:!0,control:T,errors:O}),(0,o.jsx)("button",{type:"button",className:"close-row btn-close",children:(0,o.jsx)("span",{"aria-hidden":"true",children:"\xd7"})})]})]}),(0,o.jsx)("tr",{children:(0,o.jsx)("td",{colspan:"5",className:"rounded-bottom-start border-end-0",children:(0,o.jsx)(y.Z,{name:"item_description_".concat(l),placeholder:"Description",mb:!0,control:T,errors:O})})})]})))})]}),(0,o.jsxs)("a",{className:"d-inline-flex align-items-center add-new-row",onClick:()=>{R(G+1)},children:[(0,o.jsx)(n.jwq,{})," Add new item"]})]})}),(0,o.jsx)("div",{className:"row justify-content-end",children:(0,o.jsx)("div",{className:"col-xxl-6 mt-5",children:(0,o.jsx)("div",{className:"table-wrap",children:(0,o.jsx)("div",{className:"table-responsive",children:(0,o.jsx)("table",{className:"table table-bordered subtotal-table",children:(0,o.jsxs)("tbody",{children:[(0,o.jsxs)("tr",{children:[(0,o.jsx)("td",{colspan:"3",className:"rounded-top-start border-end-0 border-bottom-0",children:"Subtotal"}),(0,o.jsx)("td",{className:"rounded-top-end border-bottom-0 w-30 bg-primary-light-5",children:(0,o.jsx)(y.Z,{name:"subtotal",placeholder:"0",mb:!0,readOnly:!0,control:T,errors:O})})]}),(0,o.jsxs)("tr",{children:[(0,o.jsx)("td",{colspan:"3",className:"border-end-0 border-bottom-0",children:"Item Discount"}),(0,o.jsx)("td",{className:"border-bottom-0  bg-primary-light-5",children:(0,o.jsx)(y.Z,{name:"discount",placeholder:"0",mb:!0,readOnly:!0,control:T,errors:O})})]}),(0,o.jsxs)("tr",{children:[(0,o.jsx)("td",{className:"border-end-0 border-bottom-0",children:"Extra Discount"}),(0,o.jsx)("td",{className:"border-end-0 border-bottom-0 w-25",children:(0,o.jsx)(y.Z,{name:"extra_discount_percentage",type:"number",placeholder:"0",mb:!0,control:T,errors:O})}),(0,o.jsx)("td",{className:"border-end-0 border-bottom-0 w-25",children:(0,o.jsxs)("select",{className:"form-select extra-disc-type",children:[(0,o.jsx)("option",{selected:!0,value:"1",children:"%"}),(0,o.jsx)("option",{value:"2",children:"\u20b9"})]})}),(0,o.jsx)("td",{className:"border-bottom-0  bg-primary-light-5",children:(0,o.jsx)(y.Z,{name:"discount_total",placeholder:"0",mb:!0,readOnly:!0,control:T,errors:O})})]}),(0,o.jsxs)("tr",{children:[(0,o.jsx)("td",{colspan:"3",className:"rounded-bottom-start border-end-0 bg-primary-light-5",children:(0,o.jsx)("span",{className:"text-dark",children:"Total"})}),(0,o.jsx)("td",{className:"rounded-bottom-end  bg-primary-light-5",children:(0,o.jsx)(y.Z,{name:"total",placeholder:"0",mb:!0,readOnly:!0,control:T,errors:O})})]})]})})})})})}),(0,o.jsxs)("div",{className:"row mt-4",children:[(0,o.jsx)("div",{className:"col-xxl-5 order-2 order-xxl-0",children:(0,o.jsxs)("div",{className:"form-group",children:[(0,o.jsxs)("div",{className:"form-label-group",children:[(0,o.jsx)("label",{className:"form-label",children:"Note to client"}),(0,o.jsx)("small",{className:"text-muted",children:"1400"})]}),(0,o.jsx)(w.Z,{name:"note_to_client",placeholder:"Write an internal note",rows:7,control:T,errors:O}),(0,o.jsx)("button",{className:"btn btn-outline-light mt-2",children:"Add Note"})]})}),(0,o.jsxs)("div",{className:"col-xxl-4 offset-xxl-3 text-xxl-end mb-xxl-0 mb-3",children:[(0,o.jsx)("div",{children:(0,o.jsxs)("a",{className:"d-inline-flex align-items-center mt-2","data-bs-toggle":"collapse",href:"/label_collpase",children:[(0,o.jsx)(n.jwq,{})," Add Name & Label"]})}),(0,o.jsxs)("div",{className:"collapse show mt-5",id:"label_collpase",children:[(0,o.jsxs)("div",{className:"form-group close-over",children:[(0,o.jsx)(y.Z,{name:"from_name",placeholder:"Add Name",mb:!0,control:T,errors:O}),(0,o.jsx)("button",{type:"button",className:"close-input btn-close",children:(0,o.jsx)("span",{"aria-hidden":"true",children:"\xd7"})})]}),(0,o.jsxs)("div",{className:"form-group close-over",children:[(0,o.jsx)(y.Z,{name:"from_label",placeholder:"Add Label",mb:!0,control:T,errors:O}),(0,o.jsx)("button",{type:"button",className:"close-input btn-close",children:(0,o.jsx)("span",{"aria-hidden":"true",children:"\xd7"})})]})]})]})]}),(0,o.jsx)("div",{className:"separator separator-light"}),(0,o.jsx)("h6",{className:"mb-4",children:"Terms & Condition"}),(0,o.jsxs)("div",{className:"repeater",children:[(0,o.jsx)("ol",{className:"ps-3","data-repeater-list":"category-group",children:[...Array($)].map(((e,l)=>(0,o.jsxs)("li",{className:"form-group close-over",children:[(0,o.jsx)(y.Z,{name:"conditions_".concat(l),placeholder:"Add Label",mb:!0,control:T,errors:O}),(0,o.jsx)("button",{type:"button",className:"close-input btn-close",onClick:()=>(e=>{J($-1),q("conditions_".concat(e),"")})(l),children:(0,o.jsx)("span",{"aria-hidden":"true",children:"\xd7"})})]})))}),(0,o.jsxs)("a",{"data-repeater-create":!0,className:"d-inline-flex align-items-center",onClick:()=>{J($+1)},children:[(0,o.jsx)(n.jwq,{})," Add New Term Row"]})]}),(0,o.jsx)("div",{className:"separator separator-light"}),(0,o.jsx)("div",{className:"my-2",children:(0,o.jsxs)("a",{className:"d-inline-flex align-items-center","data-bs-toggle":"collapse",href:"/memo_collpase",children:[(0,o.jsx)("i",{className:"ri-add-box-line me-1"})," Add a personal memo"]})}),(0,o.jsx)("div",{className:"collapse show",id:"memo_collpase",children:(0,o.jsxs)("div",{className:"row",children:[(0,o.jsx)("div",{className:"col-xxl-5",children:(0,o.jsxs)("div",{className:"form-group",children:[(0,o.jsxs)("div",{className:"form-label-group",children:[(0,o.jsx)("label",{className:"form-label",children:"Personal Memo"}),(0,o.jsx)("small",{className:"text-muted",children:"1400"})]}),(0,o.jsx)(w.Z,{name:"personal_memo",placeholder:"Write an internal note",rows:7,control:T,errors:O})]})}),(0,o.jsx)("div",{className:"col-xxl-5 ",children:(0,o.jsx)("div",{className:"float-end",children:(0,o.jsx)(k.Z,{name:"save_to_draft",label:"Save to Draft",control:T,errors:O})})})]})})]})})})}),(0,o.jsx)("div",{className:"invoice-settings",children:(0,o.jsxs)("div",{"data-simplebar":!0,className:"nicescroll-bar",children:[(0,o.jsx)("button",{type:"button",className:"info-close btn-close",children:(0,o.jsx)("span",{"aria-hidden":"true",children:"\xd7"})}),(0,o.jsxs)("div",{className:"collapse-simple mt-lg-0 mt-2",children:[(0,o.jsxs)("div",{className:"card",children:[(0,o.jsx)("div",{className:"card-header",children:(0,o.jsx)("a",{role:"button","data-bs-toggle":"collapse",href:"/currency","aria-expanded":"true",children:"Currency"})}),(0,o.jsx)("div",{id:"currency",className:"collapse show",children:(0,o.jsxs)("div",{className:"form-group mt-2",children:[(0,o.jsx)("label",{className:"form-label",children:"Currency Symbol"}),(0,o.jsxs)("select",{className:"form-select",children:[(0,o.jsx)("option",{selected:"",children:"US Dollar ($ USD)"}),(0,o.jsx)("option",{value:"1",children:"IND Rupees (\u20b9 USD)"})]})]})})]}),(0,o.jsxs)("div",{className:"card",children:[(0,o.jsx)("div",{className:"card-header",children:(0,o.jsx)("a",{role:"button","data-bs-toggle":"collapse",href:"/typography","aria-expanded":"true",children:"Typography"})}),(0,o.jsxs)("div",{id:"typography",className:"collapse show",children:[(0,o.jsxs)("div",{className:"form-group mt-2",children:[(0,o.jsx)("label",{className:"form-label",children:"Font"}),(0,o.jsxs)("select",{className:"form-select",children:[(0,o.jsx)("option",{selected:"",children:"Arial"}),(0,o.jsx)("option",{value:"1",children:"Times New Roman"})]})]}),(0,o.jsxs)("div",{className:"form-group",children:[(0,o.jsx)("label",{className:"form-label",children:"Size"}),(0,o.jsxs)("select",{className:"form-select",children:[(0,o.jsx)("option",{selected:"",children:"16px"}),(0,o.jsx)("option",{value:"1",children:"20px"}),(0,o.jsx)("option",{value:"2",children:"24px"})]})]}),(0,o.jsxs)("div",{className:"form-group",children:[(0,o.jsx)("label",{className:"form-label",children:"Align"}),(0,o.jsx)("div",{children:(0,o.jsxs)("div",{className:"btn-group",role:"group",children:[(0,o.jsx)("button",{type:"button",className:"btn btn-outline-secondary",children:(0,o.jsx)("i",{className:"fa fa-align-left text-primary"})}),(0,o.jsx)("button",{type:"button",className:"btn btn-outline-secondary",children:(0,o.jsx)("i",{className:"fa fa-align-center"})}),(0,o.jsx)("button",{type:"button",className:"btn btn-outline-secondary",children:(0,o.jsx)("i",{className:"fa fa-align-right"})}),(0,o.jsx)("button",{type:"button",className:"btn btn-outline-secondary",children:(0,o.jsx)("i",{className:"fa fa-align-justify"})})]})})]})]})]}),(0,o.jsxs)("div",{className:"card",children:[(0,o.jsx)("div",{className:"card-header",children:(0,o.jsx)("a",{role:"button","data-bs-toggle":"collapse",href:"/color","aria-expanded":"true",children:"Color"})}),(0,o.jsxs)("div",{id:"color",className:"collapse show",children:[(0,o.jsxs)("div",{className:"form-group mt-2",children:[(0,o.jsx)("label",{className:"form-label",children:"Accent"}),(0,o.jsxs)("div",{className:"input-group color-picker",children:[(0,o.jsx)("div",{className:"input-group-text colorpicker-input-addon",children:(0,o.jsx)("input",{type:"color"})}),(0,o.jsx)("input",{type:"text",className:"form-control colorpicker-value",value:"#007D88"})]})]}),(0,o.jsxs)("div",{className:"form-group",children:[(0,o.jsx)("label",{className:"form-label",children:"Heading Color"}),(0,o.jsxs)("div",{className:"input-group color-picker",children:[(0,o.jsx)("div",{className:"input-group-text colorpicker-input-addon",children:(0,o.jsx)("input",{type:"color"})}),(0,o.jsx)("input",{type:"text",className:"form-control colorpicker-value",value:"#1F2327"})]})]}),(0,o.jsxs)("div",{className:"form-group",children:[(0,o.jsx)("label",{className:"form-label",children:"Text Color"}),(0,o.jsxs)("div",{className:"input-group color-picker",children:[(0,o.jsx)("div",{className:"input-group-text colorpicker-input-addon",children:(0,o.jsx)("input",{type:"color"})}),(0,o.jsx)("input",{type:"text",className:"form-control colorpicker-value",value:"#646A71"})]})]})]})]}),(0,o.jsxs)("div",{className:"card",children:[(0,o.jsx)("div",{className:"card-header",children:(0,o.jsx)("a",{role:"button","data-bs-toggle":"collapse",href:"/action","aria-expanded":"true",children:"Actions"})}),(0,o.jsx)("div",{id:"action",className:"collapse show",children:(0,o.jsxs)("div",{className:"form-group mt-2",children:[(0,o.jsx)("label",{className:"form-label",children:"Schedule send"}),(0,o.jsx)("input",{type:"text",className:"form-control"})]})})]}),(0,o.jsxs)("div",{className:"card",children:[(0,o.jsx)("div",{className:"card-header",children:(0,o.jsx)("a",{role:"button","data-bs-toggle":"collapse",href:"/option","aria-expanded":"true",children:"Options"})}),(0,o.jsx)("div",{id:"option",className:"collapse show",children:(0,o.jsxs)("div",{className:"button-list",children:[(0,o.jsx)("button",{className:"btn btn-light btn-block",children:"Get Link"}),(0,o.jsx)("button",{className:"btn btn-light btn-block",children:"Download Invoice"})]})})]})]})]})})]})})},S=e=>{let{onDataFromChild:l}=e;const{handleSubmit:s,watch:a,control:i,setValue:n,reset:d,formState:{errors:t}}=(0,_.cI)({});return(0,o.jsx)("div",{id:"edit_info",className:"modal fade",tabindex:"-1",role:"dialog","aria-hidden":"true",children:(0,o.jsx)("div",{className:"modal-dialog modal-dialog-centered",role:"document",children:(0,o.jsx)("div",{className:"modal-content",children:(0,o.jsxs)("div",{className:"modal-body",children:[(0,o.jsx)("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close",children:(0,o.jsx)("span",{"aria-hidden":"true",children:"\xd7"})}),(0,o.jsx)("h5",{className:"mb-5",children:"Edit Info"}),(0,o.jsxs)("form",{name:"business_form",onSubmit:s((e=>{const s=document.getElementById("close_business");return l(e),s.click(),{}})),children:[(0,o.jsx)(y.Z,{name:"company_name",placeholder:"Company name",label:"Company Name",control:i,rules:{required:{value:!0,message:"Field required!"}},errors:t}),(0,o.jsx)(y.Z,{name:"email",type:"email",placeholder:"Email",label:"Email Address",control:i,rules:{required:{value:!0,message:"Field required!"}},errors:t}),(0,o.jsx)(y.Z,{name:"address_line_1",placeholder:"Address line 1",label:"Address line 1",control:i,rules:{required:{value:!0,message:"Field required!"}},errors:t}),(0,o.jsx)(y.Z,{name:"address_line_2",placeholder:"Address Line 2",label:"Address Line 2",control:i,errors:t}),(0,o.jsxs)("div",{className:"modal-footer align-items-center",children:[(0,o.jsx)("button",{id:"close_business",type:"button",className:"btn btn-secondary","data-bs-dismiss":"modal",children:"Discard"}),(0,o.jsx)("button",{type:"submit",className:"btn btn-primary",children:"Add"})]})]})]})})})})},A=e=>{let{onDataFromChild:l}=e;const{handleSubmit:s,watch:a,control:i,setValue:n,reset:d,formState:{errors:t}}=(0,_.cI)({});return(0,o.jsx)("div",{id:"billed_info",className:"modal fade",tabindex:"-1",role:"dialog","aria-hidden":"true",children:(0,o.jsx)("div",{className:"modal-dialog modal-dialog-centered",role:"document",children:(0,o.jsx)("div",{className:"modal-content",children:(0,o.jsxs)("div",{className:"modal-body",children:[(0,o.jsx)("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close",children:(0,o.jsx)("span",{"aria-hidden":"true",children:"\xd7"})}),(0,o.jsx)("h5",{className:"mb-5",children:"Billed To"}),(0,o.jsxs)("form",{name:"business_form",onSubmit:s((e=>{const s=document.getElementById("close_billed");return l(e),s.click(),{}})),children:[(0,o.jsx)(y.Z,{name:"company_name",placeholder:"Company name",label:"Company Name",control:i,rules:{required:{value:!0,message:"Field required!"}},errors:t}),(0,o.jsx)(y.Z,{name:"email",type:"email",placeholder:"Email",label:"Email Address",control:i,rules:{required:{value:!0,message:"Field required!"}},errors:t}),(0,o.jsx)(y.Z,{name:"address_line_1",placeholder:"Address line 1",label:"Address line 1",control:i,rules:{required:{value:!0,message:"Field required!"}},errors:t}),(0,o.jsx)(y.Z,{name:"address_line_2",placeholder:"Address Line 2",label:"Address Line 2",control:i,errors:t}),(0,o.jsxs)("div",{className:"modal-footer align-items-center",children:[(0,o.jsx)("button",{id:"close_billed",type:"button",className:"btn btn-secondary","data-bs-dismiss":"modal",children:"Discard"}),(0,o.jsx)("button",{type:"submit",className:"btn btn-primary",children:"Add"})]})]})]})})})})};var Z=s(94420);const I=()=>{const e=(0,Z.I0)(),{token:l,user:s}=(0,Z.v9)((e=>e.auth)),{invoices:i,invoiceDetails:n}=(0,Z.v9)((e=>e.invoice)),[d,r]=(0,a.useState)(!1),[c,m]=(0,a.useState)(!1),[v,h]=(0,a.useState)(!0),[u,x]=(0,a.useState)({}),[p,b]=(0,a.useState)({}),[g,_]=(0,a.useState)([]),[y,w]=(0,a.useState)([]);(0,a.useEffect)((()=>{e(j(l))}),[l,e]),(0,a.useEffect)((()=>{if((null===i||void 0===i?void 0:i.length)>0){const e=null===i||void 0===i?void 0:i.filter((e=>"blocked"!==e.activity&&"archived"!==e.activity));_(e),w(i)}}),[i]);const k=e=>{r(e)},C=e=>{h(e)},I=e=>{m(e)};return(0,o.jsx)("div",{className:"hk-pg-wrapper pb-0",children:(0,o.jsx)("div",{className:"hk-pg-body py-0",children:(0,o.jsxs)("div",{className:"invoiceapp-wrap",children:[(0,o.jsx)(t,{onShowCreateDataFromChild:k,onShowListDataFromChild:C,onShowDetailsDataFromChild:I,onFilterDataFromChild:e=>{_(e)},invoiceData:y,dispatch:e}),(0,o.jsx)("div",{className:"invoiceapp-content",children:(0,o.jsxs)("div",{className:"invoiceapp-detail-wrap",children:[v&&(0,o.jsx)(N,{invoiceData:g,onShowDetailsDataFromChild:I,dispatch:e,token:l,onShowCreateDataFromChild:k,onShowListDataFromChild:C}),c&&(0,o.jsx)(f,{invoiceDetails:n}),d&&(0,o.jsx)(D,{businessInfo:u,billedInfo:p,dispatch:e,token:l,authUser:s,invoiceDetails:n})]})}),(0,o.jsx)(S,{onDataFromChild:e=>{x(e)}}),(0,o.jsx)(A,{onDataFromChild:e=>{b(e)}})]})})})},F=()=>(0,o.jsx)(i.Z,{component:(0,o.jsx)(I,{})})}}]);
//# sourceMappingURL=7641.e24e9353.chunk.js.map