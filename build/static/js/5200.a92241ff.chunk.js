"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[5200],{56874:(e,s,a)=>{a.d(s,{A:()=>n});a(82483);var l=a(28846),i=a(56723);const n=function(e){let s,{fileType:a,fileUrl:n,fileWidth:t}=e;switch(a){case"jpeg":case"png":case"jpg":s=(0,i.jsx)("img",{className:"img-fluid rounded",style:{maxWidth:"300px"},src:n,width:t,alt:" preview"});break;case"pdf":s=(0,i.jsx)(l.kl1,{});break;case"zip":s=(0,i.jsx)(l.aw1,{});break;case"video":s=(0,i.jsxs)("video",{controls:!0,width:t,height:"auto",children:[(0,i.jsx)("source",{src:n,type:"video/mp4"}),"Your browser does not support the video tag."]});break;default:s=(0,i.jsx)(l.FrV,{color:"white",size:70,n:!0})}return(0,i.jsx)("div",{className:"",children:s})}},57557:(e,s,a)=>{a.d(s,{A:()=>c});var l=a(82483),i=a(23080),n=a(34304),t=a.n(n),d=a(25184),r=a(56723);const o=l.forwardRef(((e,s)=>{const{field:a}=(0,i.as)(e),[n,o]=(0,l.useState)(!1),[c,h]=(0,l.useState)(""),m=(0,l.useRef)(null),{title:v,style:u,isHighLight:p=!1,type:x,errors:j,defaultValue:b,customStyle:f,onChange:g,ellipses:k,label:y,...w}=e;let N=t().get(j,e.name);return(0,l.useEffect)((()=>{x&&""!==x&&h(x)}),[x]),(0,r.jsxs)("div",{className:"w-full mb-5",children:[(0,r.jsxs)("div",{className:"".concat(u?"bg-white":"","  ").concat(null!==e&&void 0!==e&&e.rules&&N?"focus-within:border-red-600 border-red-600":"focus-within:border-teal-c-900"),children:[(0,r.jsx)(i.xI,{name:null===e||void 0===e?void 0:e.name,control:null===e||void 0===e?void 0:e.control,rules:null===e||void 0===e?void 0:e.rules,className:"form-group",defaultValue:""!==b?b:"",render:s=>{let{field:a}=s;return(0,r.jsxs)("div",{className:"",style:{height:"280px",overflow:"hidden"},children:[y&&(0,r.jsx)("label",{class:"form-label-group",children:y}),(0,r.jsx)(d.K,{...e,...w,apiKey:"tnm05u4rxvm3tav3sjqqew5pngxe7zeju5e2zfh392oi034c",onKeyUp:e=>{h(""),a.onChange(m.current.getContent())},onInit:(e,s)=>m.current=s,initialValue:"edit"===c&&a.value||"<p>Put your content here.</p>",init:{height:300,menubar:!1,plugins:["a11ychecker advcode casechange formatpainter","linkchecker autolink lists checklist","media mediaembed pageembed permanentpen","powerpaste table advtable tinymcespellchecker"],toolbar:"formatselect | fontselect | bold italic strikethrough   formatpainter | alignleft aligncenter alignright alignjustify | numlist bullist outdent indent | link insertfile image | removeformat | code | addcomment | checklist | casechange",content_style:"body { font-family:Helvetica,Arial,sans-serif; font-size:14px }, .tox-statusbar{display:none}"}})]})}}),(0,r.jsx)("div",{className:"pointer-events-none absolute ml-2 left-0 duration-300 origin-0 mr-2 inline-block px-1 font-normal  ".concat(null!==e&&void 0!==e&&e.rules&&N?"text-red-600":"text-gray-600","  ").concat(n||""===!a.value||"0"===a.value?"-top-2 duration-300 bg-[white] text-xs rounded-lg":"top-2 duration-300 text-base xl:top-1 ".concat(k&&"w-[98%] text-ellipsis overflow-hidden whitespace-nowrap")," \n            ").concat(p&&" bg-highLight  ","  \n            ")})]}),e.rules&&N&&(0,r.jsx)("p",{className:"text-xs p-1 text-danger",id:"email-error",children:e.rules&&N&&e.rules&&(null===N||void 0===N?void 0:N.message)})]})}));o.displayName="EditorField";const c=o},31279:(e,s,a)=>{a.d(s,{A:()=>c});var l=a(82483),i=a(23080),n=a(34304),t=a.n(n),d=a(55794),r=a(56723);const o=l.forwardRef(((e,s)=>{const[a,n]=(0,l.useState)([]),{title:o,style:c,label:h,type:m,errors:v,defaultValue:u,onChange:p,onFocus:x,onBlur:j,menuPlacement:b,ellipses:f,value:g,placeHolder:k,mb:y,...w}=e,{field:N,fieldState:C,formState:E}=(0,i.as)(e);console.log("\ud83d\ude80 ~ ReactTagInputComponent ~ field:",N);let A=t().get(v,e.name);const S=e=>{n(e),N.onChange(e)};return(0,r.jsxs)("div",{className:"".concat(y?"":"mb-5"),children:[(0,r.jsx)(i.xI,{name:null===e||void 0===e?void 0:e.name,rules:null===e||void 0===e?void 0:e.rules,control:null===e||void 0===e?void 0:e.control,defaultValue:u,render:l=>{let{field:{onChange:i}}=l;return(0,r.jsxs)(r.Fragment,{children:[h&&(0,r.jsx)("label",{for:null===e||void 0===e?void 0:e.name,class:"block mb-2 text-sm font-bold text-gray-900 dark:text-white",children:h}),(0,r.jsx)(d.u,{...N,...w,ref:s,value:a,onChange:S,name:e.name,placeHolder:k})]})}}),e.rules&&A&&e.rules&&null!==A&&void 0!==A&&A.message?(0,r.jsx)("p",{className:" fs-6 p-1 text-danger",id:"email-error",children:e.rules&&A&&e.rules&&(null===A||void 0===A?void 0:A.message)}):""]})}));o.displayName="ReactTagInputComponent";const c=o},90374:(e,s,a)=>{a.d(s,{IP:()=>r,M8:()=>h,Yj:()=>m,lm:()=>o,tQ:()=>c,xY:()=>d});var l=a(11222),i=a(31021),n=a(73422);const t="".concat("https://desktopcrm.com:51/v1"),d=(e,s,a,d)=>async r=>{try{r((0,i.kl)());const o={headers:{"Content-Type":"application/json","x-access-token":e}};await l.A.get("".concat(t,"/user/email/get-emails/").concat(s,"/").concat(a,"/").concat(d),o).then((e=>{var s;if(200!==(null===e||void 0===e||null===(s=e.data)||void 0===s?void 0:s.statusCode))return n.oR.error(e.data.message),r((0,i.xk)(e.data.message));r((0,i.cE)(e.data.data.emailsData))}))}catch(o){r((0,i.xk)(o.message))}},r=(e,s)=>async a=>{try{a((0,i.kl)());const d={headers:{"Content-Type":"application/json","x-access-token":e}};await l.A.post("".concat(t,"/user/email/get-emails-by-email"),s,d).then((e=>{var s;if(200!==(null===e||void 0===e||null===(s=e.data)||void 0===s?void 0:s.statusCode))return n.oR.error(e.data.message),a((0,i.xk)(e.data.message));a((0,i.cE)(e.data.data.emailsData))}))}catch(d){a((0,i.xk)(d.message))}},o=(e,s)=>async a=>{try{a((0,i.kl)());const d={headers:{"Content-Type":"multipart/form-data","x-access-token":e}};await l.A.post("".concat(t,"/user/email/send-email"),s,d).then((e=>{var s;if(200!==(null===e||void 0===e||null===(s=e.data)||void 0===s?void 0:s.statusCode))return n.oR.error(e.data.message),a((0,i.xk)(e.data.message));a((0,i.ZM)(e.data.message)),n.oR.success(e.data.message)}))}catch(d){a((0,i.xk)(d.message))}},c=(e,s)=>async a=>{try{a((0,i.kl)());const d={headers:{"Content-Type":"multipart/form-data","x-access-token":e}};await l.A.post("".concat(t,"/user/email/send-email-bulk"),s,d).then((e=>{var s;if(console.log(e),200!==(null===e||void 0===e||null===(s=e.data)||void 0===s?void 0:s.statusCode))return n.oR.error(e.data.message),a((0,i.xk)(e.data.message));a((0,i.ZM)(e.data.message)),n.oR.success(e.data.message)}))}catch(d){a((0,i.xk)(d.message))}},h=(e,s,a)=>async r=>{try{r((0,i.kl)());const o={headers:{"Content-Type":"application/json","x-access-token":e}};await l.A.put("".concat(t,"/user/email/update-email/").concat(s),a,o).then((s=>{var l;if(200!==(null===s||void 0===s||null===(l=s.data)||void 0===l?void 0:l.statusCode))return n.oR.error(s.data.message),r((0,i.xk)(s.data.message));r((0,i.Ww)(s.data.message)),r(d(e,a.user_email,20,1)),n.oR.success(s.data.message)}))}catch(o){r((0,i.xk)(o.message))}},m=(e,s)=>async a=>{try{a((0,i.kl)());const r={headers:{"Content-Type":"application/json","x-access-token":e}};await l.A.delete("".concat(t,"/user/email/delete-email/").concat(s),r).then((s=>{var l;if(200!==(null===s||void 0===s||null===(l=s.data)||void 0===l?void 0:l.statusCode))return n.oR.error(s.data.message),a((0,i.xk)(s.data.message));a((0,i.Ww)(s.data.message)),a(d(e)),n.oR.success(s.data.message)}))}catch(r){a((0,i.xk)(r.message))}}},25200:(e,s,a)=>{a.r(s),a.d(s,{default:()=>T});var l=a(82483),i=a(16575),n=a(28846),t=a(56723);const d=e=>{let{onDataFromChild:s,initialData:a,authUser:i}=e;console.log("\ud83d\ude80 ~ Sidebar ~ initialData:",a);const[d,r]=(0,l.useState)("inbox");return(0,t.jsxs)("nav",{className:"emailapp-sidebar",children:[(0,t.jsx)("div",{"data-simplebar":!0,className:"nicescroll-bar",children:(0,t.jsxs)("div",{className:"menu-content-wrap",children:[(0,t.jsx)("button",{type:"button",className:"btn btn-primary btn-rounded btn-block mb-4 show-compose-popup",id:"show_compose_popup",children:"Compose email"}),(0,t.jsx)("div",{className:"menu-group",children:(0,t.jsxs)("ul",{className:"nav nav-light navbar-nav flex-column",children:[(0,t.jsx)("li",{className:"nav-item ".concat("inbox"===d?"active":""),children:(0,t.jsxs)("button",{className:"nav-link btn-block",onClick:()=>{const e=null===a||void 0===a?void 0:a.filter((e=>{var s,a;return"active"===(null===e||void 0===e?void 0:e.status)&&(null===e||void 0===e||null===(s=e.reciever)||void 0===s?void 0:s.email)===(null===i||void 0===i?void 0:i.email)||"important"===(null===e||void 0===e?void 0:e.status)&&(null===e||void 0===e||null===(a=e.reciever)||void 0===a?void 0:a.email)===(null===i||void 0===i?void 0:i.email)}));s(e),r("inbox")},children:[(0,t.jsx)("span",{className:"nav-icon-wrap",children:(0,t.jsx)("span",{className:"feather-icon",children:(0,t.jsx)(n.opL,{})})}),(0,t.jsx)("span",{className:"nav-link-text",children:"Inbox"})]})}),(0,t.jsx)("li",{className:"nav-item ".concat("important"===d?"active":""),children:(0,t.jsxs)("button",{className:"nav-link btn-block",onClick:()=>{const e=null===a||void 0===a?void 0:a.filter((e=>"important"===e.status));s(e),r("important")},children:[(0,t.jsx)("span",{className:"nav-icon-wrap",children:(0,t.jsx)("span",{className:"feather-icon",children:(0,t.jsx)(n.gt3,{})})}),(0,t.jsx)("span",{className:"nav-link-text",children:"Important"})]})}),(0,t.jsx)("li",{className:"nav-item ".concat("sent"===d?"active":""),children:(0,t.jsxs)("button",{className:"nav-link btn-block",onClick:()=>{const e=null===a||void 0===a?void 0:a.filter((e=>{var s;return(null===e||void 0===e||null===(s=e.sender)||void 0===s?void 0:s.id)===i.id}));s(e),r("sent")},children:[(0,t.jsx)("span",{className:"nav-icon-wrap",children:(0,t.jsx)("span",{className:"feather-icon",children:(0,t.jsx)(n.Hcz,{})})}),(0,t.jsx)("span",{className:"nav-link-text",children:"Sent"})]})}),(0,t.jsx)("li",{className:"nav-item ".concat("archive"===d?"active":""),children:(0,t.jsxs)("button",{className:"nav-link btn-block",onClick:()=>{const e=null===a||void 0===a?void 0:a.filter((e=>"archive"===e.status));s(e),r("archive")},children:[(0,t.jsx)("span",{className:"nav-icon-wrap",children:(0,t.jsx)("span",{className:"feather-icon",children:(0,t.jsx)(n.Wlj,{})})}),(0,t.jsx)("span",{className:"nav-link-text",children:"Archive"})]})}),(0,t.jsx)("li",{className:"nav-item ".concat("trash"===d?"active":""),children:(0,t.jsxs)("button",{className:"nav-link btn-block",onClick:()=>{const e=null===a||void 0===a?void 0:a.filter((e=>"blocked"===e.status));s(e),r("trash")},children:[(0,t.jsx)("span",{className:"nav-icon-wrap",children:(0,t.jsx)("span",{className:"feather-icon",children:(0,t.jsx)(n.qbC,{})})}),(0,t.jsx)("span",{className:"nav-link-text",children:"Trash"})]})})]})})]})}),(0,t.jsx)("div",{className:"emailapp-fixednav",children:(0,t.jsx)("div",{className:"hk-toolbar",children:(0,t.jsxs)("ul",{className:"nav nav-light",children:[(0,t.jsx)("li",{className:"nav-item nav-link",children:(0,t.jsx)("a",{className:"btn btn-icon btn-flush-dark btn-rounded flush-soft-hover","data-bs-toggle":"tooltip","data-bs-placement":"top",title:"","data-bs-original-title":"Settings",href:"/",children:(0,t.jsx)("span",{className:"icon",children:(0,t.jsx)("span",{className:"feather-icon",children:(0,t.jsx)("i",{"data-feather":"settings"})})})})}),(0,t.jsx)("li",{className:"nav-item nav-link",children:(0,t.jsx)("a",{href:"/",className:"btn btn-icon btn-rounded btn-flush-dark flush-soft-hover","data-bs-toggle":"tooltip","data-bs-placement":"top",title:"","data-bs-original-title":"Archive",children:(0,t.jsx)("span",{className:"icon",children:(0,t.jsx)("span",{className:"feather-icon",children:(0,t.jsx)("i",{"data-feather":"archive"})})})})}),(0,t.jsx)("li",{className:"nav-item nav-link",children:(0,t.jsx)("a",{href:"/",className:"btn btn-icon btn-rounded btn-flush-dark flush-soft-hover","data-bs-toggle":"tooltip","data-bs-placement":"top",title:"","data-bs-original-title":"Help",children:(0,t.jsx)("span",{className:"icon",children:(0,t.jsx)("span",{className:"feather-icon",children:(0,t.jsx)("i",{"data-feather":"book"})})})})})]})})})]})};var r=a(91965),o=a(90374),c=a(49678);const h=e=>{let{onDataFromChild:s,emailsData:a,authUser:l}=e;const i=(0,r.wA)(),{token:d}=(0,r.d4)((e=>e.auth));return(0,t.jsxs)("header",{class:"aside-header",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{style:{cursor:"pointer"},children:(0,t.jsx)(n.ed2,{})}),(0,t.jsx)("span",{children:(0,t.jsx)(n.FDZ,{style:{cursor:"pointer"}})}),(0,t.jsxs)("span",{className:"ps-3",style:{fontSize:"12px"},children:["1-20 of ",null===a||void 0===a?void 0:a.length]})]}),(0,t.jsxs)("div",{class:"d-flex",children:[(0,t.jsx)("a",{class:"btn btn-icon btn-flush-dark btn-rounded flush-soft-hover me-0",onClick:()=>{i((0,o.xY)(d,l.email,20,1)),i((0,c.lo)(d))},children:(0,t.jsx)("span",{class:"icon",children:(0,t.jsx)("span",{class:"feather-icon",children:(0,t.jsx)(n.Bo9,{})})})}),(0,t.jsx)("a",{href:"/",class:"btn btn-icon btn-rounded show-compose-popup btn-primary",children:(0,t.jsx)("span",{class:"icon",children:(0,t.jsx)("span",{class:"feather-icon",children:(0,t.jsx)(n.uO9,{})})})})]}),(0,t.jsx)("div",{class:"hk-sidebar-togglable"})]})};var m=a(94690),v=a.n(m),u=(a(34304),a(710));const p=e=>{let{emailsData:s,emails:a,onEmailDetail:l,dispatch:i,token:d,isLoading:c}=e;const{user:h}=(0,r.d4)((e=>e.auth)),m=(e,s)=>(i((0,o.M8)(d,e,{isRead:!0,status:s,user_email:h.email})),{});function p(e){const s=null===e||void 0===e?void 0:e.charAt(0),a=null===e||void 0===e?void 0:e.indexOf(" ");return{firstCharacter:s,characterAfterSpace:-1!==a?e.charAt(a+1):""}}return(0,t.jsx)("ul",{className:"email-list list-group list-group-flush",children:c?(0,t.jsx)(u.A,{}):(0,t.jsx)(t.Fragment,{children:(null===s||void 0===s?void 0:s.length)>0&&(null===s||void 0===s?void 0:s.map(((e,i)=>{var d,r,o;return(0,t.jsx)("li",{onClick:()=>{(e=>{const i=a.filter((s=>s.parent_id===e)),n=s.filter((s=>s.id===e))[0],t={subject:null===n||void 0===n?void 0:n.subject,selectedEmail:n,emails:i};l(t)})(null===e||void 0===e?void 0:e.id)},className:"list-group-item ",children:(0,t.jsxs)("div",{className:"media",children:[(0,t.jsx)("div",{className:"media-head",children:(0,t.jsx)("div",{class:"avatar avatar-sm avatar-primary position-relative avatar-rounded",children:(0,t.jsx)("span",{class:"initial-wrap",children:p(null===e||void 0===e||null===(d=e.sender)||void 0===d?void 0:d.name).firstCharacter+p(null===e||void 0===e||null===(r=e.sender)||void 0===r?void 0:r.name).characterAfterSpace})})}),(0,t.jsx)("div",{className:"media-body",children:(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"email-head",children:null===e||void 0===e||null===(o=e.sender)||void 0===o?void 0:o.name}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("span",{className:"email-star marked",children:[(0,t.jsx)("span",{className:"feather-icon pt-1",children:"important"===(null===e||void 0===e?void 0:e.status)?(0,t.jsx)(n.gt3,{onClick:()=>m(null===e||void 0===e?void 0:e.id,"active")}):(0,t.jsx)(n.wei,{onClick:()=>m(null===e||void 0===e?void 0:e.id,"important")})}),(0,t.jsx)("span",{className:"px-2 pb-1",children:(0,t.jsx)(n.Wlj,{color:"#007d88",onClick:()=>m(null===e||void 0===e?void 0:e.id,"archive")})}),(0,t.jsx)("span",{className:"px-1 pb-1",children:(0,t.jsx)(n.qbC,{color:"red",onClick:()=>m(null===e||void 0===e?void 0:e.id,"blocked")})})]}),(0,t.jsx)("div",{className:"email-time",children:v()(e.created_at,"h:mm A").format("h:mm A")})]})]}),(0,t.jsx)("div",{className:"email-subject",children:e.subject}),(0,t.jsxs)("div",{className:"email-text",children:[(0,t.jsx)("div",{dangerouslySetInnerHTML:{__html:null===e||void 0===e?void 0:e.body}}),(0,t.jsx)("p",{})]})]})})]})},i)})))})})};var x=a(56874),j=a(7817),b=(a(42060),a(25463)),f=a(23080),g=a(41609);const k=e=>{var s,a,l,i,d,c,h,m,u,p,k,y,w,N,C,E,A,S,_,D,R,T,F,z,L,V;let{emailDetails:B,emailsData:U,emails:H,onEmailDetail:I}=e;const{handleSubmit:M,control:O,setValue:P,formState:{errors:q}}=(0,f.mN)(),{token:W,user:Y}=(0,r.d4)((e=>e.auth)),K=(0,r.wA)();function Z(e){const s=(null===e||void 0===e?void 0:e.split("/").pop()).split(".").pop();console.log(s);const a=(null===e||void 0===e?void 0:e.match(/\/([^\/?#]+)[^\/]*$/)[1]).split(".").pop();return console.log(a),a}const $=async(e,s)=>{try{const a=document.createElement("a");a.href=e,a.setAttribute("download",s),document.body.appendChild(a),a.click(),document.body.removeChild(a)}catch(a){console.error("Error downloading file:",a)}};function J(e){return(e/1048576).toFixed(2)}const Q=e=>{P("files",e.currentTarget.files)},G=e=>{var s;const a=new FormData;a.append("subject","Contact"),a.append("body",e.body),a.append("type","reply"),a.append("from",Y.email),a.append("parent_id",null===B||void 0===B||null===(s=B.selectedEmail)||void 0===s?void 0:s.id),a.append("to",e.to),e.files&&e.files.forEach((e=>{a.append("files",e)})),K((0,o.lm)(W,a));const l=H.filter((e=>{var s;return e.parent_id===(null===B||void 0===B||null===(s=B.selectedEmail)||void 0===s?void 0:s.id)&&"active"===(null===e||void 0===e?void 0:e.status)})),i=U.filter((e=>{var s;return e.id===(null===B||void 0===B||null===(s=B.selectedEmail)||void 0===s?void 0:s.id)}))[0],n={subject:null===i||void 0===i?void 0:i.subject,selectedEmail:i,emails:l};I(n)},X=e=>{K((0,o.Yj)(W,e))},ee=(e,s)=>(K((0,o.M8)(W,e,{isRead:!0,status:s})),{});function se(e){const s=null===e||void 0===e?void 0:e.charAt(0),a=null===e||void 0===e?void 0:e.indexOf(" ");return{firstCharacter:s,characterAfterSpace:-1!==a?e.charAt(a+1):""}}return(0,t.jsx)("div",{class:"email-body",children:(0,t.jsxs)("div",{class:"nicescroll-bar",children:[B&&(null===B||void 0===B?void 0:B.subject)&&(0,t.jsx)("h4",{class:"fw-bold bg-primary w-100 rounded px-5 py-2 shadow position-sticky",style:{color:"white"},children:null===B||void 0===B?void 0:B.subject}),(0,t.jsxs)("div",{id:"accordionSimpleExample",class:"accordion accordion-simple single-email-thread",children:[(null===B||void 0===B?void 0:B.selectedEmail)&&(0,t.jsxs)("div",{class:"accordion-item",children:[(0,t.jsx)("div",{id:"simple-headingOne",class:"accordion-header",children:(0,t.jsx)("div",{children:(0,t.jsxs)("div",{class:"email-head",children:[(0,t.jsx)("div",{"data-bs-toggle":"collapse","data-bs-target":"#simple-collapse-".concat(null===B||void 0===B||null===(s=B.selectedEmail)||void 0===s?void 0:s.id),role:"button","aria-expanded":"false"}),(0,t.jsxs)("div",{class:"media",children:[(0,t.jsx)("div",{class:"media-head",children:(0,t.jsx)("div",{class:"avatar avatar-sm avatar-primary position-relative avatar-rounded",children:(0,t.jsx)("span",{class:"initial-wrap",children:se(null===B||void 0===B||null===(a=B.selectedEmail)||void 0===a||null===(l=a.sender)||void 0===l?void 0:l.name).firstCharacter+se(null===B||void 0===B||null===(i=B.selectedEmail)||void 0===i||null===(d=i.sender)||void 0===d?void 0:d.name).characterAfterSpace})})}),(0,t.jsxs)("div",{class:"media-body",children:[(0,t.jsx)("div",{children:null===B||void 0===B||null===(c=B.selectedEmail)||void 0===c||null===(h=c.sender)||void 0===h?void 0:h.name}),(0,t.jsxs)("div",{class:"fs-7",children:[(0,t.jsx)("span",{children:"to"}),(0,t.jsxs)("div",{class:"mail-desc-dropdown",children:[(0,t.jsx)("a",{href:"/",class:"dropdown-toggle link-dark","data-bs-toggle":"dropdown",children:"me"}),(0,t.jsxs)("div",{class:"dropdown-menu",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{children:"from :"}),(0,t.jsxs)("span",{children:[null===B||void 0===B||null===(m=B.selectedEmail)||void 0===m||null===(u=m.sender)||void 0===u?void 0:u.name," ",(0,t.jsxs)("span",{children:["<",null===B||void 0===B||null===(p=B.selectedEmail)||void 0===p||null===(k=p.sender)||void 0===k?void 0:k.email,">"]})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{children:"to :"}),(0,t.jsxs)("span",{children:[null===B||void 0===B||null===(y=B.selectedEmail)||void 0===y||null===(w=y.reciever)||void 0===w?void 0:w.name," ",(0,t.jsxs)("span",{children:["<",null===B||void 0===B||null===(N=B.selectedEmail)||void 0===N||null===(C=N.reciever)||void 0===C?void 0:C.email,">"]})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{children:"date :"}),(0,t.jsx)("span",{children:v()(null===B||void 0===B||null===(E=B.selectedEmail)||void 0===E?void 0:E.created_at,"h:mm A").format("h:mm A")})]})]})]})]})]})]}),(0,t.jsxs)("div",{class:"email-head-action",children:[(0,t.jsxs)("div",{class:"email-time",children:[" ",v()(null===B||void 0===B||null===(A=B.selectedEmail)||void 0===A?void 0:A.created_at,"h:mm A").format("h:mm A")]}),(0,t.jsxs)("span",{class:"email-star marked",children:[(0,t.jsx)("span",{class:"feather-icon pt-1",children:"important"===(null===B||void 0===B||null===(S=B.selectedEmail)||void 0===S?void 0:S.status)?(0,t.jsx)(n.gt3,{onClick:()=>{var e;return ee(null===B||void 0===B||null===(e=B.selectedEmail)||void 0===e?void 0:e.id,"active")}}):(0,t.jsx)(n.wei,{onClick:()=>{var e;return ee(null===B||void 0===B||null===(e=B.selectedEmail)||void 0===e?void 0:e.id,"important")}})}),(0,t.jsx)("span",{className:"px-2 pb-1",children:(0,t.jsx)(n.Wlj,{color:"#007d88",onClick:()=>{var e;return ee(null===B||void 0===B||null===(e=B.selectedEmail)||void 0===e?void 0:e.id,"archive")}})}),(0,t.jsx)("span",{className:"px-1 pb-1",children:(0,t.jsx)(n.qbC,{color:"red",onClick:()=>{var e;return ee(null===B||void 0===B||null===(e=B.selectedEmail)||void 0===e?void 0:e.id,"blocked")}})})]})]})]})})}),(0,t.jsx)("div",{id:"simple-collapse-".concat(null===B||void 0===B||null===(_=B.selectedEmail)||void 0===_?void 0:_.id),class:"accordion-collapse collapse",children:(0,t.jsxs)("div",{class:"accordion-body",children:[(0,t.jsx)("div",{dangerouslySetInnerHTML:{__html:null===B||void 0===B||null===(D=B.selectedEmail)||void 0===D?void 0:D.body}}),(0,t.jsx)("div",{class:"separator separator-light"}),(0,t.jsx)("div",{class:"text-end",children:(0,t.jsx)("a",{href:"/",class:"link-theme fs-7",children:(0,t.jsx)("u",{children:"Download All"})})}),(0,t.jsxs)("div",{class:"email-attachment-wrap",children:[null===B||void 0===B||null===(R=B.selectedEmail)||void 0===R||null===(T=R.files)||void 0===T?void 0:T.map(((e,s)=>{var a;return(0,t.jsx)("div",{class:"attachment-box",children:(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{class:"media",children:[(0,t.jsx)("div",{class:"avatar avatar-icon avatar-sm avatar-blue",children:(0,t.jsx)("span",{class:"initial-wrap fs-3",children:(0,t.jsx)(x.A,{fileType:Z(null===e||void 0===e?void 0:e.file_link),fileUrl:null===e||void 0===e?void 0:e.file_link,fileWidth:45})})}),(0,t.jsxs)("div",{class:"media-body",children:[(0,t.jsx)("p",{class:"file-name",children:null===e||void 0===e||null===(a=e.file_link)||void 0===a?void 0:a.split("/").pop()}),(0,t.jsxs)("p",{class:"file-size",children:[J(null===e||void 0===e?void 0:e.size)," MB"]})]})]}),(0,t.jsx)("div",{class:"file-overlay",children:(0,t.jsx)("button",{class:"btn btn-sm btn-icon btn-rounded btn-primary",children:(0,t.jsx)("span",{class:"icon",children:(0,t.jsx)("button",{style:{border:"none",background:"none"},onClick:()=>$(null===e||void 0===e?void 0:e.file_link,null===e||void 0===e?void 0:e.created_at),children:(0,t.jsx)(n.$TP,{color:"white"})},s)})})})]})})})),(0,t.jsxs)("div",{class:"my-5",children:[(0,t.jsx)("button",{class:"btn btn-outline-light me-2","data-bs-toggle":"collapse","data-bs-target":"#compose_email","aria-expanded":"false",children:(0,t.jsxs)("span",{children:[(0,t.jsx)("span",{class:"icon",children:(0,t.jsx)("span",{class:"feather-icon",children:(0,t.jsx)("i",{"data-feather":"corner-up-left"})})}),(0,t.jsx)("span",{children:"Reply"})]})}),(0,t.jsx)("button",{class:"btn btn-outline-light","data-bs-toggle":"collapse","data-bs-target":"#compose_email","aria-expanded":"false",children:(0,t.jsxs)("span",{children:[(0,t.jsx)("span",{class:"icon",children:(0,t.jsx)("span",{class:"feather-icon",children:(0,t.jsx)("i",{"data-feather":"arrow-right"})})}),(0,t.jsx)("span",{children:"Forward"})]})})]}),(0,t.jsx)("div",{id:"compose_email",class:"collapse mt-7",children:(0,t.jsxs)("div",{class:"d-flex",children:[(0,t.jsx)("div",{class:"media",children:(0,t.jsx)("div",{class:"media-head me-3",children:(0,t.jsx)("div",{class:"avatar avatar-icon avatar-soft-light avatar-rounded d-8",children:(0,t.jsx)("span",{class:"initial-wrap",children:(0,t.jsx)("i",{class:"ri-user-fill"})})})})}),(0,t.jsxs)("form",{className:"card p-3",onSubmit:M(G),children:[(0,t.jsx)("div",{className:"w-100 mb-1",children:(0,t.jsx)(j.A,{name:"subject",placeholder:"Subject",control:O,errors:q})}),(0,t.jsx)("div",{className:"w-100 mb-1",children:(0,t.jsx)(j.A,{name:"to",placeholder:"email",defaultValue:null===B||void 0===B||null===(F=B.selectedEmail)||void 0===F||null===(z=F.reciever)||void 0===z?void 0:z.email,control:O,errors:q})}),(0,t.jsx)("div",{className:"w-100 mb-1",children:(0,t.jsx)(b.A,{name:"body",placeholder:"Text",rows:7,control:O,errors:q})}),(0,t.jsxs)("div",{class:"compose-email-footer mt-5",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("button",{class:"btn btn-primary me-2",type:"submit",children:"Send"}),(0,t.jsx)("input",{type:"file",name:"file",multiple:!0,onChange:Q}),(0,t.jsx)("button",{class:"btn btn-icon btn-flush-dark btn-rounded flush-soft-hover",children:(0,t.jsx)("span",{class:"icon","data-bs-toggle":"tooltip","data-bs-placement":"top",title:"Add flag","data-bs-original-title":"Add flag",children:(0,t.jsx)("span",{class:"feather-icon",children:(0,t.jsx)(n.Y4c,{})})})})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("button",{class:"btn btn-icon btn-flush-dark btn-rounded flush-soft-hover",children:(0,t.jsx)("span",{class:"icon","data-bs-toggle":"Save Draft","data-bs-placement":"top",title:"Save Draft","data-bs-original-title":"Save Draft",children:(0,t.jsx)("span",{class:"feather-icon",children:(0,t.jsx)(n.uO9,{})})})}),(0,t.jsx)("button",{class:"btn btn-icon btn-flush-dark btn-rounded flush-soft-hover",children:(0,t.jsx)("span",{class:"icon","data-bs-toggle":"tooltip","data-bs-placement":"top",title:"Delete","data-bs-original-title":"Delete",children:(0,t.jsx)("span",{class:"feather-icon",children:(0,t.jsx)(n.qbC,{})})})})]})]})]})]})})]})]})})]}),(null===B||void 0===B||null===(L=B.emails)||void 0===L?void 0:L.length)>0&&(null===B||void 0===B||null===(V=B.emails)||void 0===V?void 0:V.map((e=>{var s,a,l,i,d;return(0,t.jsxs)("div",{class:"accordion-item",children:[(0,t.jsx)("div",{id:'"simple-heading-'.concat(e.id),class:"accordion-header",children:(0,t.jsx)("div",{children:(0,t.jsxs)("div",{class:"email-head",children:[(0,t.jsx)("div",{"data-bs-toggle":"collapse","data-bs-target":"#simple-collapse-".concat(e.id),role:"button","aria-expanded":"false"}),(0,t.jsxs)("div",{class:"media",children:[(0,t.jsx)("div",{class:"media-head",children:(0,t.jsx)("div",{class:"avatar d-8",children:(0,t.jsx)("img",{src:null===e||void 0===e||null===(s=e.sender)||void 0===s?void 0:s.avatar,alt:"user",class:"avatar-img rounded-circle"})})}),(0,t.jsxs)("div",{class:"media-body",children:[(0,t.jsx)("div",{children:null===e||void 0===e||null===(a=e.sender)||void 0===a?void 0:a.name}),(0,t.jsxs)("div",{class:"fs-7",children:[(0,t.jsx)("span",{children:"to"}),(0,t.jsxs)("div",{class:"mail-desc-dropdown",children:[(0,t.jsx)("a",{href:"/",class:"dropdown-toggle link-dark","data-bs-toggle":"dropdown",children:"me"}),(0,t.jsxs)("div",{class:"dropdown-menu",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{children:"from :"}),(0,t.jsx)("span",{children:(0,t.jsxs)("span",{children:["<",null===e||void 0===e||null===(l=e.sender)||void 0===l?void 0:l.email,">"]})})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{children:"to :"}),(0,t.jsx)("span",{children:(0,t.jsxs)("span",{children:["<",null===e||void 0===e||null===(i=e.reciever)||void 0===i?void 0:i.email,">"]})})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{children:"date :"}),(0,t.jsx)("span",{children:v()(null===e||void 0===e?void 0:e.created_at,"h:mm A").format("h:mm A")})]})]})]})]})]})]}),(0,t.jsxs)("div",{class:"email-head-action",children:[(0,t.jsxs)("div",{class:"email-time",children:[" ",v()(null===e||void 0===e?void 0:e.created_at,"h:mm A").format("h:mm A")]}),(0,t.jsx)("span",{class:"email-star marked",children:(0,t.jsx)("span",{class:"feather-icon",children:(0,t.jsx)(n.gt3,{})})}),(0,t.jsx)("a",{class:"btn btn-icon btn-flush-dark btn-rounded flush-soft-hover btn-sm",href:"/",children:(0,t.jsx)("span",{class:"icon",children:(0,t.jsx)("span",{class:"feather-icon",children:(0,t.jsx)(n.QVr,{})})})}),(0,t.jsx)("a",{class:"btn btn-icon btn-flush-dark btn-rounded flush-soft-hover btn-sm",href:"/",children:(0,t.jsx)("span",{class:"icon",children:(0,t.jsx)("span",{class:"feather-icon",children:(0,t.jsx)(n.Z0P,{})})})}),(0,t.jsx)("a",{class:"btn btn-icon btn-flush-dark btn-rounded flush-soft-hover btn-sm dropdown-toggle no-caret",href:"/","data-bs-toggle":"dropdown",children:(0,t.jsx)("span",{class:"icon",children:(0,t.jsx)("span",{class:"feather-icon",children:(0,t.jsx)(g.txp,{})})})}),(0,t.jsxs)("div",{class:"dropdown-menu dropdown-menu-right",children:[(0,t.jsx)("a",{class:"dropdown-item",href:"/",children:"Forward"}),(0,t.jsx)("a",{class:"dropdown-item",onClick:()=>X(e.id),children:"Delete"}),(0,t.jsx)("a",{class:"dropdown-item",href:"/",children:"Report Spam"})]})]})]})})}),(0,t.jsx)("div",{id:"simple-collapse-".concat(e.id),class:"accordion-collapse collapse",children:(0,t.jsxs)("div",{class:"accordion-body",children:[(0,t.jsx)("div",{dangerouslySetInnerHTML:{__html:null===e||void 0===e?void 0:e.body}}),(0,t.jsx)("div",{class:"separator separator-light"}),(0,t.jsx)("div",{class:"text-end",children:(0,t.jsx)("a",{href:"/",class:"link-theme fs-7",children:(0,t.jsx)("u",{children:"Download All"})})}),(0,t.jsxs)("div",{class:"email-attachment-wrap",children:[null===e||void 0===e||null===(d=e.files)||void 0===d?void 0:d.map(((e,s)=>(0,t.jsx)("div",{class:"attachment-box",children:(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{class:"media",children:[(0,t.jsx)("div",{class:"avatar avatar-icon avatar-sm avatar-blue",children:(0,t.jsx)("span",{class:"initial-wrap fs-3",children:(0,t.jsx)(x.A,{fileType:Z(null===e||void 0===e?void 0:e.file_link),fileUrl:null===e||void 0===e?void 0:e.file_link,fileWidth:45})})}),(0,t.jsxs)("div",{class:"media-body",children:[(0,t.jsx)("p",{class:"file-name",children:null===e||void 0===e?void 0:e.file_link.split("/").pop()}),(0,t.jsxs)("p",{class:"file-size",children:[J(null===e||void 0===e?void 0:e.size)," MB"]})]})]}),(0,t.jsx)("div",{class:"file-overlay",children:(0,t.jsx)("button",{class:"btn btn-sm btn-icon btn-rounded btn-primary",children:(0,t.jsx)("span",{class:"icon",children:(0,t.jsx)("button",{style:{border:"none",background:"none"},onClick:()=>$(e.file_link,e.created_at),children:(0,t.jsx)(n.$TP,{color:"white"})},s)})})})]})}))),(0,t.jsxs)("div",{class:"my-5",children:[(0,t.jsx)("button",{class:"btn btn-outline-light me-2","data-bs-toggle":"collapse","data-bs-target":"#compose_email","aria-expanded":"false",children:(0,t.jsxs)("span",{children:[(0,t.jsx)("span",{class:"icon",children:(0,t.jsx)("span",{class:"feather-icon",children:(0,t.jsx)("i",{"data-feather":"corner-up-left"})})}),(0,t.jsx)("span",{children:"Reply"})]})}),(0,t.jsx)("button",{class:"btn btn-outline-light","data-bs-toggle":"collapse","data-bs-target":"#compose_email","aria-expanded":"false",children:(0,t.jsxs)("span",{children:[(0,t.jsx)("span",{class:"icon",children:(0,t.jsx)("span",{class:"feather-icon",children:(0,t.jsx)("i",{"data-feather":"arrow-right"})})}),(0,t.jsx)("span",{children:"Forward"})]})})]}),(0,t.jsx)("div",{id:"compose_email",class:"collapse mt-7",children:(0,t.jsxs)("div",{class:"d-flex",children:[(0,t.jsx)("div",{class:"media",children:(0,t.jsx)("div",{class:"media-head me-3",children:(0,t.jsx)("div",{class:"avatar avatar-icon avatar-soft-light avatar-rounded d-8",children:(0,t.jsx)("span",{class:"initial-wrap",children:(0,t.jsx)("i",{class:"ri-user-fill"})})})})}),(0,t.jsxs)("form",{className:"card p-3",onSubmit:M(G),children:[(0,t.jsx)("div",{className:"w-100 mb-1",children:(0,t.jsx)(j.A,{name:"subject",placeholder:"Subject",control:O,errors:q})}),(0,t.jsx)("div",{className:"w-100 mb-1",children:(0,t.jsx)(j.A,{name:"to",placeholder:"email",defaultValue:e.reciever.email,control:O,errors:q})}),(0,t.jsx)("div",{className:"w-100 mb-1",children:(0,t.jsx)(b.A,{name:"body",placeholder:"Text",rows:7,control:O,errors:q})}),(0,t.jsxs)("div",{class:"compose-email-footer mt-5",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("button",{class:"btn btn-primary me-2",type:"submit",children:"Send"}),(0,t.jsx)("input",{type:"file",name:"file",multiple:!0,onChange:Q}),(0,t.jsx)("button",{class:"btn btn-icon btn-flush-dark btn-rounded flush-soft-hover",children:(0,t.jsx)("span",{class:"icon","data-bs-toggle":"tooltip","data-bs-placement":"top",title:"Add flag","data-bs-original-title":"Add flag",children:(0,t.jsx)("span",{class:"feather-icon",children:(0,t.jsx)(n.Y4c,{})})})})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("button",{class:"btn btn-icon btn-flush-dark btn-rounded flush-soft-hover",children:(0,t.jsx)("span",{class:"icon","data-bs-toggle":"Save Draft","data-bs-placement":"top",title:"Save Draft","data-bs-original-title":"Save Draft",children:(0,t.jsx)("span",{class:"feather-icon",children:(0,t.jsx)(n.uO9,{})})})}),(0,t.jsx)("button",{class:"btn btn-icon btn-flush-dark btn-rounded flush-soft-hover",children:(0,t.jsx)("span",{class:"icon","data-bs-toggle":"tooltip","data-bs-placement":"top",title:"Delete","data-bs-original-title":"Delete",children:(0,t.jsx)("span",{class:"feather-icon",children:(0,t.jsx)(n.qbC,{})})})})]})]})]})]})})]})]})})]})})))]})]})})},y=e=>{let{onDataFromChild:s,onEmailDetail:a,emailsData:l,authUser:i,emailArray:n,emailDetails:d,token:r,dispatch:o,isLoading:c}=e;return(0,t.jsxs)("div",{class:"emailapp-content",children:[(0,t.jsxs)("div",{class:"emailapp-aside",children:[(0,t.jsx)(h,{emailsData:l,authUser:i,onDataFromChild:s}),(0,t.jsx)("div",{"data-simplebar":!0,class:"aside-body",children:(0,t.jsx)(p,{emailsData:l,emails:n,dispatch:o,token:r,isLoading:c,onEmailDetail:a})})]}),(0,t.jsx)("div",{class:"emailapp-single-email",children:(0,t.jsx)(k,{emailDetails:d,emailsData:l,emails:n,onEmailDetail:a})})]})};var w=a(70779),N=a(4671),C=a(31279),E=a(57557),A=a(22598),S=a(73422);const _=()=>{const{handleSubmit:e,control:s,setValue:a,formState:{errors:i}}=(0,f.mN)(),d=(0,r.wA)(),{token:h,user:m}=(0,r.d4)((e=>e.auth)),{users:v}=(0,r.d4)((e=>e.user)),{isLoading:p}=(0,r.d4)((e=>e.email)),[x,b]=(0,l.useState)([]);(0,l.useEffect)((()=>{d((0,c.lo)(h))}),[h,d]),(0,l.useEffect)((()=>{(null===v||void 0===v?void 0:v.length)>0&&b(v)}),[v]);return(0,t.jsx)("div",{class:"compose-email-popup",children:(0,t.jsxs)("div",{class:"d-flex flex-column h-100",children:[(0,t.jsxs)("header",{class:"d-flex align-items-center justify-content-between",children:[(0,t.jsx)("h6",{class:"text-white mb-0",children:"Compose Email"}),(0,t.jsxs)("div",{class:"d-flex",children:[(0,t.jsx)("button",{id:"min_compose_popup",class:"btn btn-sm btn-icon btn-dark btn-rounded d-lg-block d-none",children:(0,t.jsx)("span",{class:"icon",children:(0,t.jsx)("span",{class:"feather-icon",children:(0,t.jsx)(n.iu5,{})})})}),(0,t.jsx)("button",{id:"max_compose_popup",class:"btn btn-sm btn-icon btn-dark btn-rounded d-lg-block d-none",children:(0,t.jsxs)("span",{class:"icon",children:[(0,t.jsx)("span",{class:"feather-icon",children:(0,t.jsx)(N.bPN,{})}),(0,t.jsx)("span",{class:"feather-icon",children:(0,t.jsx)(g.SsO,{})})]})}),(0,t.jsx)("button",{id:"close_compose_popup",class:"btn btn-sm btn-icon btn-dark btn-rounded",children:(0,t.jsx)("span",{class:"icon",children:(0,t.jsx)("span",{class:"feather-icon",children:(0,t.jsx)(w.j55,{})})})})]})]}),p?(0,t.jsx)(u.A,{}):(0,t.jsxs)("form",{onSubmit:e((e=>{if(null!==m&&void 0!==m&&m.google_app_password){var s;const a=new FormData;a.append("subject",e.subject),a.append("body",e.body),a.append("type","email"),a.append("from",m.email),a.append("from_name",m.name),a.append("google_app_password",null===m||void 0===m?void 0:m.google_app_password),null===e||void 0===e||null===(s=e.to)||void 0===s||s.forEach((e=>{a.append("to",e)})),e.files&&e.files.forEach((e=>{a.append("files",e)})),d((0,o.lm)(h,a))}else S.oR.error("Email not sent. Please configure your account.")})),children:[(0,t.jsx)("div",{className:"w-100",children:(0,t.jsx)(j.A,{name:"subject",placeholder:"Subject",control:s,errors:i})}),(0,t.jsx)("div",{className:"w-100",children:(0,t.jsx)(C.A,{errors:i,control:s,placeHolder:"Enter email and press enter",name:"to"})}),(0,t.jsx)("div",{className:"w-100",children:(0,t.jsx)(E.A,{name:"body",placeholder:"Body text",control:s,rules:{required:{value:!0,message:"Field required!"}},errors:i})}),(0,t.jsxs)("div",{className:"mb-2",children:[(0,t.jsxs)("div",{className:"btn shadow btn-secondary rounded-circle btn-file",style:{width:"30px",height:"35px"},children:[(0,t.jsx)(A._mV,{size:17,style:{marginLeft:"-8px",marginBottom:"6px"}}),(0,t.jsx)("input",{type:"file",className:"upload",onChange:e=>{a("files",e.currentTarget.files)}})]}),(0,t.jsx)("span",{className:"px-2",children:"Attach files"})]}),(0,t.jsx)("div",{class:"compose-email-footer",children:(0,t.jsx)("div",{className:"w-100",children:(0,t.jsx)("button",{class:"btn btn-primary float-end",type:"submit",children:"Send"})})})]})]})})},D=()=>(0,t.jsx)("div",{id:"add_new_cat",class:"modal fade",tabindex:"-1",role:"dialog","aria-hidden":"true",children:(0,t.jsx)("div",{class:"modal-dialog modal-dialog-centered modal-sm",role:"document",children:(0,t.jsx)("div",{class:"modal-content",children:(0,t.jsxs)("div",{class:"modal-body",children:[(0,t.jsx)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close",children:(0,t.jsx)("span",{"aria-hidden":"true",children:"\xd7"})}),(0,t.jsx)("h6",{class:"text-uppercase fw-bold mb-3",children:"Add Category"}),(0,t.jsxs)("form",{children:[(0,t.jsx)("div",{class:"row gx-3",children:(0,t.jsx)("div",{class:"col-sm-12",children:(0,t.jsx)("div",{class:"form-group",children:(0,t.jsx)("input",{class:"form-control",type:"text",placeholder:"Category Name"})})})}),(0,t.jsx)("button",{type:"button",class:"btn btn-primary float-end","data-bs-dismiss":"modal",children:"Add"})]})]})})})}),R=()=>{const{token:e,user:s}=(0,r.d4)((e=>e.auth)),{isLoading:a,emails:i}=(0,r.d4)((e=>e.email)),{users:n}=(0,r.d4)((e=>e.user)),[h,m]=(0,l.useState)([]),[v,u]=(0,l.useState)([]),[p,x]=(0,l.useState)([]),[j,b]=(0,l.useState)([]),[f,g]=(0,l.useState)([]),[k,w]=(0,l.useState)([]),N=(0,r.wA)();(0,l.useEffect)((()=>{N((0,o.xY)(e,null===s||void 0===s?void 0:s.email,20,1)),N((0,c.lo)(e))}),[e,N,s]),(0,l.useEffect)((()=>{if((null===i||void 0===i?void 0:i.length)>0){const e=null===i||void 0===i?void 0:i.filter((e=>null===e.parent_id)),s=[];null===i||void 0===i||i.forEach((e=>{const a=null===k||void 0===k?void 0:k.filter((s=>s.email===e.sender))[0],l=null===k||void 0===k?void 0:k.filter((s=>s.email===e.reciever))[0];s.push({...e,sender:a,reciever:l})})),u(s),m(e)}}),[i,k]),(0,l.useEffect)((()=>{(null===n||void 0===n?void 0:n.length)>0&&w(n)}),[n]),(0,l.useEffect)((()=>{if((null===h||void 0===h?void 0:h.length)>0&&(null===k||void 0===k?void 0:k.length)>0){const e=[],a=null===h||void 0===h?void 0:h.filter((e=>e.reciever===s.email&&("active"===e.status||"important"===e.status)));null===a||void 0===a||a.map((s=>{const a=null===k||void 0===k?void 0:k.filter((e=>e.email===s.sender))[0],l=null===k||void 0===k?void 0:k.filter((e=>e.email===s.reciever))[0];e.push({...s,sender:a,reciever:l})})),x(e)}}),[h,k,s]),(0,l.useEffect)((()=>{if((null===h||void 0===h?void 0:h.length)>0&&(null===k||void 0===k?void 0:k.length)>0){const e=[];null===h||void 0===h||h.map((s=>{const a=null===k||void 0===k?void 0:k.filter((e=>e.email===s.sender))[0],l=null===k||void 0===k?void 0:k.filter((e=>e.email===s.reciever))[0];e.push({...s,sender:a,reciever:l})})),b(e)}}),[h,k,s]);return(0,t.jsx)(t.Fragment,{children:(0,t.jsx)("div",{class:"hk-pg-wrapper pb-0",children:(0,t.jsx)("div",{class:"hk-pg-body py-0",children:(0,t.jsxs)("div",{class:"emailapp-wrap",children:[(0,t.jsx)(d,{onDataFromChild:e=>{x(e)},initialData:j,authUser:s}),(0,t.jsx)(y,{onDataFromChild:e=>{x(e)},onEmailDetail:e=>{g(e)},authUser:s,isLoading:a,emailArray:v,emailDetails:f,emailsData:p,dispatch:N,token:e}),(0,t.jsx)(_,{}),(0,t.jsx)(D,{})]})})})})},T=()=>(0,t.jsx)(i.A,{component:(0,t.jsx)(R,{})})},55794:(e,s,a)=>{a.d(s,{u:()=>r});var l=a(82483);function i(e,s){let a=(0,l.useRef)(!1);(0,l.useEffect)((()=>{a.current?e():a.current=!0}),s)}function n(){for(var e=arguments.length,s=new Array(e),a=0;a<e;a++)s[a]=arguments[a];return s.filter((e=>e)).join(" ")}function t(e){let{text:s,remove:a,disabled:i,className:t}=e;return l.createElement("span",{className:n("rti--tag",t)},l.createElement("span",null,s),!i&&l.createElement("button",{type:"button",onClick:e=>{e.stopPropagation(),a(s)},"aria-label":"remove ".concat(s)},"\u2715"))}!function(e){let{insertAt:s}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!e||typeof document>"u")return;let a=document.head||document.getElementsByTagName("head")[0],l=document.createElement("style");l.type="text/css","top"===s&&a.firstChild?a.insertBefore(l,a.firstChild):a.appendChild(l),l.styleSheet?l.styleSheet.cssText=e:l.appendChild(document.createTextNode(e))}(".rti--container *{box-sizing:border-box;transition:all .2s ease}.rti--container{--rti-bg: #fff;--rti-border: #ccc;--rti-main: #3182ce;--rti-radius: .375rem;--rti-s: .5rem;--rti-tag: #edf2f7;--rti-tag-remove: #e53e3e;--rti-tag-padding: .15rem .25rem;align-items:center;background:var(--rti-bg);border:1px solid var(--rti-border);border-radius:var(--rti-radius);display:flex;flex-wrap:wrap;gap:var(--rti-s);line-height:1.4;padding:var(--rti-s)}.rti--container:focus-within{border-color:var(--rti-main);box-shadow:var(--rti-main) 0 0 0 1px}.rti--input{border:0;outline:0;font-size:inherit;line-height:inherit;width:50%}.rti--tag{align-items:center;background:var(--rti-tag);border-radius:var(--rti-radius);display:inline-flex;justify-content:center;padding:var(--rti-tag-padding)}.rti--tag button{background:none;border:0;border-radius:50%;cursor:pointer;line-height:inherit;padding:0 var(--rti-s)}.rti--tag button:hover{color:var(--rti-tag-remove)}\n");var d=["Enter"],r=e=>{let{name:s,placeHolder:a,value:r,onChange:o,onBlur:c,separators:h,disableBackspaceRemove:m,onExisting:v,onRemoved:u,disabled:p,isEditOnRemove:x,beforeAddValidate:j,onKeyUp:b,classNames:f}=e,[g,k]=(0,l.useState)(r||[]);i((()=>{o&&o(g)}),[g]),i((()=>{JSON.stringify(r)!==JSON.stringify(g)&&k(r)}),[r]);let y=e=>{k(g.filter((s=>s!==e))),u&&u(e)};return l.createElement("div",{"aria-labelledby":s,className:"rti--container"},g.map((e=>l.createElement(t,{key:e,className:null==f?void 0:f.tag,text:e,remove:y,disabled:p}))),l.createElement("input",{className:n("rti--input",null==f?void 0:f.input),type:"text",name:s,placeholder:a,onKeyDown:e=>{e.stopPropagation();let s=e.target.value;if(!s&&!m&&g.length&&"Backspace"===e.key&&(e.target.value=x?"".concat(g.at(-1)," "):"",k([...g.slice(0,-1)])),s&&(h||d).includes(e.key)){if(e.preventDefault(),j&&!j(s,g))return;if(g.includes(s))return void(v&&v(s));k([...g,s]),e.target.value=""}},onBlur:c,disabled:p,onKeyUp:b}))}}}]);
//# sourceMappingURL=5200.a92241ff.chunk.js.map