"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[3999],{6732:(e,s,a)=>{a.d(s,{A:()=>c});var l=a(82483),n=a(30109),i=a.n(n),d=a(28846),t=a(56723);const c=function(e){let{itemsPerPage:s,items:a,dataFromChild:n}=e;const c=(0,l.useRef)(),[r,o]=(0,l.useState)(0),m=r+s,h=null===a||void 0===a?void 0:a.slice(r,m),v=Math.ceil(a.length/s);return console.log(c.current,h,h!==c.current),(0,l.useEffect)((()=>{(async()=>{await new Promise((e=>setTimeout(e,1e3))),((e,s)=>{if((null===e||void 0===e?void 0:e.length)!==(null===s||void 0===s?void 0:s.length))return!1;for(let a=0;a<e.length;a++)if(e[a]!==s[a])return!1;return!0})(h,c.current)||(n(h),c.current=h)})()}),[h,c,n]),(0,t.jsx)(t.Fragment,{children:(0,t.jsx)("div",{style:{display:"flex",flexDirection:"column",justifyContent:"center",boxSizing:"border-box",width:"100%",height:"100px"},children:(0,t.jsx)(i(),{breakClassName:"item break-me ",containerClassName:"d-flex justify-content-center",disabledClassName:"disabled-page",marginPagesDisplayed:2,nextClassName:"arrows btn btn-light ",pageClassName:"item pagination-page ",previousClassName:"arrows btn btn-light",nextLabel:(0,t.jsx)(d.l_J,{}),previousLabel:(0,t.jsx)(d.U_G,{}),breakLabel:"...",onPageChange:e=>{const a=e.selected*s;console.log("User requested page number ".concat(e.selected+1,", which is offset ").concat(a)),o(a),n(h)},pageRangeDisplayed:5,pageCount:v,renderOnZeroPageCount:null,activeClassName:"pagination_active"})})})}},83999:(e,s,a)=>{a.r(s),a.d(s,{default:()=>B});var l=a(82483),n=a(16575),i=a(28846),d=a(91965),t=a(99492),c=a(56723);const r=e=>{let{onSendData:s,contactsData:a,onToggleEdit:n}=e;const{users:r}=(0,d.d4)((e=>e.user)),[o,m]=(0,l.useState)("all"),{handleToggleShowUserDetail:h}=(0,l.useContext)(t.d);return(0,c.jsxs)("nav",{className:"contactapp-sidebar",children:[(0,c.jsx)("div",{"data-simplebar":!0,className:"nicescroll-bar",children:(0,c.jsxs)("div",{className:"menu-content-wrap",children:[(0,c.jsx)("button",{type:"button",className:"btn btn-primary btn-rounded btn-block mb-4","data-bs-toggle":"modal","data-bs-target":"#add_new_contact",children:"Add new Client"}),(0,c.jsx)("div",{className:"menu-group p-1",children:(0,c.jsxs)("ul",{className:"nav nav-light navbar-nav flex-column",children:[(0,c.jsx)("li",{id:"all_contacts",className:"nav-item ".concat("all"===o?"active":""),children:(0,c.jsxs)("button",{onClick:()=>{const e=a;m("all"),h(!1),s(e)},className:"nav-link btn-block",children:[(0,c.jsx)("span",{className:"nav-icon-wrap",children:(0,c.jsx)("span",{className:"feather-icon",children:(0,c.jsx)(i.NPF,{})})}),(0,c.jsx)("span",{className:"nav-link-text",children:"All Clients"})]})}),(0,c.jsx)("li",{className:"nav-item ".concat("active"===o?"active":""),children:(0,c.jsxs)("button",{id:"deleted_contacts",onClick:()=>{const e=null===a||void 0===a?void 0:a.filter((e=>"active"===e.status));m("active"),h(!1),s(e)},className:"nav-link btn-block",children:[(0,c.jsx)("span",{className:"nav-icon-wrap",children:(0,c.jsx)("span",{className:"feather-icon",children:(0,c.jsx)(i.BAG,{})})}),(0,c.jsx)("span",{className:"nav-link-text",children:"Active"})]})}),(0,c.jsx)("li",{className:"nav-item ".concat("blocked"===o?"active":""),children:(0,c.jsxs)("button",{id:"deleted_contacts",onClick:()=>{const e=a.filter((e=>"blocked"===e.status));m("blocked"),s(e),h(!1),n(!1)},className:"nav-link btn-block",children:[(0,c.jsx)("span",{className:"nav-icon-wrap",children:(0,c.jsx)("span",{className:"feather-icon",children:(0,c.jsx)(i.qbC,{})})}),(0,c.jsx)("span",{className:"nav-link-text",children:"Blocked"})]})})]})})]})}),(0,c.jsx)("div",{className:"contactapp-fixednav",children:(0,c.jsx)("div",{className:"hk-toolbar"})})]})},o=e=>{let{onDataFromChild:s,activeBar:a}=e;return(0,c.jsxs)("header",{className:"contact-header",children:[(0,c.jsx)("div",{className:"d-flex align-items-center",children:(0,c.jsx)("div",{className:"dropdown",children:(0,c.jsx)("a",{className:"contactapp-title dropdown-toggle link-dark",role:"button",children:(0,c.jsx)("h1",{children:"Clients"})})})}),(0,c.jsxs)("div",{className:"contact-options-wrap",children:[(0,c.jsx)("a",{className:"btn btn-icon btn-flush-dark flush-soft-hover dropdown-toggle no-caret active","data-bs-toggle":"dropdown",children:(0,c.jsx)("span",{className:"icon",children:(0,c.jsx)("span",{className:"feather-icon",children:(0,c.jsx)(i.svy,{})})})}),(0,c.jsxs)("div",{className:"dropdown-menu dropdown-menu-end",children:[(0,c.jsxs)("a",{className:"dropdown-item ".concat("list"===a?"active":""),onClick:()=>s("list"),children:[(0,c.jsx)("span",{className:"feather-icon dropdown-icon",children:(0,c.jsx)(i.svy,{})}),(0,c.jsx)("span",{children:"List View"})]}),(0,c.jsxs)("a",{className:"dropdown-item ".concat("grid"===a?"active":""),onClick:()=>s("grid"),children:[(0,c.jsx)("span",{className:"feather-icon dropdown-icon",children:(0,c.jsx)(i.tSG,{})}),(0,c.jsx)("span",{children:"Grid View"})]})]}),(0,c.jsx)("div",{className:"v-separator d-lg-block d-none"})]}),(0,c.jsx)("div",{className:"hk-sidebar-togglable"})]})};var m=a(7874),h=a(710),v=a(94690),x=a.n(v),u=a(49678),j=a(34304),p=a.n(j);const b=e=>{let{usersData:s,onToggleEdit:a,isEdit:n,allUsers:r}=e;console.log("\ud83d\ude80 ~ ContactList ~ allUsers:",r);const{handleToggleShowUserDetail:o}=(0,l.useContext)(t.d),v=(0,d.wA)(),{token:j}=(0,d.d4)((e=>e.auth)),{isLoading:b}=(0,d.d4)((e=>e.contact));(0,l.useEffect)((()=>{j&&v((0,m.EC)(j))}),[v,j]);const N=e=>{o(!0,e,j)};return(0,c.jsx)("div",{className:"contact-list-view",style:{height:"100%",overflow:"scroll"},children:!n&&(0,c.jsx)(c.Fragment,{children:b?(0,c.jsx)(h.A,{}):(0,c.jsxs)("table",{className:"table w-100 mb-5",children:[(0,c.jsx)("thead",{children:(0,c.jsxs)("tr",{children:[(0,c.jsx)("th",{children:"Name"}),(0,c.jsx)("th",{children:"Email Address"}),(0,c.jsx)("th",{children:"Status"}),(0,c.jsx)("th",{children:"No of Subaccounts"}),(0,c.jsx)("th",{children:"Date Created"}),(0,c.jsx)("th",{children:"Actions"})]})}),(0,c.jsx)("tbody",{children:(null===s||void 0===s?void 0:s.length)>0&&(null===s||void 0===s?void 0:s.map((e=>{var s;return(0,c.jsxs)("tr",{children:[(0,c.jsx)("td",{children:(0,c.jsxs)("div",{className:"media align-items-center",children:[(0,c.jsx)("div",{className:"media-head me-2",children:(0,c.jsx)("div",{className:"avatar avatar-xs avatar-rounded",children:(0,c.jsx)("img",{src:e.avatar||"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQj0HSlpGrcoSJqHfu9TPqo_WhhuWwq8t8zb5lbp5ES8w&s",alt:"user",className:"avatar-img"})})}),(0,c.jsx)("div",{className:"media-body",style:{cursor:"pointer"},children:(0,c.jsx)("a",{className:" ",onClick:()=>N(e.id),children:(0,c.jsx)("span",{className:"d-block text-high-em text-primary border-bottom",style:{width:"max-content"},children:e.name})})})]})}),(0,c.jsx)("td",{className:"text-truncate",children:e.email}),(0,c.jsx)("td",{children:(0,c.jsx)("span",{className:"".concat("active"===(null===e||void 0===e?void 0:e.status)?" badge rounded text-bg-primary ":"badge rounded text-bg-danger","  justify-content-around mt-3"),children:null===e||void 0===e?void 0:e.status})}),(0,c.jsx)("td",{className:"text-center",children:null===r||void 0===r||null===(s=r.filter((s=>p().toInteger(s.parent_id)===e.id)))||void 0===s?void 0:s.length}),(0,c.jsx)("td",{children:x()(null===e||void 0===e?void 0:e.created_at).format("DD, MMM YYYY")}),(0,c.jsx)("td",{children:(0,c.jsx)("div",{className:"d-flex align-items-center",children:(0,c.jsxs)("div",{className:"d-flex",children:[(0,c.jsx)("a",{className:"btn btn-icon btn-flush-dark btn-rounded flush-soft-hover","data-bs-toggle":"tooltip","data-placement":"top",title:"","data-bs-original-title":"Edit",onClick:()=>N(e.id),children:(0,c.jsx)("span",{className:"icon",children:(0,c.jsx)("span",{className:"feather-icon",children:(0,c.jsx)(i.uO9,{})})})}),(0,c.jsx)("button",{className:"btn btn-icon btn-flush-dark btn-rounded flush-soft-hover del-button",onClick:()=>{return s=e.id,v((0,u.R0)(j,s)),void a(!1);var s},children:(0,c.jsx)("span",{className:"icon",children:(0,c.jsx)("span",{className:"feather-icon",children:(0,c.jsx)(i.qbC,{})})})})]})})})]})})))})]})})})};var N=a(23080),g=a(7817);const f=()=>{const{handleSubmit:e,watch:s,control:a,setValue:n,formState:{errors:i}}=(0,N.mN)({}),{token:t,isLoading:r}=(0,d.d4)((e=>e.auth)),[o,m]=(0,l.useState)(null),v=s("country_array"),x=s("state_array"),j=s("city_array"),p=(0,d.wA)();(0,l.useEffect)((()=>{void 0!==v&&n("country",v.value)}),[v,n]),(0,l.useEffect)((()=>{void 0!==x&&n("state",x.value)}),[x,n]),(0,l.useEffect)((()=>{void 0!==j&&n("city",j.value)}),[j,n]);return(0,c.jsxs)("form",{onSubmit:e((e=>{const s=new FormData;s.append("name",null===e||void 0===e?void 0:e.name),s.append("email",null===e||void 0===e?void 0:e.email),s.append("password",null===e||void 0===e?void 0:e.password),s.append("username",null===e||void 0===e?void 0:e.username),s.append("role","USER"),s.append("avatar",o&&o),console.log("\ud83d\ude80 ~ handleAddContact ~ data:",e,o),p((0,u.pH)(s))})),children:[r?(0,c.jsx)(h.A,{}):(0,c.jsx)("div",{class:"modal-body",children:(0,c.jsxs)("div",{className:"row",children:[(0,c.jsx)("div",{className:"col-md-6 col-sm-6",children:(0,c.jsx)(g.A,{control:a,errors:i,name:"name",placeholder:"Name"})}),(0,c.jsx)("div",{className:"col-md-6 col-sm-6",children:(0,c.jsx)(g.A,{control:a,errors:i,name:"username",placeholder:"Username"})}),(0,c.jsx)("div",{className:"col-md-6 col-sm-6",children:(0,c.jsx)(g.A,{control:a,type:"email",errors:i,name:"email",placeholder:"Email"})}),(0,c.jsx)("div",{className:"col-md-6 col-sm-6",children:(0,c.jsx)(g.A,{type:"password",control:a,errors:i,name:"password",placeholder:"Password"})})]})}),(0,c.jsxs)("div",{class:"modal-footer",children:[(0,c.jsx)("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal",children:"Close"}),(0,c.jsx)("button",{type:"submit",class:"btn btn-primary",children:"Submit"})]})]})};var w=a(93970),y=a(42060);const k=e=>{let{contact:s}=e;const{token:a}=(0,d.d4)((e=>e.auth)),[n,i]=(0,l.useState)(null),t=(0,d.wA)(),{handleSubmit:r,control:o,setValue:m,formState:{errors:h}}=(0,N.mN)({});(0,l.useEffect)((()=>{s&&(m("name",s.name),m("username",s.username),m("personal_phone",s.personal_phone),m("email",s.email),m("role",{label:s.role,value:s.role}),m("status",{label:p().capitalize(s.status),value:s.status}))}),[s,m]);return(0,c.jsx)(c.Fragment,{children:(0,c.jsx)("div",{className:"modal fade",id:"editInfo",role:"dialog","aria-hidden":"true",children:(0,c.jsx)("div",{className:"modal-dialog modal-dialog-centered modal-lg",role:"document",children:(0,c.jsxs)("div",{className:"modal-content",children:[(0,c.jsxs)("div",{className:"modal-header bg-primary",children:[(0,c.jsx)("h6",{className:"modal-title",style:{color:"white"},children:"Profile Information"}),(0,c.jsx)("button",{type:"button",className:"btn btn-light btn-icon btn-sm","data-bs-dismiss":"modal","aria-label":"Close",children:(0,c.jsx)("span",{"aria-hidden":"true",children:(0,c.jsx)(w.m6K,{})})})]}),(0,c.jsx)("div",{className:"modal-body",children:(0,c.jsxs)("form",{onSubmit:r((e=>{var l,i;const d=new FormData;d.append("name",null===e||void 0===e?void 0:e.name),d.append("username",null===e||void 0===e?void 0:e.username),d.append("email",null===e||void 0===e?void 0:e.email),d.append("personal_phone",null===e||void 0===e?void 0:e.personal_phone),d.append("status",null===e||void 0===e||null===(l=e.status)||void 0===l?void 0:l.value),d.append("role",null===e||void 0===e||null===(i=e.role)||void 0===i?void 0:i.value),console.log("\ud83d\ude80 ~ handleUpdateUser ~ data:",e),n&&d.append("avatar",n),t((0,u.jA)(a,d,s.id))})),children:[(0,c.jsxs)("div",{className:"row gx-3",children:[(0,c.jsx)("div",{className:"col-sm-6 col-md-6",children:(0,c.jsx)(g.A,{name:"name",placeholder:"Enter your Full Name",label:"Name",control:o,rules:{required:{value:!0,message:"Field required!"}},errors:h})}),(0,c.jsx)("div",{className:"col-sm-6 col-md-6",children:(0,c.jsx)(g.A,{name:"username",placeholder:"Enter username",label:"Username",control:o,rules:{required:{value:!0,message:"Field required!"}},errors:h})})]}),(0,c.jsxs)("div",{className:"row gx-3",children:[(0,c.jsx)("div",{className:"col-sm-6",children:(0,c.jsx)(g.A,{name:"email",placeholder:"Enter your email identity",label:"Email Id",control:o,rules:{required:{value:!0,message:"Field required!"}},errors:h})}),(0,c.jsx)("div",{className:"col-sm-6",children:(0,c.jsx)(g.A,{name:"personal_phone",placeholder:"Enter your phone number",label:"Phone Number",control:o,rules:{required:{value:!0,message:"Field required!"}},errors:h})}),(0,c.jsx)("div",{className:"col-sm-6 mb-5",children:(0,c.jsx)(y.A,{name:"status",placeholder:"Select",label:"Status",mb:!0,options:[{label:"Active",value:"active"},{label:"Block",value:"blocked"}],control:o,errors:h})})]}),(0,c.jsxs)("div",{className:"modal-footer align-items-center",children:[(0,c.jsx)("button",{"data-bs-dismiss":"modal",type:"button",className:"btn btn-secondary",children:"Discard"}),(0,c.jsx)("input",{type:"submit",className:"btn btn-primary",value:"Submit"})]})]})})]})})})})},C=()=>(0,c.jsx)("ul",{className:"nav nav-tabs nav-line nav-icon nav-light",children:(0,c.jsx)("li",{className:"nav-item",children:(0,c.jsxs)("a",{className:"nav-link","data-bs-toggle":"tab",href:"#SUB_Accounts_tab",children:[(0,c.jsx)("span",{className:"nav-icon-wrap",children:(0,c.jsx)("span",{className:"feather-icon",children:(0,c.jsx)(i.qRB,{})})}),(0,c.jsx)("span",{className:"nav-link-text",children:"Sub Accounts"})]})})});var S=a(10802),D=a(41609),_=a(49482),E=a(93376);const A=e=>{let{activeBar:s,contactDetails:a,token:n,dispatch:t}=e;const{users:r,isLoading:o}=(0,d.d4)((e=>e.user)),[m,v]=(0,l.useState)([]),[j,b]=(0,l.useState)(!1),N=(0,E.Zp)();(0,l.useMemo)((()=>{t((0,S._3)(n))}),[n,t]),(0,l.useEffect)((()=>{if((null===r||void 0===r?void 0:r.length)>0){const e=null===r||void 0===r?void 0:r.filter((e=>p().toInteger(e.parent_id)===a.id));v(e)}}),[a,r]);return(0,c.jsx)("div",{className:"tab-content mt-7",style:{height:"700px",overflow:"scroll"},children:(0,c.jsxs)("div",{className:"tab-pane fade show ".concat("SUB_Accounts_tab"===s?"active":""),id:"SUB_Accounts_tab",style:{maxWidth:"800px",overflow:"scroll",maxHeight:"670px"},children:[(0,c.jsxs)("div",{children:[(0,c.jsx)("a",{className:"btn btn-icon btn-flush-dark flush-soft-hover dropdown-toggle no-caret active float-end","data-bs-toggle":"dropdown",children:(0,c.jsx)("span",{className:"icon",children:(0,c.jsx)("span",{className:"feather-icon",children:(0,c.jsx)(i.svy,{})})})}),(0,c.jsxs)("div",{className:"dropdown-menu dropdown-menu-end",children:[(0,c.jsxs)("a",{className:"dropdown-item ".concat("list"===s?"active":""),onClick:()=>b(!0),children:[(0,c.jsx)("span",{className:"feather-icon dropdown-icon",children:(0,c.jsx)(i.svy,{})}),(0,c.jsx)("span",{children:"List View"})]}),(0,c.jsxs)("a",{className:"dropdown-item ".concat("grid"===s?"active":""),onClick:()=>b(!1),children:[(0,c.jsx)("span",{className:"feather-icon dropdown-icon",children:(0,c.jsx)(i.tSG,{})}),(0,c.jsx)("span",{children:"Grid View"})]})]})]}),o?(0,c.jsx)("div",{className:"w-100",children:(0,c.jsx)(h.A,{})}):(0,c.jsx)(c.Fragment,{children:!0===j?(0,c.jsxs)("table",{class:"table table-striped",children:[(0,c.jsx)("thead",{class:"table-primary",children:(0,c.jsxs)("tr",{className:" rounded",children:[(0,c.jsx)("th",{children:"Name "}),(0,c.jsx)("th",{children:"Email"}),(0,c.jsx)("th",{children:"Username"}),(0,c.jsx)("th",{children:"Status"}),(0,c.jsx)("th",{children:"Date Created"})]})}),(0,c.jsx)("tbody",{children:(0,c.jsx)(c.Fragment,{children:(null===m||void 0===m?void 0:m.length)>0&&(null===m||void 0===m?void 0:m.map(((e,s)=>(0,c.jsxs)("tr",{children:[(0,c.jsx)("td",{children:null===e||void 0===e?void 0:e.name}),(0,c.jsx)("td",{children:null===e||void 0===e?void 0:e.email}),(0,c.jsx)("td",{children:null===e||void 0===e?void 0:e.username}),(0,c.jsx)("td",{children:null===e||void 0===e?void 0:e.status}),(0,c.jsxs)("td",{children:[x()(null===e||void 0===e?void 0:e.created_at).format("DD, MMM, YYYY")," "]})]},s))))})})]}):(0,c.jsx)("div",{children:(0,c.jsx)("div",{className:"row gx-3 row-cols-xxl-2 row-cols-xl-2 row-cols-lg-2 row-cols-md-1 row-cols-1 mb-5",children:(null===m||void 0===m?void 0:m.length)>0&&(null===m||void 0===m?void 0:m.map(((e,s)=>(0,c.jsx)("div",{children:(0,c.jsxs)("div",{className:"card card-border contact-card",children:[(0,c.jsxs)("div",{className:"card-header bg-primary",style:{color:"white"},children:[null===e||void 0===e?void 0:e.name,(0,c.jsx)("span",{className:"badge badge-sm rounded fw-bold ".concat("active"===(null===e||void 0===e?void 0:e.status)?"badge-success":"badge-danger"),children:null===e||void 0===e?void 0:e.status}),(0,c.jsxs)("div",{className:"card-action-wrap",children:[(0,c.jsx)("a",{className:"btn btn-icon btn-flush-dark btn-rounded flush-soft-hover",href:"#","aria-expanded":"false","data-bs-toggle":"dropdown",children:(0,c.jsx)("span",{className:"btn-icon-wrap",children:(0,c.jsx)("span",{className:"feather-icon",children:(0,c.jsx)(D.txp,{color:"white"})})})}),(0,c.jsxs)("div",{className:"dropdown-menu  dropdown-menu-end",role:"menu",children:[(0,c.jsxs)("a",{className:"dropdown-item",href:"javascript:void(0)",role:"menuitem",onClick:()=>{return s=e,t((0,_.Lx)(null===s||void 0===s?void 0:s.username,null===s||void 0===s?void 0:s.password,!0)),void N("/");var s},children:[(0,c.jsx)("span",{className:"me-2",children:(0,c.jsx)(i.BAG,{})}),"Login"]}),(0,c.jsxs)("a",{className:"dropdown-item",role:"menuitem",onClick:()=>{return s=e.id,void t((0,u.R0)(n,s));var s},children:[(0,c.jsx)("span",{className:"me-2",children:(0,c.jsx)(i.qbC,{})}),"Block User"]})]})]})]}),(0,c.jsxs)("div",{className:"card-body text-center",children:[(0,c.jsx)("div",{className:"avatar avatar-xl avatar-rounded",children:(0,c.jsx)("img",{src:(null===e||void 0===e?void 0:e.avatar)||"https://static.vecteezy.com/system/resources/previews/009/292/244/original/default-avatar-icon-of-social-media-user-vector.jpg",alt:"user",className:"avatar-img"})}),(0,c.jsx)("div",{className:"user-name",children:(0,c.jsx)("span",{className:"contact-star",children:(0,c.jsx)("span",{className:"feather-icon",children:(0,c.jsx)(i.wei,{})})})}),(0,c.jsxs)("div",{className:"d-flex justify-content-between py-1",children:[(0,c.jsx)("div",{className:"fw-bold fs-6",children:"Name"}),(0,c.jsx)("div",{children:null===e||void 0===e?void 0:e.name})]}),(0,c.jsxs)("div",{className:"d-flex justify-content-between py-1",children:[(0,c.jsx)("div",{className:"fw-bold fs-6",children:"Email"}),(0,c.jsx)("div",{children:null===e||void 0===e?void 0:e.email})]}),(0,c.jsxs)("div",{className:"d-flex justify-content-between py-1",children:[(0,c.jsx)("div",{className:"fw-bold fs-6",children:"Phone Number"}),(0,c.jsx)("div",{children:null===e||void 0===e?void 0:e.personal_phone})]}),(0,c.jsxs)("div",{className:"d-flex justify-content-between py-1",children:[(0,c.jsx)("div",{className:"fw-bold fs-6",children:"Date Joined"}),(0,c.jsx)("div",{children:x()(null===e||void 0===e?void 0:e.created_at).format("DD, MMM YYYY")})]})]})]})},s))))})})})]})})},U=e=>{var s,a,n,d;let{contactDetails:t,dispatch:r,token:o,authUser:m}=e;const[h,v]=(0,l.useState)("SMS_tab");return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsxs)("div",{className:"contactapp-detail-wrap",children:[(0,c.jsxs)("header",{className:"contact-header",children:[(0,c.jsx)("div",{className:"d-flex align-items-center",children:(0,c.jsx)("nav",{"aria-label":"breadcrumb",children:(0,c.jsxs)("ol",{className:"breadcrumb  mb-0",children:[(0,c.jsx)("li",{className:"breadcrumb-item",children:(0,c.jsx)("a",{href:"contact.html",children:"Client Detail"})}),(0,c.jsx)("li",{className:"breadcrumb-item active","aria-current":"page",children:null===t||void 0===t?void 0:t.name})]})})}),(0,c.jsx)("div",{className:"hk-sidebar-togglable"})]}),(0,c.jsx)("div",{className:"contact-body contact-detail-body",children:(0,c.jsx)("div",{className:"nicescroll-bar",children:(0,c.jsxs)("div",{className:"d-flex flex-xxl-nowrap flex-wrap",children:[(0,c.jsxs)("div",{className:"contact-info w-xxl-30 w-100",style:{maxHeight:"1000px",overflow:"scroll"},children:[(0,c.jsxs)("div",{className:"text-center mt-5",children:[(0,c.jsx)("div",{className:"dropify-circle edit-img",children:(0,c.jsx)("img",{src:(null===t||void 0===t?void 0:t.avatar)||"https://static.vecteezy.com/system/resources/previews/009/292/244/original/default-avatar-icon-of-social-media-user-vector.jpg",alt:null===t||void 0===t?void 0:t.name,className:"dropify-1 rounded-circle",width:100})}),(0,c.jsx)("div",{className:"cp-name text-truncate mt-3",children:null===t||void 0===t?void 0:t.name}),(0,c.jsx)("p",{children:"No phone calls Always busy"}),(0,c.jsx)("div",{className:"rating rating-yellow my-rating-4","data-rating":"3"})]}),(0,c.jsxs)("div",{className:"card",children:[(0,c.jsxs)("div",{className:"card-header",children:[(0,c.jsx)("a",{href:"/",children:"Profile Information"}),(0,c.jsx)("button",{className:"btn btn-xs btn-icon btn-rounded btn-light","data-bs-toggle":"tooltip","data-bs-placement":"top",title:"","data-bs-original-title":"Edit",children:(0,c.jsx)("span",{className:"icon","data-bs-toggle":"modal","data-bs-target":"#editInfo",children:(0,c.jsx)("span",{className:"feather-icon",children:(0,c.jsx)(i.uO9,{})})})})]}),(0,c.jsx)("div",{className:"card-body",children:(0,c.jsxs)("ul",{className:"cp-info",children:[(0,c.jsxs)("li",{children:[(0,c.jsx)("span",{children:"Full Name"}),(0,c.jsx)("span",{children:null===t||void 0===t?void 0:t.name})]}),(0,c.jsxs)("li",{children:[(0,c.jsx)("span",{children:"Username"}),(0,c.jsx)("span",{children:null===t||void 0===t?void 0:t.username})]}),(0,c.jsxs)("li",{children:[(0,c.jsx)("span",{children:"Email"}),(0,c.jsxs)("span",{children:[null===t||void 0===t||null===(s=t.email)||void 0===s?void 0:s.slice(0,15),(null===t||void 0===t||null===(a=t.email)||void 0===a?void 0:a.length)>15?"...":""]})]}),(0,c.jsxs)("li",{children:[(0,c.jsx)("span",{children:"Phone"}),(0,c.jsx)("span",{children:null===t||void 0===t?void 0:t.personal_phone})]}),(0,c.jsxs)("li",{children:[(0,c.jsx)("span",{children:"Location"}),(0,c.jsxs)("span",{children:[null===t||void 0===t||null===(n=t.location)||void 0===n?void 0:n.slice(0,18),(null===t||void 0===t||null===(d=t.location)||void 0===d?void 0:d.length)>18?"...":""]})]})]})})]}),(0,c.jsx)("div",{className:"separator-full"})]}),(0,c.jsxs)("div",{className:"contact-more-info",children:[(0,c.jsx)(C,{contactDetails:t,onDataFromChild:e=>{v(e)},activeBar:h}),(0,c.jsx)(A,{contactDetails:t,activeBar:h,authUser:m,dispatch:r,token:o})]})]})})})]}),(0,c.jsx)(k,{contact:t})]})},F=e=>{let{contactsData:s,token:a,dispatch:n,onToggleEdit:d}=e;const r=(0,E.Zp)(),{handleToggleShowUserDetail:o}=(0,l.useContext)(t.d);return(0,c.jsx)("div",{className:"contact-card-view",style:{height:"700px",overflow:"scroll"},children:(0,c.jsx)("div",{className:"row w-100 overflow-scroll h-100",style:{maxWidth:"1200px"},children:(null===s||void 0===s?void 0:s.length)>0&&(null===s||void 0===s?void 0:s.map(((e,s)=>{var l,d;return(0,c.jsx)("div",{className:"col-md-4 col-sm-6",children:(0,c.jsxs)("div",{className:"card card-border contact-card",children:[(0,c.jsxs)("div",{className:"card-header bg-primary",style:{color:"white"},children:[null===e||void 0===e?void 0:e.name,(0,c.jsx)("span",{className:"badge badge-sm rounded fw-bold ".concat("active"===(null===e||void 0===e?void 0:e.status)?"badge-success":"badge-danger"),children:null===e||void 0===e?void 0:e.status}),(0,c.jsxs)("div",{className:"card-action-wrap",children:[(0,c.jsx)("a",{className:"btn btn-icon btn-flush-dark btn-rounded flush-soft-hover",href:"#","aria-expanded":"false","data-bs-toggle":"dropdown",children:(0,c.jsx)("span",{className:"btn-icon-wrap",children:(0,c.jsx)("span",{className:"feather-icon",children:(0,c.jsx)(D.txp,{color:"white"})})})}),(0,c.jsxs)("div",{className:"dropdown-menu  dropdown-menu-end",role:"menu",children:[(0,c.jsxs)("a",{className:"dropdown-item",href:"javascript:void(0)",role:"menuitem",onClick:()=>{return s=e,n((0,_.Lx)(null===s||void 0===s?void 0:s.email,null===s||void 0===s?void 0:s.password,!0)),void r("/");var s},children:[(0,c.jsx)("span",{className:"me-2",children:(0,c.jsx)(i.BAG,{})}),"Login"]}),(0,c.jsxs)("a",{className:"dropdown-item",href:"javascript:void(0)",role:"menuitem",onClick:()=>{return s=e.id,void o(!0,s,a);var s},children:[(0,c.jsx)("span",{className:"me-2",children:(0,c.jsx)(i.uO9,{})}),"View Detial"]}),(0,c.jsxs)("a",{className:"dropdown-item",href:"javascript:void(0)",role:"menuitem",onClick:()=>{return s=e.id,void n((0,u.R0)(a,s));var s},children:[(0,c.jsx)("span",{className:"me-2",children:(0,c.jsx)(i.qbC,{})}),"Block User"]})]})]})]}),(0,c.jsxs)("div",{className:"card-body text-center",children:[(0,c.jsx)("div",{className:"avatar avatar-xl avatar-rounded",children:(0,c.jsx)("img",{src:(null===e||void 0===e?void 0:e.avatar)||"https://static.vecteezy.com/system/resources/previews/009/292/244/original/default-avatar-icon-of-social-media-user-vector.jpg",alt:"user",className:"avatar-img"})}),(0,c.jsx)("div",{className:"user-name",children:(0,c.jsx)("span",{className:"contact-star",children:(0,c.jsx)("span",{className:"feather-icon",children:(0,c.jsx)(i.wei,{})})})}),(0,c.jsxs)("div",{className:"d-flex justify-content-between py-1",children:[(0,c.jsx)("div",{className:"fw-bold fs-6",children:"Name"}),(0,c.jsx)("div",{children:null===e||void 0===e?void 0:e.name})]}),(0,c.jsxs)("div",{className:"d-flex justify-content-between py-1",children:[(0,c.jsx)("div",{className:"fw-bold fs-6",children:"Email"}),(0,c.jsx)("div",{children:null===e||void 0===e?void 0:e.email})]}),(0,c.jsxs)("div",{className:"d-flex justify-content-between py-1",children:[(0,c.jsx)("div",{className:"fw-bold fs-6",children:"Phone"}),(0,c.jsx)("div",{children:null===e||void 0===e?void 0:e.phone})]}),(0,c.jsxs)("div",{className:"d-flex justify-content-between py-1",children:[(0,c.jsx)("div",{className:"fw-bold fs-6",children:"Company Name"}),(0,c.jsx)("div",{children:"Desktop"})]}),(0,c.jsxs)("div",{className:"d-flex justify-content-between py-1",children:[(0,c.jsx)("div",{className:"fw-bold fs-6",children:"Date Joined"}),(0,c.jsx)("div",{children:x()(null===e||void 0===e?void 0:e.created_at).format("DD, MMM YYYY")})]}),(0,c.jsxs)("div",{className:"d-flex justify-content-between py-1",children:[(0,c.jsx)("div",{className:"fw-bold fs-6",children:"Tags"}),(0,c.jsx)("div",{className:"w-75 gap-1 d-flex flex-wrap justify-content-end",children:(null===e||void 0===e||null===(l=e.tags)||void 0===l?void 0:l.length)>0&&(null===e||void 0===e||null===(d=e.tags)||void 0===d?void 0:d.map(((e,s)=>(0,c.jsxs)("span",{className:"badge badge-primary ",children:[" ",e.name]}))))})]})]})]})},s)})))})})};a(6732);const q=()=>{const{handleToggleShowLeadDetail:e,showUserDetails:s}=(0,l.useContext)(t.d),a=(0,d.wA)(),{token:n,user:i}=(0,d.d4)((e=>e.auth)),[m,h]=(0,l.useState)([]),[v,x]=(0,l.useState)([]),[j,p]=(0,l.useState)(!1),[N,g]=(0,l.useState)("list"),{users:w,userDetails:y}=(0,d.d4)((e=>e.user));(0,l.useEffect)((()=>{a((0,u.lo)(n))}),[n,a]),(0,l.useEffect)((()=>{if((null===w||void 0===w?void 0:w.length)>0){const e=null===w||void 0===w?void 0:w.filter((e=>"active"===e.status&&"USER"===e.role&&null===e.parent_id&&null===e.client_id)),s=null===w||void 0===w?void 0:w.filter((e=>"USER"===e.role&&null===e.parent_id&&null===e.client_id));h(e),x(s)}}),[w,i]);const k=e=>{};return(0,c.jsx)("div",{className:"hk-pg-wrapper pb-0",children:(0,c.jsx)("div",{className:"hk-pg-body py-0",children:(0,c.jsx)("div",{className:"contactapp-wrap",children:(0,c.jsxs)("div",{className:"contactapp-content",children:[(0,c.jsx)(r,{onSendData:e=>{h(e)},contactsData:v,onToggleEdit:k}),s&&(0,c.jsx)(U,{isEdit:j,contactDetails:y,dispatch:a,token:n,authUser:i}),!s&&(0,c.jsxs)("div",{className:"contactapp-detail-wrap",children:[(0,c.jsx)(o,{onDataFromChild:e=>{g(e)},activeBar:N}),(0,c.jsx)("div",{className:"contact-body",children:(0,c.jsx)("div",{className:"nicescroll-bar",children:"list"===N?(0,c.jsx)(b,{allUsers:w,usersData:m,onToggleEdit:k,isEdit:j}):(0,c.jsx)(F,{contactsData:m,onToggleEdit:k,isEdit:j,dispatch:a,token:n})})})]}),(0,c.jsx)("div",{id:"add_new_contact",className:"modal fade add-new-contact",tabIndex:"-1",role:"dialog","aria-hidden":"true",children:(0,c.jsx)("div",{className:"modal-dialog modal-dialog-centered modal-lg",role:"document",children:(0,c.jsxs)("div",{className:"modal-content",children:[(0,c.jsxs)("div",{className:"modal-header bg-primary",children:[(0,c.jsx)("span",{style:{color:"white",fontWeight:"bold"},children:"Create New Client"}),(0,c.jsx)("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close",children:(0,c.jsx)("span",{"aria-hidden":"true",children:"\xd7"})})]}),(0,c.jsx)("div",{className:"modal-body",children:(0,c.jsx)(f,{})})]})})})]})})})})},B=()=>(0,c.jsx)(n.A,{component:(0,c.jsx)(q,{})})}}]);
//# sourceMappingURL=3999.b28f05dd.chunk.js.map