"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[8334],{64193:(e,a,s)=>{s.d(a,{Z:()=>v});var l=s(72791),i=s(59513),n=s.n(i),t=(s(68639),s(14070),s(61134)),r=s(763),d=s.n(r),c=s(72426),o=s.n(c),m=s(80184);const h=l.forwardRef(((e,a)=>{const[s,i]=(0,l.useState)(!1),{title:r,style:c,type:h,errors:v,defaultValue:x,isDisabled:u,dateTime:p=!0,customStyles:j,onChange:N,maxDate:b,isHighLight:f=!1,showYearPicker:g,showTime:y,showIcon:w,showTimeSelectOnly:D,label:k,..._}=e,{field:S,fieldState:C}=(0,t.bc)(e);let M=d().get(v,e.name);return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(t.Qr,{autoFocus:!1,name:null===e||void 0===e?void 0:e.name,control:null===e||void 0===e?void 0:e.control,rules:null===e||void 0===e?void 0:e.rules,defaultValue:x,render:s=>{let{field:l}=s;let t=new Date(null===l||void 0===l?void 0:l.value);return function(e){let a=new Date(e);return a instanceof Date&&!isNaN(a)}(null===l||void 0===l?void 0:l.value)||(t=""),(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)("label",{class:"form-label-group",children:k}),(0,m.jsx)(n(),{...l,ref:a,autoComplete:"off",autoFocus:!1,placeholderText:"Select Date",onChange:a=>{l.onChange(D?o()(a).format("HH:mm:ss"):o()(a).format("yyyy-MM-DD")),N&&N(a,null===e||void 0===e?void 0:e.name)},selected:t,onFocus:()=>i(!0),onBlur:()=>{i(!1)},dateFormat:g?"yyyy":"yyyy-MM-DD HH:mm:ss",className:"form-control text-lg  ".concat(u?"opacity-50":"","\n                                   ").concat(f&&" focus:bg-dark   "),placeholder:e.placeholder?e.placeholder:"",disabled:u,maxDate:null===e||void 0===e?void 0:e.maxDate,minDate:null===e||void 0===e?void 0:e.minDate,showTimeSelect:y,showIcon:w,showTimeSelectOnly:D,isClearable:!0,timeFormat:"HH:mm:ss",timeIntervals:15,showYearPicker:g||!1,..._})]})}}),e.rules&&M&&(0,m.jsx)("p",{className:" text-xs text-red-600 h-3",id:"email-error",children:e.rules&&M&&e.rules&&M.message})]})}));h.displayName="DatePickerFeild";const v=h},12972:(e,a,s)=>{s.d(a,{Z:()=>o});var l=s(72791),i=s(61134),n=s(763),t=s.n(n),r=s(61750),d=s(80184);const c=l.forwardRef(((e,a)=>{const{title:s,style:n,label:c,type:o,errors:m,defaultValue:h,onChange:v,onFocus:x,onBlur:u,menuPlacement:p,ellipses:j,value:N,...b}=e,{field:f,fieldState:g,formState:y}=(0,i.bc)(e),[w,D]=(0,l.useState)({});let k=t().get(m,e.name);const _=e=>{D(e),f.onChange(e.hex)};return(0,d.jsxs)("div",{className:"mb-5",children:[(0,d.jsx)(i.Qr,{name:null===e||void 0===e?void 0:e.name,rules:null===e||void 0===e?void 0:e.rules,control:null===e||void 0===e?void 0:e.control,defaultValue:h,render:a=>{let{field:{onChange:s}}=a;return(0,d.jsxs)(d.Fragment,{children:[c&&(0,d.jsx)("label",{for:null===e||void 0===e?void 0:e.name,class:"block mb-2 text-sm font-bold text-gray-900 dark:text-white",children:c}),(0,d.jsxs)("div",{className:"",children:[(0,d.jsx)(r.ZP,{initialValue:null!==f&&void 0!==f&&f.value?null===f||void 0===f?void 0:f.value:"",onChange:_,placement:"bottom",name:f.name,className:"position-absolute ",style:{height:"38px"}}),(0,d.jsx)("input",{className:"form-control",style:{paddingLeft:"70px"},type:"text",placeholder:" Color",name:f.name,value:w.hex})]})]})}}),e.rules&&k&&e.rules&&null!==k&&void 0!==k&&k.message?(0,d.jsx)("p",{className:" fs-6 p-1 text-danger",id:"email-error",children:e.rules&&k&&e.rules&&(null===k||void 0===k?void 0:k.message)}):""]})}));c.displayName="ReactColorInput";const o=c},31143:(e,a,s)=>{s.r(a),s.d(a,{default:()=>F});var l=s(72791),i=s(34855),n=s(90575),t=s(38217),r=s(52720),d=s(49704),c=s(74332),o=s(72426),m=s.n(o),h=s(91716),v=s(22316),x=s(80184);let u=0;(new Date).toISOString().replace(/T.*$/,"");function p(e){let{INITIAL_EVENTS:a,isLoading:s,onDataFromChild:i,dispatch:o,token:m}=e;const[p,j]=(0,l.useState)(!0),[N,b]=(0,l.useState)(a);function f(e){return console.log("\ud83d\ude80 ~ renderEventContent ~ eventInfo:",e.event.backgroundColor),(0,x.jsxs)("div",{className:"fc-event-title d-flex rounded-3 gap-2 p-1",style:{backgroundColor:e.event.backgroundColor,color:"black"},children:[e.timeText,(0,x.jsx)("br",{}),(0,x.jsx)("strong",{children:e.event.title})]})}return(0,x.jsx)("div",{className:"w-100",style:{height:"100vh",overflow:"scroll"},children:(0,x.jsx)("div",{className:"demo-app-main",children:s?(0,x.jsx)("div",{children:(0,x.jsx)(v.Z,{})}):(0,x.jsx)(n.Z,{plugins:[t.Z,r.Z,c.ZP,d.Z],headerToolbar:{left:"prev,next today",center:"title",right:"dayGridMonth,timeGridWeek,timeGridDay,listWeek"},initialView:"dayGridMonth",editable:!1,selectable:!1,selectMirror:!0,dayMaxEvents:!0,weekends:p,initialEvents:a,select:function(e){let a=prompt("Please enter a new title for your event"),s=e.view.calendar;s.unselect(),a&&s.addEvent({id:String(u++),title:a,start:e.startStr,end:e.endStr,allDay:e.allDay})},eventContent:f,eventClick:function(e){o((0,h.Lj)(m,e.event.id)),i("0px")},eventsSet:function(e){console.log("\ud83d\ude80 ~ handleEvents ~ events:",a),b(a),console.log("\ud83d\ude80 ~ handleEvents ~ events:",N)},renderEventContent:f})})})}var j=s(61134),N=s(45523),b=s(59110),f=s(64193),g=s(49923),y=s(12972),w=s(29750);const D=e=>{let{dispatch:a,token:s,authUser:i,onDataFromChild:n,usersData:t}=e;const{handleSubmit:r,watch:d,control:c,setValue:o,reset:m,formState:{errors:v}}=(0,j.cI)({}),[u,p]=(0,l.useState)(null),D=d("type"),{pushNotification:k}=(0,l.useContext)(w.J);return(0,l.useEffect)((()=>{void 0!==D&&p(null===D||void 0===D?void 0:D.value)}),[D]),(0,x.jsx)("div",{id:"create_new_event",className:"modal fade",tabindex:"-1",role:"dialog","aria-hidden":"true",children:(0,x.jsx)("div",{className:"modal-dialog modal-md modal-dialog-centered",role:"document",children:(0,x.jsxs)("div",{className:"modal-content",children:[(0,x.jsxs)("div",{className:"modal-header bg-primary",children:[(0,x.jsx)("h5",{className:" nodal-title text-white",children:"Create Event/Reminder"}),(0,x.jsx)("button",{type:"button",className:"btn-close btn-light","data-bs-dismiss":"modal","aria-label":"Close",children:(0,x.jsx)("span",{"aria-hidden":"true",children:"\xd7"})})]}),(0,x.jsx)("div",{className:"modal-body",children:(0,x.jsxs)("form",{onSubmit:r((async e=>{var l,n,t,r;const d={...e,type:null===e||void 0===e||null===(l=e.type)||void 0===l?void 0:l.value,priority:null===e||void 0===e||null===(n=e.priority)||void 0===n?void 0:n.value,visibility:null===e||void 0===e||null===(t=e.visibility)||void 0===t?void 0:t.value,user_id:null===i||void 0===i?void 0:i.id,user_image:null===i||void 0===i?void 0:i.avatar,user_name:null===i||void 0===i?void 0:i.name};if(!0===await a((0,h.yN)(s,d)))switch(null===e||void 0===e||null===(r=e.type)||void 0===r?void 0:r.value){case"event":const a=[];for(let n=0;n<(null===e||void 0===e?void 0:e.team_members.length);n++){const s=null===e||void 0===e?void 0:e.team_members[n];a.push(s.name);const l={user_id:s.id,notification:"You have been added in an event created by ".concat(i.name,"."),type:"reminder_added",notification_details:d,email_to:s.email};k(l)}const s={user_id:i.id,notification:"You added an event including members ".concat(a,"."),type:"reminder_added",notification_details:d,email_to:i.email};k(s);break;case"reminder":const l={user_id:i.id,notification:"You added a reminder.",type:"reminder_added",notification_details:d,email_to:i.email};k(l)}return m(),{}})),children:[(0,x.jsx)("div",{children:(0,x.jsx)(g.Z,{name:"type",placeholder:"Type ",control:c,rules:{required:{value:!0,message:"Field required!"}},options:[{label:"Event",value:"event"},{label:"Reminder",value:"reminder"}],errors:v})}),(0,x.jsx)("div",{className:"row gx-3",children:(0,x.jsx)(N.Z,{name:"name",placeholder:"Enter event name",control:c,rules:{required:{value:!0,message:"Field required!"}},errors:v})}),(0,x.jsx)("div",{className:"row gx-3",children:(0,x.jsx)(b.Z,{name:"description",placeholder:"Description/Note",rows:5,control:c,rules:{required:{value:!0,message:"Field required!"}},errors:v})}),(0,x.jsxs)("div",{className:"row gx-3 my-3",children:[(0,x.jsx)("div",{className:"col-sm-6",children:(0,x.jsx)(f.Z,{name:"start_date",placeholder:"Start date",control:c,showTimeSelect:!1,rules:{required:{value:!0,message:"Field required!"}},errors:v})}),(0,x.jsx)("div",{className:"col-sm-6",children:(0,x.jsx)(f.Z,{name:"start_time",placeholder:"Start time",control:c,showTimeSelect:!0,showTimeSelectOnly:!0,rules:{required:{value:!0,message:"Field required!"}},errors:v})})]}),"event"===u&&(0,x.jsxs)(x.Fragment,{children:[(0,x.jsxs)("div",{className:"row gx-3 my-3",children:[(0,x.jsx)("div",{className:"col-sm-6",children:(0,x.jsx)(f.Z,{name:"end_date",placeholder:"End date",control:c,showTimeSelect:!1,errors:v})}),(0,x.jsx)("div",{className:"col-sm-6",children:(0,x.jsx)(f.Z,{name:"end_time",placeholder:"End time",control:c,showTimeSelect:!0,showTimeSelectOnly:!0,errors:v})})]}),(0,x.jsx)("div",{className:"row gx-3",children:(0,x.jsx)(N.Z,{name:"location",type:"text",placeholder:"Location",control:c,errors:v})}),(0,x.jsxs)("div",{className:"row gx-3",children:[(0,x.jsx)(N.Z,{name:"category",placeholder:"Category",control:c,errors:v}),(0,x.jsx)("div",{className:"col-sm-7",children:(0,x.jsx)(g.Z,{name:"visibility",placeholder:"Select visibility",control:c,options:[{label:"Public",value:"public"},{label:"Private",value:"private"}],errors:v})}),(0,x.jsx)("div",{className:"col-sm-5",children:(0,x.jsx)(y.Z,{name:"event_color",control:c,errors:v})})]}),(0,x.jsx)("div",{className:"row",children:(0,x.jsx)(g.Z,{name:"team_members",placeholder:"Select members...",control:c,isMulti:!0,options:(null===t||void 0===t?void 0:t.length)>0?null===t||void 0===t?void 0:t.map(((e,a)=>({label:e.name,value:e.id,...e}))):[],errors:v})}),(0,x.jsx)("div",{className:"row gx-3",children:(0,x.jsx)("div",{className:"col-sm-12",children:(0,x.jsx)(g.Z,{name:"priority",placeholder:"Select priority",control:c,options:[{label:"High",value:"high"},{label:"Medium",value:"medium"},{label:"Low",value:"low"}],errors:v})})})]}),(0,x.jsxs)("div",{className:"modal-footer align-items-center",children:[(0,x.jsx)("button",{type:"button",className:"btn btn-secondary","data-bs-dismiss":"modal",children:"Discard"}),(0,x.jsx)("button",{id:"add_event",type:"submit",className:"btn btn-primary fc-addEventButton-button","data-bs-dismiss":"modal",children:"Add"})]})]})})]})})})};var k=s(94420),_=s(12202);const S=e=>{var a,s,l,i,n,t;let{rightValue:r,onDataFromChild:d,eventDetails:c}=e;return(0,x.jsxs)("div",{className:"hk-drawer calendar-drawer drawer-right",style:{right:r},children:[(0,x.jsxs)("div",{children:[(0,x.jsx)("div",{className:"drawer-header",children:(0,x.jsxs)("div",{className:"drawer-header-action",children:[(0,x.jsx)("a",{href:"/",id:"edit_event",className:"btn btn-sm btn-icon btn-flush-secondary btn-rounded flush-soft-hover",children:(0,x.jsx)("span",{className:"icon",children:(0,x.jsx)("span",{className:"feather-icon",children:(0,x.jsx)("i",{"data-feather":"edit-2"})})})}),(0,x.jsx)("a",{href:"/",id:"del_event",className:"btn btn-sm btn-icon btn-flush-secondary btn-rounded flush-soft-hover",children:(0,x.jsx)("span",{className:"icon",children:(0,x.jsx)("span",{className:"feather-icon",children:(0,x.jsx)("i",{"data-feather":"trash-2"})})})}),(0,x.jsx)("a",{href:"/",className:"btn btn-sm btn-icon btn-flush-secondary btn-rounded flush-soft-hover me-2",children:(0,x.jsx)("span",{className:"icon",children:(0,x.jsx)("span",{className:"feather-icon",children:(0,x.jsx)("i",{"data-feather":"external-link"})})})}),(0,x.jsx)("button",{type:"button",className:"drawer-close btn-close",onClick:()=>d("-370px"),children:(0,x.jsx)("span",{"aria-hidden":"true",children:"\xd7"})})]})}),(0,x.jsx)("div",{className:"drawer-body",children:(0,x.jsx)("div",{"data-simplebar":!0,className:"nicescroll-bar",children:(0,x.jsxs)("div",{className:"drawer-content-wrap",children:[(0,x.jsxs)("div",{className:"event-head mb-4",children:[(0,x.jsx)("span",{className:"badge  badge-indicator badge-indicator-xl flex-shrink-0 me-2",style:{backgroundColor:null===c||void 0===c?void 0:c.event_color}}),(0,x.jsxs)("div",{children:[(0,x.jsx)("div",{className:"event-name",children:null===c||void 0===c?void 0:c.name}),(0,x.jsx)("span",{children:"Event"})]})]}),(0,x.jsxs)("ul",{className:"event-detail",children:[(0,x.jsxs)("li",{children:[(0,x.jsx)("span",{className:"ev-icon-wrap",children:(0,x.jsx)("span",{className:"feather-icon",children:(0,x.jsx)(_.XdU,{})})}),m()(null===c||void 0===c?void 0:c.start_date).format("DD MMM YYYY")," -"," ",m()(null===c||void 0===c?void 0:c.end_date).format("DD MMM YYYY")]}),(0,x.jsxs)("li",{children:[(0,x.jsx)("span",{className:"ev-icon-wrap",children:(0,x.jsx)("span",{className:"feather-icon",children:(0,x.jsx)(_.qyc,{})})}),m()(m()(null===c||void 0===c?void 0:c.start_date).format("YYYY-MM-DD")+"T"+(null===c||void 0===c?void 0:c.start_time)).format("HH:MM a")," ","-",m()(m()(null===c||void 0===c?void 0:c.end_date).format("YYYY-MM-DD")+"T"+(null===c||void 0===c?void 0:c.end_time)).format("HH:MM a")]}),(0,x.jsxs)("li",{children:[(0,x.jsx)("span",{className:"ev-icon-wrap",children:(0,x.jsx)("span",{className:"feather-icon",children:(0,x.jsx)(_.DA2,{})})}),null===c||void 0===c?void 0:c.location]}),(0,x.jsxs)("li",{children:[(0,x.jsx)("span",{className:"ev-icon-wrap",children:(0,x.jsx)("span",{className:"feather-icon",children:(0,x.jsx)(_.xik,{})})}),null===c||void 0===c?void 0:c.category]}),(0,x.jsxs)("li",{children:[(0,x.jsx)("span",{className:"ev-icon-wrap",children:(0,x.jsx)("span",{className:"feather-icon",children:(0,x.jsx)(_.dSq,{})})}),null===c||void 0===c?void 0:c.visibility]}),(0,x.jsxs)("li",{children:[(0,x.jsx)("span",{className:"ev-icon-wrap",children:(0,x.jsx)("span",{className:"feather-icon",children:(0,x.jsx)(_.I$,{})})}),(0,x.jsxs)("div",{className:"avatar-group avatar-group-sm avatar-group-overlapped me-3",children:[(null===c||void 0===c?void 0:c.team_members)&&(null===c||void 0===c||null===(a=c.team_members)||void 0===a||null===(s=a.members)||void 0===s?void 0:s.map(((e,a)=>(0,x.jsx)("div",{className:"avatar avatar-rounded","data-bs-toggle":"tooltip","data-bs-placement":"top",title:"","data-bs-original-title":"Katharine",children:(0,x.jsx)("img",{src:e.avatar,alt:"user",className:"avatar-img"})})))),(null===c||void 0===c||null===(l=c.team_members)||void 0===l||null===(i=l.members)||void 0===i?void 0:i.length)>3&&(0,x.jsx)("div",{className:"avatar avatar-soft-danger avatar-rounded","data-bs-toggle":"tooltip","data-bs-placement":"top",title:"","data-bs-original-title":"Tooltip text",children:(0,x.jsxs)("span",{className:"initial-wrap",children:[(null===c||void 0===c||null===(n=c.team_members)||void 0===n||null===(t=n.memebers)||void 0===t?void 0:t.length)-3,"+"]})})]})]}),(0,x.jsxs)("li",{children:[(0,x.jsx)("span",{className:"ev-icon-wrap",children:(0,x.jsx)("span",{className:"feather-icon",children:(0,x.jsx)(_.$3V,{})})}),null===c||void 0===c?void 0:c.description]})]})]})})})]}),(0,x.jsxs)("div",{className:"d-none",children:[(0,x.jsx)("div",{className:"drawer-header",children:(0,x.jsxs)("div",{className:"drawer-header-action",children:[(0,x.jsx)("a",{href:"/",className:"btn btn-sm btn-icon btn-flush-secondary btn-rounded flush-soft-hover me-2",children:(0,x.jsx)("span",{className:"icon",children:(0,x.jsx)("span",{className:"feather-icon",children:(0,x.jsx)("i",{"data-feather":"external-link"})})})}),(0,x.jsx)("button",{type:"button",className:"drawer-edit-close btn-close",children:(0,x.jsx)("span",{"aria-hidden":"true",children:"\xd7"})})]})}),(0,x.jsx)("div",{className:"drawer-body",children:(0,x.jsx)("div",{"data-simplebar":!0,className:"nicescroll-bar",children:(0,x.jsxs)("div",{className:"drawer-content-wrap",children:[(0,x.jsxs)("div",{className:"event-head mb-4",children:[(0,x.jsx)("span",{className:"badge badge-violet badge-indicator badge-indicator-xl flex-shrink-0 me-2"}),(0,x.jsxs)("div",{children:[(0,x.jsx)("div",{className:"event-name",contenteditable:"true",children:"Jampack Team Meet"}),(0,x.jsxs)("div",{className:"form-group mt-2 mb-0",children:[(0,x.jsx)("div",{className:"form-check form-check-inline ps-0",children:(0,x.jsxs)("div",{className:"form-check",children:[(0,x.jsx)("input",{type:"radio",id:"event_1",name:"eventSelect",className:"form-check-input",checked:""}),(0,x.jsx)("label",{className:"form-check-label",for:"event_1",children:"Event"})]})}),(0,x.jsx)("div",{className:"form-check form-check-inline ps-0",children:(0,x.jsxs)("div",{className:"form-check",children:[(0,x.jsx)("input",{type:"radio",id:"reminder_1",name:"eventSelect",className:"form-check-input"}),(0,x.jsx)("label",{className:"form-check-label",for:"reminder_1",children:"Reminder"})]})})]})]})]}),(0,x.jsxs)("form",{children:[(0,x.jsx)("div",{className:"form-group",children:(0,x.jsx)("div",{className:"input-group",children:(0,x.jsxs)("span",{className:"input-affix-wrapper",children:[(0,x.jsx)("span",{className:"input-prefix",children:(0,x.jsx)("span",{className:"feather-icon",children:(0,x.jsx)("i",{"data-feather":"calendar"})})}),(0,x.jsx)("input",{className:"form-control form-wth-icon",name:"datetimes",value:"Aug 18,2020 - Aug 19, 2020"})]})})}),(0,x.jsx)("div",{className:"form-group",children:(0,x.jsx)("div",{className:"input-group",children:(0,x.jsxs)("span",{className:"input-affix-wrapper",children:[(0,x.jsx)("span",{className:"input-prefix",children:(0,x.jsx)("span",{className:"feather-icon",children:(0,x.jsx)("i",{"data-feather":"clock"})})}),(0,x.jsx)("input",{type:"text",className:"form-control form-wth-icon input-timepicker",value:"8:40 AM - 5:40 PM"})]})})}),(0,x.jsx)("div",{className:"form-group",children:(0,x.jsx)("div",{className:"input-group",children:(0,x.jsxs)("span",{className:"input-affix-wrapper",children:[(0,x.jsx)("span",{className:"input-prefix",children:(0,x.jsx)("span",{className:"feather-icon",children:(0,x.jsx)("i",{"data-feather":"map-pin"})})}),(0,x.jsx)("input",{type:"text",className:"form-control form-wth-icon",value:"Oslo, Canada"})]})})}),(0,x.jsx)("div",{className:"form-group",children:(0,x.jsx)("div",{className:"input-group",children:(0,x.jsxs)("span",{className:"input-affix-wrapper",children:[(0,x.jsx)("span",{className:"input-prefix",children:(0,x.jsx)("span",{className:"feather-icon",children:(0,x.jsx)("i",{"data-feather":"check-square"})})}),(0,x.jsxs)("select",{className:"form-select",children:[(0,x.jsx)("option",{selected:"",value:"1",children:"All Time"}),(0,x.jsx)("option",{value:"2",children:"Half Day"}),(0,x.jsx)("option",{value:"3",children:"9 to 5"})]})]})})}),(0,x.jsx)("div",{className:"form-group",children:(0,x.jsx)("div",{className:"input-group",children:(0,x.jsxs)("span",{className:"input-affix-wrapper",children:[(0,x.jsx)("span",{className:"input-prefix",children:(0,x.jsx)("span",{className:"feather-icon",children:(0,x.jsx)("i",{"data-feather":"eye"})})}),(0,x.jsxs)("select",{className:"form-select",children:[(0,x.jsx)("option",{selected:"",children:"Default Visibility"}),(0,x.jsx)("option",{value:"1",children:"Private"}),(0,x.jsx)("option",{value:"2",children:"Public"})]})]})})}),(0,x.jsx)("div",{className:"form-group",children:(0,x.jsxs)("div",{className:"input-group color-picker",children:[(0,x.jsx)("span",{className:"input-group-text colorpicker-input-addon",children:(0,x.jsx)("i",{})}),(0,x.jsx)("input",{type:"text",className:"form-control",value:"#007D88"})]})}),(0,x.jsx)("div",{className:"form-group",children:(0,x.jsxs)("div",{className:"d-flex flex-wrap",children:[(0,x.jsx)("div",{className:"chip chip-primary chip-dismissable user-chip mb-2 me-2",children:(0,x.jsxs)("span",{children:[(0,x.jsx)("span",{className:"avatar",children:(0,x.jsx)("img",{src:"dist/img/avatar11.jpg",alt:"user",className:"avatar-img"})}),(0,x.jsx)("span",{className:"chip-text",children:"Morgan"}),(0,x.jsx)("button",{type:"button",className:"btn-close"})]})}),(0,x.jsx)("div",{className:"chip chip-primary chip-dismissable user-chip mb-2 me-2",children:(0,x.jsxs)("span",{children:[(0,x.jsx)("span",{className:"avatar",children:(0,x.jsx)("img",{src:"dist/img/avatar12.jpg",alt:"user",className:"avatar-img"})}),(0,x.jsx)("span",{className:"chip-text",children:"Charlie"}),(0,x.jsx)("button",{type:"button",className:"btn-close"})]})}),(0,x.jsx)("div",{className:"chip chip-primary chip-dismissable user-chip mb-2 me-2",children:(0,x.jsxs)("span",{children:[(0,x.jsx)("span",{className:"avatar",children:(0,x.jsx)("img",{src:"dist/img/avatar13.jpg",alt:"user",className:"avatar-img"})}),(0,x.jsx)("span",{className:"chip-text",children:"Winston"}),(0,x.jsx)("button",{type:"button",className:"btn-close"})]})}),(0,x.jsx)("input",{type:"text",className:"form-control border-0 p-0 shadow-none flex-1 mb-2 me-2"})]})}),(0,x.jsx)("div",{className:"form-group",children:(0,x.jsx)("textarea",{className:"form-control",rows:"4",children:"Annual meeting with global branch teams & bosses about growth planning and fiscal year reports"})})]})]})})}),(0,x.jsxs)("div",{className:"drawer-footer d-flex justify-content-end",children:[(0,x.jsx)("button",{className:"btn btn-secondary drawer-edit-close me-2",children:"discard"}),(0,x.jsx)("button",{className:"btn btn-primary drawer-edit-close",children:"save"})]})]})]})};var C=s(98911);s(830);const M=e=>{let{upcomingData:a,eventsData:s,isLoading:l,INITIAL_EVENTS:i,onDataFromChild:n,token:t,dispatch:r}=e;return(0,x.jsxs)("nav",{className:"calendarapp-sidebar",children:[(0,x.jsx)("div",{"data-simplebar":!0,className:"nicescroll-bar",children:(0,x.jsxs)("div",{className:"menu-content-wrap",children:[(0,x.jsxs)("button",{className:"btn btn-primary btn-rounded btn-block  ","data-bs-toggle":"modal","data-bs-target":"#create_new_event",children:[(0,x.jsx)(_.XdU,{className:"mx-1"}),"Create"]}),(0,x.jsx)("div",{className:"text-center mt-4",children:(0,x.jsx)("div",{id:"inline_calendar",className:"d-inline-block",children:(0,x.jsx)("input",{className:"form-control invisible position-absolute",type:"text",name:"calendar",value:""})})}),(0,x.jsx)("div",{className:"separator separator-light"}),(0,x.jsx)("div",{className:"title-sm text-primary",children:"Upcoming Events"}),(0,x.jsx)("div",{className:"upcoming-event-wrap",children:(0,x.jsx)("ul",{className:"nav nav-light navbar-nav flex-column",children:(null===a||void 0===a?void 0:a.length)>0&&(null===a||void 0===a?void 0:a.map(((e,a)=>(0,x.jsx)("li",{className:"nav-item",children:(0,x.jsxs)("a",{className:"nav-link",children:[(0,x.jsxs)("div",{className:"d-flex align-items-center",children:[(0,x.jsx)("span",{className:"badge badge-violet badge-indicator badge-indicator-lg me-2"}),(0,x.jsxs)("span",{className:"event-time",children:[m()(null===e||void 0===e?void 0:e.start_date).format("DD MMM,"),","," ",null===e||void 0===e?void 0:e.start_time," onwards"]})]}),(0,x.jsx)("div",{className:"event-name",children:e.name})]})}))))})}),(0,x.jsx)("div",{className:"separator separator-light"})]})}),(0,x.jsx)("div",{className:"calendarapp-fixednav",children:(0,x.jsx)("div",{className:"hk-toolbar",children:(0,x.jsxs)("ul",{className:"nav nav-light",children:[(0,x.jsx)("li",{className:"nav-item nav-link",children:(0,x.jsx)("a",{className:"btn btn-icon btn-flush-dark btn-rounded flush-soft-hover","data-bs-toggle":"tooltip","data-bs-placement":"top",title:"","data-bs-original-title":"Settings",href:"/",children:(0,x.jsx)("span",{className:"icon",children:(0,x.jsx)("span",{className:"feather-icon",children:(0,x.jsx)("i",{"data-feather":"settings"})})})})}),(0,x.jsx)("li",{className:"nav-item nav-link",children:(0,x.jsx)("a",{href:"/",className:"btn btn-icon btn-rounded btn-flush-dark flush-soft-hover","data-bs-toggle":"tooltip","data-bs-placement":"top",title:"","data-bs-original-title":"Archive",children:(0,x.jsx)("span",{className:"icon",children:(0,x.jsx)("span",{className:"feather-icon",children:(0,x.jsx)("i",{"data-feather":"archive"})})})})}),(0,x.jsx)("li",{className:"nav-item nav-link",children:(0,x.jsx)("a",{href:"/",className:"btn btn-icon btn-rounded btn-flush-dark flush-soft-hover","data-bs-toggle":"tooltip","data-bs-placement":"top",title:"","data-bs-original-title":"Help",children:(0,x.jsx)("span",{className:"icon",children:(0,x.jsx)("span",{className:"feather-icon",children:(0,x.jsx)("i",{"data-feather":"book"})})})})})]})})})]})};var T=s(763),Y=s.n(T);const E=()=>{const e=(0,k.I0)(),[a,s]=(0,l.useState)([]),[i,n]=(0,l.useState)([]),[t,r]=(0,l.useState)("-370px"),{token:d,user:c}=(0,k.v9)((e=>e.auth)),{users:o}=(0,k.v9)((e=>e.user)),{events:v,isLoading:u,eventDetails:j}=(0,k.v9)((e=>e.calendar_event)),[N,b]=(0,l.useState)([]);(0,l.useEffect)((()=>{e((0,h.uY)(d)),e((0,C.Rf)(d))}),[d,e]),(0,l.useMemo)((()=>{const e=[];(null===v||void 0===v?void 0:v.length)>0&&(null===v||void 0===v||v.map(((a,s)=>{e.push({id:a.id,title:null===a||void 0===a?void 0:a.name,backgroundColor:a.event_color,start:m()(null===a||void 0===a?void 0:a.start_date).format("YYYY-MM-DD")+"T"+(null===a||void 0===a?void 0:a.start_time),end:m()(null===a||void 0===a?void 0:a.end_date).format("YYYY-MM-DD")+"T"+(null===a||void 0===a?void 0:a.end_time)})})));const a=new Date,l=a.getDay(),i=new Date(a);i.setDate(i.getDate()-l);const t=new Date(a);t.setDate(t.getDate()+(6-l));const r=v.filter((e=>{const a=new Date(e.created_at);return a>=i&&a<=t}));n(r),s(e)}),[v]);const f=e=>{r(e)};return(0,l.useEffect)((()=>{if((null===o||void 0===o?void 0:o.length)>0){const e=null===o||void 0===o?void 0:o.filter((e=>Y().toInteger(e.parent_id)===c.id||Y().toInteger(e.client_id)===c.id));b(e)}}),[o,c]),(0,x.jsxs)("div",{children:[(0,x.jsx)(S,{rightValue:t,onDataFromChild:f,eventDetails:j}),(0,x.jsx)("div",{className:"hk-pg-wrapper pb-0",children:(0,x.jsx)("div",{className:"hk-pg-body py-0",children:(0,x.jsxs)("div",{className:"calendarapp-wrap",children:[(0,x.jsx)(M,{upcomingData:i,eventsData:a,INITIAL_EVENTS:a,isLoading:u,onDataFromChild:f,token:d,dispatch:e}),(0,x.jsx)("div",{className:"calendarapp-content",children:(null===a||void 0===a?void 0:a.length)>0&&(0,x.jsx)(p,{INITIAL_EVENTS:a,isLoading:u,onDataFromChild:f,token:d,dispatch:e})}),(0,x.jsx)(D,{dispatch:e,token:d,authUser:c,onDataFromChild:()=>{s([])},usersData:N}),(0,x.jsx)("div",{id:"set_new_reminder",className:"modal fade",tabindex:"-1",role:"dialog","aria-hidden":"true",children:(0,x.jsx)("div",{className:"modal-dialog modal-dialog-centered",role:"document",children:(0,x.jsxs)("div",{className:"modal-content",children:[(0,x.jsxs)("div",{className:"modal-body",children:[(0,x.jsx)("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close",children:(0,x.jsx)("span",{"aria-hidden":"true",children:"\xd7"})}),(0,x.jsx)("h5",{className:"mb-4",children:"Create a Reminder"}),(0,x.jsxs)("form",{children:[(0,x.jsx)("div",{className:"row gx-3",children:(0,x.jsxs)("div",{className:"col-sm-12 form-group",children:[(0,x.jsx)("label",{className:"form-label",children:"Name"}),(0,x.jsx)("input",{className:"form-control",type:"text"})]})}),(0,x.jsx)("div",{className:"row gx-3",children:(0,x.jsxs)("div",{className:"col-sm-12 form-group",children:[(0,x.jsxs)("div",{className:"form-label-group",children:[(0,x.jsx)("label",{children:"Note/Description"}),(0,x.jsx)("small",{className:"text-muted",children:"200"})]}),(0,x.jsx)("textarea",{className:"form-control",rows:"3"})]})}),(0,x.jsxs)("div",{className:"row gx-3",children:[(0,x.jsx)("div",{className:"col-sm-6",children:(0,x.jsxs)("div",{className:"form-group",children:[(0,x.jsx)("label",{className:"form-label",children:"Start Date"}),(0,x.jsx)("input",{className:"form-control",name:"single-date-pick",type:"text"})]})}),(0,x.jsx)("div",{className:"col-sm-6",children:(0,x.jsxs)("div",{className:"form-group",children:[(0,x.jsx)("label",{className:"form-label",children:"Start Time"}),(0,x.jsx)("input",{className:"form-control input-single-timepicker",type:"text"})]})})]}),(0,x.jsx)("div",{className:"row gx-3",children:(0,x.jsx)("div",{className:"col-sm-12",children:(0,x.jsxs)("div",{className:"form-group",children:[(0,x.jsx)("label",{className:"form-label",children:"Remind"}),(0,x.jsxs)("select",{className:"form-control form-select me-20",children:[(0,x.jsx)("option",{selected:"",children:"Daily"}),(0,x.jsx)("option",{value:"1",children:"Monthly"}),(0,x.jsx)("option",{value:"2",children:"Weekly"})]})]})})})]})]}),(0,x.jsxs)("div",{className:"modal-footer align-items-center",children:[(0,x.jsx)("button",{type:"button",className:"btn btn-secondary","data-bs-dismiss":"modal",children:"Discard"}),(0,x.jsx)("button",{type:"button",className:"btn btn-primary","data-bs-dismiss":"modal",children:"Add"})]})]})})}),(0,x.jsx)("div",{id:"add_new_cat",className:"modal fade",tabindex:"-1",role:"dialog","aria-hidden":"true",children:(0,x.jsx)("div",{className:"modal-dialog modal-dialog-centered modal-sm",role:"document",children:(0,x.jsx)("div",{className:"modal-content",children:(0,x.jsxs)("div",{className:"modal-body",children:[(0,x.jsx)("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close",children:(0,x.jsx)("span",{"aria-hidden":"true",children:"\xd7"})}),(0,x.jsx)("h6",{className:"text-uppercase fw-bold mb-3",children:"Add Category"}),(0,x.jsxs)("form",{children:[(0,x.jsx)("div",{className:"row gx-3",children:(0,x.jsx)("div",{className:"col-sm-12",children:(0,x.jsx)("div",{className:"form-group",children:(0,x.jsx)("input",{className:"form-control",type:"text",placeholder:"Category Name"})})})}),(0,x.jsx)("button",{type:"button",className:"btn btn-primary float-end","data-bs-dismiss":"modal",children:"Add"})]})]})})})})]})})})]})},F=()=>(0,x.jsx)("div",{children:(0,x.jsx)(i.Z,{component:(0,x.jsx)(E,{})})})}}]);
//# sourceMappingURL=8334.95537285.chunk.js.map