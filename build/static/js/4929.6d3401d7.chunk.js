"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[4929],{58510:(e,l,a)=>{a.d(l,{A:()=>d});var n=a(82483),t=a(23080),s=a(56723);const i=n.forwardRef(((e,l)=>{const{field:a}=(0,t.as)(e),{label:n,style:i,defaultValue:d,disabled:o}=e;return(0,s.jsx)(s.Fragment,{children:(0,s.jsx)(t.xI,{name:null===e||void 0===e?void 0:e.name,control:null===e||void 0===e?void 0:e.control,rules:null===e||void 0===e?void 0:e.rules,defaultValue:d,render:t=>{let{field:{onChange:d,value:r}}=t;return(0,s.jsxs)("div",{className:" form-check form-check-md ",children:[(0,s.jsx)("label",{className:"form-check-lable",children:n}),(0,s.jsx)("input",{...a,ref:l,checked:"1"===a.value||!0===a.value,type:"checkbox",disabled:o,onChange:l=>{d(l.target.checked),e.onChange&&e.onChange(l)},style:i||{},className:"form-check-input"})]})}})})}));i.displayName="Checkbox";const d=i},19935:(e,l,a)=>{var n=a(82483),t=a(23080),s=a(34304),i=a.n(s),d=a(73643),o=a(56723);const r=n.forwardRef(((e,l)=>{const[a,s]=(0,n.useState)([]),[r,c]=(0,n.useState)({}),[u,h]=(0,n.useState)({}),{title:m,style:v,label:x,type:j,errors:p,defaultValue:b,onChange:g,onFocus:f,onBlur:N,menuPlacement:y,ellipses:k,value:C,placeHolder:S,...w}=e,{field:D,fieldState:P,formState:F}=(0,t.as)(e);let R=i().get(p,e.name);return(0,o.jsxs)("div",{className:"mb-5",children:[(0,o.jsx)(t.xI,{name:null===e||void 0===e?void 0:e.name,rules:null===e||void 0===e?void 0:e.rules,control:null===e||void 0===e?void 0:e.control,defaultValue:b,render:l=>{let{field:{onChange:a}}=l;return(0,o.jsxs)(o.Fragment,{children:[x&&(0,o.jsx)("label",{for:null===e||void 0===e?void 0:e.name,class:"block mb-2 text-sm font-bold text-gray-900 dark:text-white",children:x}),(0,o.jsx)(d.Rl,{projectId:"CRM",handleCountryChange:e=>{c(e),a(null===e||void 0===e?void 0:e.code)},handleStateChange:e=>h(e),children:(0,o.jsx)(d.tD,{label:"Country/Territory",style:{height:"10px"}})})]})}}),e.rules&&R&&e.rules&&null!==R&&void 0!==R&&R.message?(0,o.jsx)("p",{className:" fs-6 p-1 text-danger",id:"email-error",children:e.rules&&R&&e.rules&&(null===R||void 0===R?void 0:R.message)}):""]})}));r.displayName="ReactCountryField"},6732:(e,l,a)=>{a.d(l,{A:()=>o});var n=a(82483),t=a(30109),s=a.n(t),i=a(28846),d=a(56723);const o=function(e){let{itemsPerPage:l,items:a,dataFromChild:t}=e;const o=(0,n.useRef)(),[r,c]=(0,n.useState)(0),u=r+l,h=null===a||void 0===a?void 0:a.slice(r,u),m=Math.ceil(a.length/l);return console.log(o.current,h,h!==o.current),(0,n.useEffect)((()=>{(async()=>{await new Promise((e=>setTimeout(e,1e3))),((e,l)=>{if((null===e||void 0===e?void 0:e.length)!==(null===l||void 0===l?void 0:l.length))return!1;for(let a=0;a<e.length;a++)if(e[a]!==l[a])return!1;return!0})(h,o.current)||(t(h),o.current=h)})()}),[h,o,t]),(0,d.jsx)(d.Fragment,{children:(0,d.jsx)("div",{style:{display:"flex",flexDirection:"column",justifyContent:"center",boxSizing:"border-box",width:"100%",height:"100px"},children:(0,d.jsx)(s(),{breakClassName:"item break-me ",containerClassName:"d-flex justify-content-center",disabledClassName:"disabled-page",marginPagesDisplayed:2,nextClassName:"arrows btn btn-light ",pageClassName:"item pagination-page ",previousClassName:"arrows btn btn-light",nextLabel:(0,d.jsx)(i.l_J,{}),previousLabel:(0,d.jsx)(i.U_G,{}),breakLabel:"...",onPageChange:e=>{const a=e.selected*l;console.log("User requested page number ".concat(e.selected+1,", which is offset ").concat(a)),c(a),t(h)},pageRangeDisplayed:5,pageCount:m,renderOnZeroPageCount:null,activeClassName:"pagination_active"})})})}},94929:(e,l,a)=>{a.r(l),a.d(l,{default:()=>b});var n=a(82483),t=a(16575),s=a(56723);const i=()=>(0,s.jsx)("header",{className:"contact-header",children:(0,s.jsx)("div",{className:"d-flex align-items-center",children:(0,s.jsx)("div",{className:"dropdown",children:(0,s.jsx)("a",{className:"contactapp-title dropdown-toggle link-dark",role:"button",children:(0,s.jsx)("h1",{children:"Call History and Recording"})})})})});var d=a(91965),o=a(710),r=a(94690),c=a.n(r),u=a(23080),h=(a(19935),a(58510),a(7817),a(42060)),m=a(10802);const v=e=>{let{token:l,user:a,dispatch:t}=e;const{handleSubmit:i,watch:o,control:r,reset:c,setValue:v,formState:{errors:x}}=(0,u.mN)({}),{claimedNumbers:j}=(0,d.d4)((e=>e.calling)),[p,b]=(0,n.useState)(""),g=o("search_criteria");(0,n.useEffect)((()=>{void 0!==g&&b(null===g||void 0===g?void 0:g.value)}),[g]);return(0,s.jsxs)("form",{onSubmit:i((e=>{var n;const s={phoneNumber:null===e||void 0===e||null===(n=e.phoneNumber)||void 0===n?void 0:n.value,authToken:a.authToken,accountSid:a.accountSid};t((0,m.IK)(l,s))})),children:[(0,s.jsx)("div",{className:"bg-primary px-4 py-2 m-2 rounded mb-5",children:(0,s.jsx)("h5",{className:"pt-2 fw-bold",style:{color:"white"},children:"Search Logs"})}),(0,s.jsxs)("div",{className:"m-5",children:[(0,s.jsx)("div",{className:"row",children:(0,s.jsx)("div",{className:"col-md-4 col-sm-6",children:(0,s.jsx)(h.A,{name:"phoneNumber",placeholder:"Phone Number",control:r,errors:x,options:(null===j||void 0===j?void 0:j.length)>0?null===j||void 0===j?void 0:j.map(((e,l)=>({label:null===e||void 0===e?void 0:e.friendlyName,value:null===e||void 0===e?void 0:e.phoneNumber}))):[]})})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("button",{onClick:()=>{const e={authToken:a.authToken,accountSid:a.accountSid};t((0,m.IK)(l,e)),c()},type:"button",className:"btn btn-secondary",children:"Reset"}),(0,s.jsx)("button",{className:"btn btn-primary",children:"Submit"})]})]})]})};a(34304);const x=e=>{let{isEdit:l,recordingsData:a,dispatch:n,user:t,token:i}=e;const{isLoading:r}=(0,d.d4)((e=>e.calling));return(0,s.jsxs)("div",{className:"contact-list-view",children:[(0,s.jsx)(v,{user:t,token:i,dispatch:n}),!l&&(0,s.jsx)(s.Fragment,{children:r?(0,s.jsx)(o.A,{}):(0,s.jsxs)("table",{"data-sticky-header":!0,className:"table table-responsive w-100 mb-5",children:[(0,s.jsx)("thead",{className:"table-primary shadow-lg",children:(0,s.jsxs)("tr",{className:"sticky-top border rounded",children:[(0,s.jsx)("th",{children:"Date"}),(0,s.jsx)("th",{children:"From"}),(0,s.jsx)("th",{children:"To"}),(0,s.jsx)("th",{children:"Status"}),(0,s.jsx)("th",{children:"Duration"}),(0,s.jsx)("th",{children:"Direction"}),(0,s.jsx)("th",{children:"Recording"}),(0,s.jsx)("th",{children:"Price"})]})}),(0,s.jsx)("tbody",{children:(null===a||void 0===a?void 0:a.length)>0&&(null===a||void 0===a?void 0:a.map(((e,l)=>{var n,t,i,d,o,r,u,h,m,v,x,j,p,b,g;return(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{children:c()(null===e||void 0===e||null===(n=e.call)||void 0===n?void 0:n.dateCreated).format("HH:mm:ss YYYY-MM-DD")}),(0,s.jsx)("td",{children:null===e||void 0===e||null===(t=e.call)||void 0===t?void 0:t.from}),(0,s.jsx)("td",{children:null!==e&&void 0!==e&&null!==(i=e.call)&&void 0!==i&&null!==(d=i.from)&&void 0!==d&&d.includes("client")?null===(o=a[l-1])||void 0===o||null===(r=o.call)||void 0===r?void 0:r.to:null===e||void 0===e||null===(u=e.call)||void 0===u?void 0:u.to}),(0,s.jsx)("td",{children:null===e||void 0===e||null===(h=e.call)||void 0===h?void 0:h.status}),(0,s.jsxs)("td",{children:[null===e||void 0===e||null===(m=e.call)||void 0===m?void 0:m.duration," sec"]}),(0,s.jsx)("td",{children:null!==e&&void 0!==e&&null!==(v=e.call)&&void 0!==v&&null!==(x=v.from)&&void 0!==x&&x.includes("client")?"outbound-dial":null===e||void 0===e||null===(j=e.call)||void 0===j?void 0:j.direction}),(0,s.jsx)("td",{children:null!==e&&void 0!==e&&null!==(p=e.recording)&&void 0!==p&&p.mediaUrl?(0,s.jsx)("audio",{controls:!0,className:"custom-audio-player",children:(0,s.jsx)("source",{src:null===e||void 0===e||null===(b=e.recording)||void 0===b?void 0:b.mediaUrl,type:"audio/x-wav"})}):(0,s.jsx)("p",{children:"nill"})}),(0,s.jsx)("td",{children:2*parseFloat(null===e||void 0===e||null===(g=e.call)||void 0===g?void 0:g.price)||0})]},l)})))})]})})]})};var j=a(6732);const p=()=>{const{handleSubmit:e,watch:l,control:a,setValue:t,formState:{errors:o}}=(0,u.mN)({}),[r,c]=(0,n.useState)([]),[h,v]=(0,n.useState)([]),[p,b]=(0,n.useState)([]),[g,f]=(0,n.useState)([]),[N,y]=(0,n.useState)(!1),{availableNumbers:k,callLogs:C,recordings:S}=(0,d.d4)((e=>e.calling)),{token:w,accountSid:D,accountAuthToken:P,user:F}=(0,d.d4)((e=>e.auth)),R=(0,d.wA)();(0,n.useMemo)((()=>{R((0,m.IK)(w,{accountSid:D,authToken:P}))}),[w,R,P,D]),(0,n.useEffect)((()=>{c(C),v(C)}),[C,S]);return(0,s.jsx)("div",{className:"hk-pg-wrapper pb-0",children:(0,s.jsx)("div",{className:"hk-pg-body py-0",children:(0,s.jsx)("div",{className:"contactapp-wrap",children:(0,s.jsx)("div",{className:"contactapp-content",children:!N&&(0,s.jsxs)("div",{className:"contactapp-detail-wrap",children:[(0,s.jsx)(i,{}),(0,s.jsx)("div",{className:"contact-body",children:(0,s.jsxs)("div",{"data-simplebar":!0,className:"nicescroll-bar",children:[(0,s.jsx)(x,{contactsData:p,isEdit:N,recordingsData:r,dispatch:R,token:w,user:F}),(0,s.jsx)("div",{children:(0,s.jsx)(j.A,{itemsPerPage:20,dataFromChild:e=>{console.log("\ud83d\ude80 ~ handleDataFromPagination ~ data:",e),c(e)},items:h})})]})})]})})})})})},b=()=>(0,s.jsx)(t.A,{component:(0,s.jsx)(p,{})})}}]);
//# sourceMappingURL=4929.6d3401d7.chunk.js.map