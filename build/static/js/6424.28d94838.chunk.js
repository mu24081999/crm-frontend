"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[6424],{26552:(e,n,t)=>{t.d(n,{Jk:()=>l,P$:()=>c,e$:()=>d,u_:()=>s});var a=t(11222),r=t(32775),i=t(73422);const o="".concat("https://desktopcrm.com:51/v1"),s=(e,n)=>async t=>{console.log("\ud83d\ude80 ~ storeFile ~ data:",n);try{t((0,r.C9)());const s={headers:{"Content-Type":"multipart/form-data","x-access-token":e}};await a.A.post("".concat(o,"/user/gallery/post-file"),n,s).then((n=>{var a;if(200!==(null===n||void 0===n||null===(a=n.data)||void 0===a?void 0:a.statusCode))return i.oR.error(n.data.message),t((0,r.xk)(n.data.message));t((0,r.sM)(n.data.message)),i.oR.success(n.data.message),t(l(e))}))}catch(s){t((0,r.xk)(s.message))}},l=e=>async n=>{try{n((0,r.C9)());const t={headers:{"Content-Type":"application/json","x-access-token":e}};await a.A.get("".concat(o,"/user/gallery/get-files"),t).then((e=>{var t;if(console.log("\ud83d\ude80 ~ .then ~ response:",e),200!==(null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.statusCode))return i.oR.error(e.data.message),n((0,r.xk)(e.data.message));n((0,r.Pz)(e.data.data.galleryData))}))}catch(t){n((0,r.xk)(t.message))}},c=(e,n)=>async t=>{try{t((0,r.C9)());const s={headers:{"Content-Type":"application/json","x-access-token":e}};await a.A.get("".concat(o,"/user/gallery/file-details/").concat(n),s).then((e=>{var n;if(console.log("\ud83d\ude80 ~ .then ~ response:",e),200!==(null===e||void 0===e||null===(n=e.data)||void 0===n?void 0:n.statusCode))return i.oR.error(e.data.message),t((0,r.xk)(e.data.message));t((0,r.VF)(e.data.data.galleryData))}))}catch(s){t((0,r.xk)(s.message))}},d=(e,n,t)=>async s=>{try{s((0,r.C9)());const c={headers:{"Content-Type":"application/json","x-access-token":e}};await a.A.delete("".concat(o,"/user/gallery/delete-file/").concat(n,"/").concat(t),c).then((n=>{var t;if(console.log("\ud83d\ude80 ~ .then ~ response:",n),200!==(null===n||void 0===n||null===(t=n.data)||void 0===t?void 0:t.statusCode))return i.oR.error(n.data.message),s((0,r.xk)(n.data.message));s((0,r.Ww)(n.data.message)),s(l(e)),i.oR.success(n.data.message)}))}catch(c){s((0,r.xk)(c.message))}}},56424:(e,n,t)=>{t.r(n),t.d(n,{default:()=>te});var a=t(82483),r=t(16575),i=t(26552),o=t(56723);const s=e=>{let{dispatch:n,token:t,authUser:a}=e;return(0,o.jsxs)("nav",{className:"galleryapp-sidebar",children:[(0,o.jsx)("div",{"data-simplebar":!0,className:"nicescroll-bar",children:(0,o.jsx)("div",{className:"menu-content-wrap",children:(0,o.jsxs)("div",{className:"btn btn-primary btn-rounded btn-block btn-file mb-4",children:["Upload Images",(0,o.jsx)("input",{type:"file",className:"upload",onChange:e=>{console.log("\ud83d\ude80 ~ handleFileOnChange ~ file:",e.currentTarget.files);const r=new FormData;for(let n=0;n<e.target.files.length;n++)r.append("files",e.target.files[n]);return r.append("user_id",a.id),r.append("user_name",a.name),n((0,i.u_)(t,r)),{}}})]})})}),(0,o.jsx)("div",{className:"galleryapp-fixednav",children:(0,o.jsx)("div",{className:"hk-toolbar",children:(0,o.jsxs)("ul",{className:"nav nav-light",children:[(0,o.jsx)("li",{className:"nav-item nav-link",children:(0,o.jsx)("a",{className:"btn btn-icon btn-flush-dark btn-rounded flush-soft-hover","data-bs-toggle":"tooltip","data-bs-placement":"top",title:"","data-bs-original-title":"Settings",href:"/",children:(0,o.jsx)("span",{className:"icon",children:(0,o.jsx)("span",{className:"feather-icon",children:(0,o.jsx)("i",{"data-feather":"settings"})})})})}),(0,o.jsx)("li",{className:"nav-item nav-link",children:(0,o.jsx)("a",{href:"/",className:"btn btn-icon btn-rounded btn-flush-dark flush-soft-hover","data-bs-toggle":"tooltip","data-bs-placement":"top",title:"","data-bs-original-title":"Archive",children:(0,o.jsx)("span",{className:"icon",children:(0,o.jsx)("span",{className:"feather-icon",children:(0,o.jsx)("i",{"data-feather":"archive"})})})})}),(0,o.jsx)("li",{className:"nav-item nav-link",children:(0,o.jsx)("a",{href:"/",className:"btn btn-icon btn-rounded btn-flush-dark flush-soft-hover","data-bs-toggle":"tooltip","data-bs-placement":"top",title:"","data-bs-original-title":"Help",children:(0,o.jsx)("span",{className:"icon",children:(0,o.jsx)("span",{className:"feather-icon",children:(0,o.jsx)("i",{"data-feather":"book"})})})})})]})})})]})},l=()=>(0,o.jsxs)("header",{className:"gallery-header",children:[(0,o.jsxs)("div",{className:"d-flex align-items-center flex-grow-1",children:[(0,o.jsx)("a",{className:"galleryapp-title dropdown-toggle link-dark","data-bs-toggle":"dropdown",href:"/",role:"button","aria-haspopup":"true","aria-expanded":"false",children:(0,o.jsx)("h1",{children:"Media Gallery"})}),(0,o.jsxs)("div",{className:"dropdown-menu",children:[(0,o.jsxs)("a",{className:"dropdown-item",href:"/",children:[(0,o.jsx)("span",{className:"feather-icon dropdown-icon",children:(0,o.jsx)("i",{"data-feather":"hard-drive"})}),(0,o.jsx)("span",{children:"Gallery"})]}),(0,o.jsxs)("a",{className:"dropdown-item",href:"/",children:[(0,o.jsx)("span",{className:"feather-icon dropdown-icon",children:(0,o.jsx)("i",{"data-feather":"folder"})}),(0,o.jsx)("span",{children:"Collections"})]}),(0,o.jsxs)("a",{className:"dropdown-item",href:"/",children:[(0,o.jsx)("span",{className:"feather-icon dropdown-icon",children:(0,o.jsx)("i",{"data-feather":"upload"})}),(0,o.jsx)("span",{children:"Shared with me"})]}),(0,o.jsxs)("a",{className:"dropdown-item",href:"/",children:[(0,o.jsx)("span",{className:"feather-icon dropdown-icon",children:(0,o.jsx)("i",{"data-feather":"star"})}),(0,o.jsx)("span",{children:"Favorite"})]})]}),(0,o.jsx)("form",{className:"mx-3 flex-grow-1 mw-400p",role:"search",children:(0,o.jsx)("input",{type:"text",className:"form-control",placeholder:"Search media by Name"})})]}),(0,o.jsxs)("div",{className:"gallery-options-wrap",children:[(0,o.jsx)("a",{className:"btn btn-icon btn-flush-dark btn-rounded flush-soft-hover btn-file-download disabled d-xl-inline-block d-none",href:"/",children:(0,o.jsx)("span",{className:"icon",children:(0,o.jsx)("span",{className:"feather-icon",children:(0,o.jsx)("i",{"data-feather":"download"})})})}),(0,o.jsx)("div",{className:"v-separator d-xl-inline-block d-none"}),(0,o.jsx)("a",{className:"btn btn-icon btn-flush-dark btn-rounded flush-soft-hover ms-0 d-xl-inline-block d-none",href:"/","data-bs-toggle":"tooltip","data-bs-placement":"top",title:"","data-bs-original-title":"Add New Folder",children:(0,o.jsx)("span",{className:"icon",children:(0,o.jsx)("span",{className:"feather-icon",children:(0,o.jsx)("i",{"data-feather":"folder-plus"})})})}),(0,o.jsx)("a",{className:"btn btn-icon btn-flush-dark btn-rounded btn-file flush-soft-hover  d-md-inline-block d-none",href:"/","data-bs-toggle":"tooltip","data-bs-placement":"top",title:"","data-bs-original-title":"Upload",children:(0,o.jsx)("span",{className:"icon",children:(0,o.jsx)("span",{className:"feather-icon",children:(0,o.jsx)("i",{"data-feather":"upload-cloud"})})})}),(0,o.jsx)("div",{className:"v-separator d-lg-inline-block d-none"}),(0,o.jsx)("a",{className:"btn btn-icon btn-flush-dark flush-soft-hover dropdown-toggle no-caret active ms-lg-0 d-sm-inline-block d-none",href:"/","data-bs-toggle":"dropdown",children:(0,o.jsx)("span",{className:"icon",children:(0,o.jsx)("span",{className:"feather-icon",children:(0,o.jsx)("i",{"data-feather":"list"})})})}),(0,o.jsxs)("div",{className:"dropdown-menu dropdown-menu-right",children:[(0,o.jsxs)("a",{className:"dropdown-item active",href:"file-manager-list.html",children:[(0,o.jsx)("span",{className:"feather-icon dropdown-icon",children:(0,o.jsx)("i",{"data-feather":"list"})}),(0,o.jsx)("span",{children:"List View"})]}),(0,o.jsxs)("a",{className:"dropdown-item",href:"file-manager-grid.html",children:[(0,o.jsx)("span",{className:"feather-icon dropdown-icon",children:(0,o.jsx)("i",{"data-feather":"grid"})}),(0,o.jsx)("span",{children:"Grid View"})]}),(0,o.jsxs)("a",{className:"dropdown-item",href:"/",children:[(0,o.jsx)("span",{className:"feather-icon dropdown-icon",children:(0,o.jsx)("i",{"data-feather":"server"})}),(0,o.jsx)("span",{children:"Compact View"})]})]}),(0,o.jsx)("a",{className:"btn btn-icon btn-flush-dark btn-rounded flush-soft-hover hk-navbar-togglable",href:"/","data-bs-toggle":"tooltip","data-bs-placement":"top",title:"","data-bs-original-title":"Collapse",children:(0,o.jsxs)("span",{className:"icon",children:[(0,o.jsx)("span",{className:"feather-icon",children:(0,o.jsx)("i",{"data-feather":"chevron-up"})}),(0,o.jsx)("span",{className:"feather-icon d-none",children:(0,o.jsx)("i",{"data-feather":"chevron-down"})})]})})]}),(0,o.jsx)("div",{className:"hk-sidebar-togglable"})]});var c=t(94690),d=t.n(c),u=t(99998);function h(){return h=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},h.apply(this,arguments)}function f(e,n){if(null==e)return{};var t,a,r={},i=Object.keys(e);for(a=0;a<i.length;a++)n.indexOf(t=i[a])>=0||(r[t]=e[t]);return r}function m(e){var n=(0,a.useRef)({fn:e,curr:void 0}).current;if(n.fn=e,!n.curr){var t=Object.create(null);Object.keys(e).forEach((function(e){t[e]=function(){var t;return(t=n.fn[e]).call.apply(t,[n.fn].concat([].slice.call(arguments)))}})),n.curr=t}return n.curr}function v(e){return(0,a.useReducer)((function(e,n){return h({},e,"function"==typeof n?n(e):n)}),e)}var p=(0,a.createContext)(void 0),g="undefined"!=typeof window&&"ontouchstart"in window,x=function(e,n,t){return Math.max(Math.min(e,t),n)},b=function(e,n,t){return void 0===n&&(n=0),void 0===t&&(t=0),x(e,1*(1-t),Math.max(6,n)*(1+t))},w="undefined"==typeof window||/ServerSideRendering/.test(navigator&&navigator.userAgent)?a.useEffect:a.useLayoutEffect;function j(e,n,t){var r=(0,a.useRef)(n);r.current=n,(0,a.useEffect)((function(){function n(e){r.current(e)}return e&&window.addEventListener(e,n,t),function(){e&&window.removeEventListener(e,n)}}),[e])}var N=["container"];function y(e){var n=e.container,t=void 0===n?document.body:n,r=f(e,N);return(0,u.createPortal)(a.createElement("div",h({},r)),t)}function k(e){return a.createElement("svg",h({width:"44",height:"44",viewBox:"0 0 768 768"},e),a.createElement("path",{d:"M607.5 205.5l-178.5 178.5 178.5 178.5-45 45-178.5-178.5-178.5 178.5-45-45 178.5-178.5-178.5-178.5 45-45 178.5 178.5 178.5-178.5z"}))}function C(e){return a.createElement("svg",h({width:"44",height:"44",viewBox:"0 0 768 768"},e),a.createElement("path",{d:"M640.5 352.5v63h-390l178.5 180-45 45-256.5-256.5 256.5-256.5 45 45-178.5 180h390z"}))}function E(e){return a.createElement("svg",h({width:"44",height:"44",viewBox:"0 0 768 768"},e),a.createElement("path",{d:"M384 127.5l256.5 256.5-256.5 256.5-45-45 178.5-180h-390v-63h390l-178.5-180z"}))}function _(){return(0,a.useEffect)((function(){var e=document.body.style,n=e.overflow;return e.overflow="hidden",function(){e.overflow=n}}),[]),null}function M(e){var n=e.touches[0],t=n.clientX,a=n.clientY;if(e.touches.length>=2){var r=e.touches[1],i=r.clientX,o=r.clientY;return[(t+i)/2,(a+o)/2,Math.sqrt(Math.pow(i-t,2)+Math.pow(o-a,2))]}return[t,a,0]}var R=function(e,n,t,a){var r=t*n,i=(r-a)/2,o=void 0,s=e;return r<=a?(o=1,s=0):e>0&&i-e<=0?(o=2,s=i):e<0&&i+e<=0&&(o=3,s=-i),[o,s]};function P(e,n,t,a,r,i,o,s,l,c){void 0===o&&(o=innerWidth/2),void 0===s&&(s=innerHeight/2),void 0===l&&(l=0),void 0===c&&(c=0);var d=R(e,i,t,innerWidth)[0],u=R(n,i,a,innerHeight),h=innerWidth/2,f=innerHeight/2;return{x:o-i/r*(o-(h+e))-h+(a/t>=3&&t*i===innerWidth?0:d?l/2:l),y:s-i/r*(s-(f+n))-f+(u[0]?c/2:c),lastCX:o,lastCY:s}}function Y(e,n,t){var a=e%180!=0;return a?[t,n,a]:[n,t,a]}function S(e,n,t){var a=Y(t,innerWidth,innerHeight),r=a[0],i=a[1],o=0,s=r,l=i,c=e/n*i,d=n/e*r;return e<r&&n<i?(s=e,l=n):e<r&&n>=i?s=c:e>=r&&n<i||e/n>r/i?l=d:n/e>=3&&!a[2]?o=((l=d)-i)/2:s=c,{width:s,height:l,x:0,y:o,pause:!0}}function X(e,n){var t=n.leading,r=void 0!==t&&t,i=n.maxWait,o=n.wait,s=void 0===o?i||0:o,l=(0,a.useRef)(e);l.current=e;var c=(0,a.useRef)(0),d=(0,a.useRef)(),u=function(){return d.current&&clearTimeout(d.current)},h=(0,a.useCallback)((function(){var e=[].slice.call(arguments),n=Date.now();function t(){c.current=n,u(),l.current.apply(null,e)}var a=c.current,o=n-a;if(0===a&&(r&&t(),c.current=n),void 0!==i){if(o>i)return void t()}else o<s&&(c.current=n);u(),d.current=setTimeout((function(){t(),c.current=0}),s)}),[s,i,r]);return h.cancel=u,h}var A=function(e,n,t){return W(e,n,t,100,(function(e){return e}),(function(){return W(n,e,t)}))},T=function(e){return 1-Math.pow(1-e,4)};function W(e,n,t,a,r,i){void 0===a&&(a=400),void 0===r&&(r=T);var o=n-e;if(0!==o){var s=Date.now(),l=0,c=function(){var n=Math.min(1,(Date.now()-s)/a);t(e+r(n)*o)&&n<1?d():(cancelAnimationFrame(l),n>=1&&i&&i())};d()}function d(){l=requestAnimationFrame(c)}}var V={T:0,L:0,W:0,H:0,FIT:void 0},D=function(){var e=(0,a.useRef)(!1);return(0,a.useEffect)((function(){return e.current=!0,function(){e.current=!1}}),[]),e},F=["className"];function I(e){var n=e.className,t=f(e,F);return a.createElement("div",h({className:"PhotoView__Spinner "+n},t),a.createElement("svg",{viewBox:"0 0 32 32",width:"36",height:"36",fill:"white"},a.createElement("path",{opacity:".25",d:"M16 0 A16 16 0 0 0 16 32 A16 16 0 0 0 16 0 M16 4 A12 12 0 0 1 16 28 A12 12 0 0 1 16 4"}),a.createElement("path",{d:"M16 0 A16 16 0 0 1 32 16 L28 16 A12 12 0 0 0 16 4z"})))}var H=["src","loaded","broken","className","onPhotoLoad","loadingElement","brokenElement"];function L(e){var n=e.src,t=e.loaded,r=e.broken,i=e.className,o=e.onPhotoLoad,s=e.loadingElement,l=e.brokenElement,c=f(e,H),d=D();return n&&!r?a.createElement(a.Fragment,null,a.createElement("img",h({className:"PhotoView__Photo"+(i?" "+i:""),src:n,onLoad:function(e){var n=e.target;d.current&&o({loaded:!0,naturalWidth:n.naturalWidth,naturalHeight:n.naturalHeight})},onError:function(){d.current&&o({broken:!0})},alt:""},c)),!t&&(a.createElement("span",{className:"PhotoView__icon"},s)||a.createElement(I,{className:"PhotoView__icon"}))):l?a.createElement("span",{className:"PhotoView__icon"},"function"==typeof l?l({src:n}):l):null}var O={naturalWidth:void 0,naturalHeight:void 0,width:void 0,height:void 0,loaded:void 0,broken:!1,x:0,y:0,touched:!1,maskTouched:!1,rotate:0,scale:1,CX:0,CY:0,lastX:0,lastY:0,lastCX:0,lastCY:0,lastScale:1,touchTime:0,touchLength:0,pause:!0,stopRaf:!0,reach:void 0};function B(e){var n=e.item,t=n.src,r=n.render,i=n.width,o=void 0===i?0:i,s=n.height,l=void 0===s?0:s,c=n.originRef,d=e.visible,u=e.speed,f=e.easing,p=e.wrapClassName,x=e.className,N=e.style,y=e.loadingElement,k=e.brokenElement,C=e.onPhotoTap,E=e.onMaskTap,_=e.onReachMove,T=e.onReachUp,F=e.onPhotoResize,I=e.isActive,H=e.expose,B=v(O),z=B[0],U=B[1],q=(0,a.useRef)(0),G=D(),$=z.naturalWidth,J=void 0===$?o:$,K=z.naturalHeight,Q=void 0===K?l:K,Z=z.width,ee=void 0===Z?o:Z,ne=z.height,te=void 0===ne?l:ne,ae=z.loaded,re=void 0===ae?!t:ae,ie=z.broken,oe=z.x,se=z.y,le=z.touched,ce=z.stopRaf,de=z.maskTouched,ue=z.rotate,he=z.scale,fe=z.CX,me=z.CY,ve=z.lastX,pe=z.lastY,ge=z.lastCX,xe=z.lastCY,be=z.lastScale,we=z.touchTime,je=z.touchLength,Ne=z.pause,ye=z.reach,ke=m({onScale:function(e){return Ce(b(e))},onRotate:function(e){ue!==e&&(H({rotate:e}),U(h({rotate:e},S(J,Q,e))))}});function Ce(e,n,t){he!==e&&(H({scale:e}),U(h({scale:e},P(oe,se,ee,te,he,e,n,t),e<=1&&{x:0,y:0})))}var Ee=X((function(e,n,t){if(void 0===t&&(t=0),(le||de)&&I){var a=Y(ue,ee,te),r=a[0],i=a[1];if(0===t&&0===q.current){var o=Math.abs(e-fe)<=20,s=Math.abs(n-me)<=20;if(o&&s)return void U({lastCX:e,lastCY:n});q.current=o?n>me?3:2:1}var l=e-ge,c=n-xe,d=void 0;if(0===t){var u=R(l+ve,he,r,innerWidth)[0],f=R(c+pe,he,i,innerHeight);d=function(e,n,t,a){return n&&1===e||"x"===a?"x":t&&e>1||"y"===a?"y":void 0}(q.current,u,f[0],ye),void 0!==d&&_(d,e,n,he)}if("x"===d||de)return void U({reach:"x"});var m=b(he+(t-je)/100/2*he,J/ee,.2);H({scale:m}),U(h({touchLength:t,reach:d,scale:m},P(oe,se,ee,te,he,m,e,n,l,c)))}}),{maxWait:8});function _e(e){return!ce&&!le&&(G.current&&U(h({},e,{pause:d})),G.current)}var Me,Re,Pe,Ye,Se,Xe,Ae,Te,We=(Se=function(e){return _e({x:e})},Xe=function(e){return _e({y:e})},Ae=function(e){return G.current&&(H({scale:e}),U({scale:e})),!le&&G.current},Te=m({X:function(e){return Se(e)},Y:function(e){return Xe(e)},S:function(e){return Ae(e)}}),function(e,n,t,a,r,i,o,s,l,c,d){var u=Y(c,r,i),h=u[0],f=u[1],m=R(e,s,h,innerWidth),v=m[0],p=m[1],g=R(n,s,f,innerHeight),x=g[0],b=g[1],w=Date.now()-d;if(w>=200||s!=o||Math.abs(l-o)>1){var j=P(e,n,r,i,o,s),N=j.x,y=j.y,k=v?p:N!==e?N:null,C=x?b:y!==n?y:null;return null!==k&&W(e,k,Te.X),null!==C&&W(n,C,Te.Y),void(s!=o&&W(o,s,Te.S))}var E=(e-t)/w,_=(n-a)/w,M=Math.sqrt(Math.pow(E,2)+Math.pow(_,2)),S=!1,X=!1;!function(e,n){var t=e,a=0,r=void 0,i=0,o=function(i){r||(r=i);var o=i-r,c=Math.sign(e),d=-.001*c,u=Math.sign(-t)*Math.pow(t,2)*2e-4,h=t*o+(d+u)*Math.pow(o,2)/2;a+=h,r=i,c*(t+=(d+u)*o)<=0?l():n(a)?s():l()};function s(){i=requestAnimationFrame(o)}function l(){cancelAnimationFrame(i)}s()}(M,(function(t){var a=e+t*(E/M),r=n+t*(_/M),i=R(a,o,h,innerWidth),s=i[0],l=i[1],c=R(r,o,f,innerHeight),d=c[0],u=c[1];if(s&&!S&&(S=!0,v?W(a,l,Te.X):A(l,a+(a-l),Te.X)),d&&!X&&(X=!0,x?W(r,u,Te.Y):A(u,r+(r-u),Te.Y)),S&&X)return!1;var m=S||Te.X(l),p=X||Te.Y(u);return m&&p}))}),Ve=(Me=C,Re=function(e,n){ye||Ce(1!==he?1:Math.max(2,J/ee),e,n)},Pe=(0,a.useRef)(0),Ye=X((function(){Pe.current=0,Me.apply(void 0,[].slice.call(arguments))}),{wait:300}),function(){var e=[].slice.call(arguments);Pe.current+=1,Ye.apply(void 0,e),Pe.current>=2&&(Ye.cancel(),Pe.current=0,Re.apply(void 0,e))});function De(e,n){if(q.current=0,(le||de)&&I){U({touched:!1,maskTouched:!1,pause:!1,stopRaf:!1,reach:void 0});var t=b(he,J/ee);if(We(oe,se,ve,pe,ee,te,he,t,be,ue,we),T(e,n),fe===e&&me===n){if(le)return void Ve(e,n);de&&E(e,n)}}}function Fe(e,n,t){void 0===t&&(t=0),U({touched:!0,CX:e,CY:n,lastCX:e,lastCY:n,lastX:oe,lastY:se,lastScale:he,touchLength:t,touchTime:Date.now()})}function Ie(e){U({maskTouched:!0,CX:e.clientX,CY:e.clientY,lastX:oe,lastY:se})}j(g?void 0:"mousemove",(function(e){e.preventDefault(),Ee(e.clientX,e.clientY)})),j(g?void 0:"mouseup",(function(e){De(e.clientX,e.clientY)})),j(g?"touchmove":void 0,(function(e){e.preventDefault();var n=M(e);Ee.apply(void 0,n)}),{passive:!1}),j(g?"touchend":void 0,(function(e){var n=e.changedTouches[0];De(n.clientX,n.clientY)}),{passive:!1}),j("resize",X((function(){re&&!le&&(U(S(J,Q,ue)),F())}),{maxWait:8})),w((function(){I&&H(h({scale:he,rotate:ue},ke))}),[I]);var He=function(e,n,t,r,i,o,s,l,c,d){var u=function(e,n,t,r,i){var o=(0,a.useRef)(!1),s=v({lead:!0,scale:t}),l=s[0],c=l.lead,d=l.scale,u=s[1],h=X((function(e){try{return i(!0),u({lead:!1,scale:e}),Promise.resolve()}catch(e){return Promise.reject(e)}}),{wait:r});return w((function(){o.current?(i(!1),u({lead:!0}),h(t)):o.current=!0}),[t]),c?[e*d,n*d,t/d]:[e*t,n*t,1]}(o,s,l,c,d),h=u[0],f=u[1],p=u[2],g=function(e,n,t,r,i){var o=(0,a.useState)(V),s=o[0],l=o[1],c=(0,a.useState)(0),d=c[0],u=c[1],h=(0,a.useRef)(),f=m({OK:function(){return e&&u(4)}});function v(e){i(!1),u(e)}return(0,a.useEffect)((function(){if(h.current||(h.current=Date.now()),t){if(function(e,n){var t=e&&e.current;if(t&&1===t.nodeType){var a=t.getBoundingClientRect();n({T:a.top,L:a.left,W:a.width,H:a.height,FIT:"IMG"===t.tagName?getComputedStyle(t).objectFit:void 0})}}(n,l),e)return Date.now()-h.current<250?(u(1),requestAnimationFrame((function(){u(2),requestAnimationFrame((function(){return v(3)}))})),void setTimeout(f.OK,r)):void u(4);v(5)}}),[e,t]),[d,s]}(e,n,t,c,d),x=g[0],b=g[1],j=b.W,N=b.FIT,y=innerWidth/2,k=innerHeight/2,C=x<3||x>4;return[C?j?b.L:y:r+(y-o*l/2),C?j?b.T:k:i+(k-s*l/2),h,C&&N?h*(b.H/j):f,0===x?p:C?j/(o*l)||.01:p,C?N?1:0:1,x,N]}(d,c,re,oe,se,ee,te,he,u,(function(e){return U({pause:e})})),Le=He[4],Oe=He[6],Be="transform "+u+"ms "+f,ze={className:x,onMouseDown:g?void 0:function(e){e.stopPropagation(),0===e.button&&Fe(e.clientX,e.clientY,0)},onTouchStart:g?function(e){e.stopPropagation(),Fe.apply(void 0,M(e))}:void 0,onWheel:function(e){if(!ye){var n=b(he-e.deltaY/100/2,J/ee);U({stopRaf:!0}),Ce(n,e.clientX,e.clientY)}},style:{width:He[2],height:He[3],opacity:He[5],objectFit:4===Oe?void 0:He[7],transform:ue?"rotate("+ue+"deg)":void 0,transition:Oe>2?Be+", opacity "+u+"ms ease, height "+(Oe<4?u/2:Oe>4?u:0)+"ms "+f:void 0}};return a.createElement("div",{className:"PhotoView__PhotoWrap"+(p?" "+p:""),style:N,onMouseDown:!g&&I?Ie:void 0,onTouchStart:g&&I?function(e){return Ie(e.touches[0])}:void 0},a.createElement("div",{className:"PhotoView__PhotoBox",style:{transform:"matrix("+Le+", 0, 0, "+Le+", "+He[0]+", "+He[1]+")",transition:le||Ne?void 0:Be,willChange:I?"transform":void 0}},t?a.createElement(L,h({src:t,loaded:re,broken:ie},ze,{onPhotoLoad:function(e){U(h({},e,e.loaded&&S(e.naturalWidth||0,e.naturalHeight||0,ue)))},loadingElement:y,brokenElement:k})):r&&r({attrs:ze,scale:Le,rotate:ue})))}var z={x:0,touched:!1,pause:!1,lastCX:void 0,lastCY:void 0,bg:void 0,lastBg:void 0,overlay:!0,minimal:!0,scale:1,rotate:0};function U(e){var n=e.loop,t=void 0===n?3:n,r=e.speed,i=e.easing,o=e.photoClosable,s=e.maskClosable,l=void 0===s||s,c=e.maskOpacity,d=void 0===c?1:c,u=e.pullClosable,h=void 0===u||u,f=e.bannerVisible,p=void 0===f||f,b=e.overlayRender,N=e.toolbarRender,M=e.className,R=e.maskClassName,P=e.photoClassName,Y=e.photoWrapClassName,S=e.loadingElement,X=e.brokenElement,A=e.images,T=e.index,W=void 0===T?0:T,V=e.onIndexChange,D=e.visible,F=e.onClose,I=e.afterClose,H=e.portalContainer,L=v(z),O=L[0],U=L[1],q=(0,a.useState)(0),G=q[0],$=q[1],J=O.x,K=O.touched,Q=O.pause,Z=O.lastCX,ee=O.lastCY,ne=O.bg,te=void 0===ne?d:ne,ae=O.lastBg,re=O.overlay,ie=O.minimal,oe=O.scale,se=O.rotate,le=O.onScale,ce=O.onRotate,de=e.hasOwnProperty("index"),ue=de?W:G,he=de?V:$,fe=(0,a.useRef)(ue),me=A.length,ve=A[ue],pe="boolean"==typeof t?t:me>t,ge=function(e,n){var t=(0,a.useReducer)((function(e){return!e}),!1)[1],r=(0,a.useRef)(0),i=function(n,t){var i=(0,a.useRef)(n);function o(e){i.current=e}return(0,a.useMemo)((function(){var n;n=o,e?(n(e),r.current=1):r.current=2}),[n]),[i.current,o]}(e),o=i[1];return[i[0],r.current,function(){t(),2===r.current&&(o(!1),n&&n()),r.current=0}]}(D,I),xe=ge[0],be=ge[1],we=ge[2];w((function(){if(xe)return U({pause:!0,x:ue*-(innerWidth+20)}),void(fe.current=ue);U(z)}),[xe]);var je=m({close:function(e){ce&&ce(0),U({overlay:!0,lastBg:te}),F(e)},changeIndex:function(e,n){void 0===n&&(n=!1);var t=pe?fe.current+(e-ue):e,a=me-1,r=x(t,0,a),i=pe?t:r,o=innerWidth+20;U({touched:!1,lastCX:void 0,lastCY:void 0,x:-o*i,pause:n}),fe.current=i,he&&he(pe?e<0?a:e>a?0:e:r)}}),Ne=je.close,ye=je.changeIndex;function ke(e){return e?Ne():U({overlay:!re})}function Ce(){U({x:-(innerWidth+20)*ue,lastCX:void 0,lastCY:void 0,pause:!0}),fe.current=ue}function Ee(e,n,t,a){"x"===e?function(e){if(void 0!==Z){var n=e-Z,t=n;!pe&&(0===ue&&n>0||ue===me-1&&n<0)&&(t=n/2),U({touched:!0,lastCX:Z,x:-(innerWidth+20)*fe.current+t,pause:!1})}else U({touched:!0,lastCX:e,x:J,pause:!1})}(n):"y"===e&&function(e,n){if(void 0!==ee){var t=null===d?null:x(d,.01,d-Math.abs(e-ee)/100/4);U({touched:!0,lastCY:ee,bg:1===n?t:d,minimal:1===n})}else U({touched:!0,lastCY:e,bg:te,minimal:!0})}(t,a)}function _e(e,n){var t=e-(null!=Z?Z:e),a=n-(null!=ee?ee:n),r=!1;if(t<-40)ye(ue+1);else if(t>40)ye(ue-1);else{var i=-(innerWidth+20)*fe.current;Math.abs(a)>100&&ie&&h&&(r=!0,Ne()),U({touched:!1,x:i,lastCX:void 0,lastCY:void 0,bg:d,overlay:!!r||re})}}j("keydown",(function(e){if(D)switch(e.key){case"ArrowLeft":ye(ue-1,!0);break;case"ArrowRight":ye(ue+1,!0);break;case"Escape":Ne()}}));var Me,Re,Pe,Ye=(Me=A,Re=ue,Pe=pe,(0,a.useMemo)((function(){var e=Me.length;return Pe?Me.concat(Me).concat(Me).slice(e+Re-1,e+Re+2):Me.slice(Math.max(Re-1,0),Math.min(Re+2,e+1))}),[Me,Re,Pe]));if(!xe)return null;var Se=re&&!be,Xe=D?te:ae,Ae=le&&ce&&{images:A,index:ue,visible:D,onClose:Ne,onIndexChange:ye,overlayVisible:Se,overlay:ve&&ve.overlay,scale:oe,rotate:se,onScale:le,onRotate:ce},Te=r?r(be):400,We=i?i(be):"cubic-bezier(0.25, 0.8, 0.25, 1)",Ve=r?r(3):600,De=i?i(3):"cubic-bezier(0.25, 0.8, 0.25, 1)";return a.createElement(y,{className:"PhotoView-Portal"+(Se?"":" PhotoView-Slider__clean")+(D?"":" PhotoView-Slider__willClose")+(M?" "+M:""),role:"dialog",onClick:function(e){return e.stopPropagation()},container:H},D&&a.createElement(_,null),a.createElement("div",{className:"PhotoView-Slider__Backdrop"+(R?" "+R:"")+(1===be?" PhotoView-Slider__fadeIn":2===be?" PhotoView-Slider__fadeOut":""),style:{background:Xe?"rgba(0, 0, 0, "+Xe+")":void 0,transitionTimingFunction:We,transitionDuration:(K?0:Te)+"ms",animationDuration:Te+"ms"},onAnimationEnd:we}),p&&a.createElement("div",{className:"PhotoView-Slider__BannerWrap"},a.createElement("div",{className:"PhotoView-Slider__Counter"},ue+1," / ",me),a.createElement("div",{className:"PhotoView-Slider__BannerRight"},N&&Ae&&N(Ae),a.createElement(k,{className:"PhotoView-Slider__toolbarIcon",onClick:Ne}))),Ye.map((function(e,n){var t=pe||0!==ue?fe.current-1+n:ue+n;return a.createElement(B,{key:pe?e.key+"/"+e.src+"/"+t:e.key,item:e,speed:Te,easing:We,visible:D,onReachMove:Ee,onReachUp:_e,onPhotoTap:function(){return ke(o)},onMaskTap:function(){return ke(l)},wrapClassName:Y,className:P,style:{left:(innerWidth+20)*t+"px",transform:"translate3d("+J+"px, 0px, 0)",transition:K||Q?void 0:"transform "+Ve+"ms "+De},loadingElement:S,brokenElement:X,onPhotoResize:Ce,isActive:fe.current===t,expose:U})})),!g&&p&&a.createElement(a.Fragment,null,(pe||0!==ue)&&a.createElement("div",{className:"PhotoView-Slider__ArrowLeft",onClick:function(){return ye(ue-1,!0)}},a.createElement(C,null)),(pe||ue+1<me)&&a.createElement("div",{className:"PhotoView-Slider__ArrowRight",onClick:function(){return ye(ue+1,!0)}},a.createElement(E,null))),b&&Ae&&a.createElement("div",{className:"PhotoView-Slider__Overlay"},b(Ae)))}var q=["children","onIndexChange","onVisibleChange"],G={images:[],visible:!1,index:0};function $(e){var n=e.children,t=e.onIndexChange,r=e.onVisibleChange,i=f(e,q),o=v(G),s=o[0],l=o[1],c=(0,a.useRef)(0),d=s.images,u=s.visible,g=s.index,x=m({nextId:function(){return c.current+=1},update:function(e){var n=d.findIndex((function(n){return n.key===e.key}));if(n>-1){var t=d.slice();return t.splice(n,1,e),void l({images:t})}l((function(n){return{images:n.images.concat(e)}}))},remove:function(e){l((function(n){var t=n.images.filter((function(n){return n.key!==e}));return{images:t,index:Math.min(t.length-1,g)}}))},show:function(e){var n=d.findIndex((function(n){return n.key===e}));l({visible:!0,index:n}),r&&r(!0,n,s)}}),b=m({close:function(){l({visible:!1}),r&&r(!1,g,s)},changeIndex:function(e){l({index:e}),t&&t(e,s)}}),w=(0,a.useMemo)((function(){return h({},s,x)}),[s,x]);return a.createElement(p.Provider,{value:w},n,a.createElement(U,h({images:d,visible:u,index:g,onIndexChange:b.changeIndex,onClose:b.close},i)))}var J=function(e){var n,t,r=e.src,i=e.render,o=e.overlay,s=e.width,l=e.height,c=e.triggers,d=void 0===c?["onClick"]:c,u=e.children,f=(0,a.useContext)(p),v=(n=function(){return f.nextId()},(t=(0,a.useRef)({sign:!1,fn:void 0}).current).sign||(t.sign=!0,t.fn=n()),t.fn),g=(0,a.useRef)(null);(0,a.useImperativeHandle)(null==u?void 0:u.ref,(function(){return g.current})),(0,a.useEffect)((function(){return function(){f.remove(v)}}),[]);var x=m({render:function(e){return i&&i(e)},show:function(e,n){f.show(v),function(e,n){if(u){var t=u.props[e];t&&t(n)}}(e,n)}}),b=(0,a.useMemo)((function(){var e={};return d.forEach((function(n){e[n]=x.show.bind(null,n)})),e}),[]);return(0,a.useEffect)((function(){f.update({key:v,src:r,originRef:g,render:x.render,overlay:o,width:s,height:l})}),[r]),u?a.Children.only((0,a.cloneElement)(u,h({},b,{ref:g}))):null},K=t(41609),Q=t(28846);const Z=e=>{let{filesData:n,token:t,dispatch:a,authUser:r}=e;return(0,o.jsx)("div",{"data-simplebar":!0,className:"nicescroll-bar",children:(0,o.jsx)("div",{className:"collapse-simple",children:Object.entries(n).map((e=>{let[n,s]=e;return(0,o.jsxs)("div",{className:"card card-border",children:[(0,o.jsx)("div",{className:"card-header",children:(0,o.jsx)("a",{role:"button","data-bs-toggle":"collapse",href:"/gal_collapse_1","aria-expanded":"true",children:(0,o.jsxs)("h5",{className:"mb-0",children:[" ",d()(Date.now()).format("YYYY-MM-DD")===n?"Recently Assigned":d()(n).format("MMM DD YYYY")]})})}),(0,o.jsx)("div",{id:"gal_collapse_1",className:"collapse show",children:(0,o.jsx)("div",{className:"card-body",children:(0,o.jsx)("div",{className:"row  hk-gallery",children:(0,o.jsx)($,{children:(null===s||void 0===s?void 0:s.length)>0&&(null===s||void 0===s?void 0:s.map(((e,n)=>(0,o.jsxs)("div",{className:"col-lg-3 col-md-4 col-sm-6",children:[(0,o.jsx)(J,{src:e.url,children:(0,o.jsx)("img",{src:e.url,width:250,alt:"",className:"card card-border gallery-img"})},n),(0,o.jsxs)("div",{class:"dropdown position-absolute",style:{top:"60px"},children:[(0,o.jsx)("button",{class:"btn btn-icon btn-rounded btn-flush-light flush-soft-hover dropdown-toggle no-caret","aria-expanded":"false","data-bs-toggle":"dropdown",children:(0,o.jsx)("span",{class:"icon",children:(0,o.jsx)("span",{class:"feather-icon",children:(0,o.jsx)(K.txp,{})})})}),(0,o.jsx)("div",{role:"menu",class:"dropdown-menu dropdown-menu-end",children:(0,o.jsxs)("button",{class:"dropdown-item ",onClick:()=>{return n=e.id,void a((0,i.e$)(t,n,r.name));var n},children:[(0,o.jsx)("span",{className:"px-2",children:(0,o.jsx)(Q.qbC,{})}),"Delete File"]})})]})]},n))))})})})})]},n)}))})})};var ee=t(91965);const ne=()=>{const e=(0,ee.wA)(),[n,t]=(0,a.useState)([]),{token:r,user:c}=(0,ee.d4)((e=>e.auth)),{files:d}=(0,ee.d4)((e=>e.gallery));return(0,a.useEffect)((()=>{e((0,i.Jk)(r))}),[e,r]),(0,a.useEffect)((()=>{const e=d.reduce(((e,n)=>{const t=n.created_at.split("T")[0];return e[t]=e[t]||[],e[t].push(n),e}),{});t(e)}),[d]),(0,o.jsx)("div",{className:"hk-pg-wrapper pb-0",children:(0,o.jsx)("div",{className:"hk-pg-body py-0",children:(0,o.jsxs)("div",{className:"galleryapp-wrap",children:[(0,o.jsx)(s,{dispatch:e,token:r,authUser:c}),(0,o.jsxs)("div",{className:"galleryapp-content",children:[(0,o.jsxs)("div",{className:"galleryapp-detail-wrap",children:[(0,o.jsx)(l,{}),(0,o.jsx)("div",{className:"gallery-body",children:(0,o.jsx)(Z,{filesData:n,token:r,dispatch:e,authUser:c})})]}),(0,o.jsx)("div",{id:"add_new_cat",className:"modal fade",tabindex:"-1",role:"dialog","aria-hidden":"true",children:(0,o.jsx)("div",{className:"modal-dialog modal-dialog-centered modal-sm",role:"document",children:(0,o.jsx)("div",{className:"modal-content",children:(0,o.jsxs)("div",{className:"modal-body",children:[(0,o.jsx)("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close",children:(0,o.jsx)("span",{"aria-hidden":"true",children:"\xd7"})}),(0,o.jsx)("h6",{className:"text-uppercase fw-bold mb-3",children:"Add Category"}),(0,o.jsxs)("form",{children:[(0,o.jsx)("div",{className:"row gx-3",children:(0,o.jsx)("div",{className:"col-sm-12",children:(0,o.jsx)("div",{className:"form-group",children:(0,o.jsx)("input",{className:"form-control",type:"text",placeholder:"Category Name"})})})}),(0,o.jsx)("button",{type:"button",className:"btn btn-primary float-end","data-bs-dismiss":"modal",children:"Add"})]})]})})})})]})]})})})},te=()=>(0,o.jsx)(r.A,{component:(0,o.jsx)(ne,{})})}}]);
//# sourceMappingURL=6424.28d94838.chunk.js.map