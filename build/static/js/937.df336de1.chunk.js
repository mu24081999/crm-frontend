"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[937],{50818:(e,a,l)=>{l.d(a,{Z:()=>o});var s=l(72791),t=l(61134),n=l(80184);const r=s.forwardRef(((e,a)=>{const{field:l}=(0,t.bc)(e),{label:s,style:r,defaultValue:o,disabled:d}=e;return(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(t.Qr,{name:null===e||void 0===e?void 0:e.name,control:null===e||void 0===e?void 0:e.control,rules:null===e||void 0===e?void 0:e.rules,defaultValue:o,render:t=>{let{field:{onChange:o,value:i}}=t;return(0,n.jsxs)("div",{className:" form-check form-check-md ",children:[(0,n.jsx)("label",{className:"form-check-lable",children:s}),(0,n.jsx)("input",{...l,ref:a,checked:"1"===l.value||!0===l.value,type:"checkbox",disabled:d,onChange:a=>{o(a.target.checked),e.onChange&&e.onChange(a)},style:r||{},className:"form-check-input"})]})}})})}));r.displayName="Checkbox";const o=r},23713:(e,a,l)=>{var s=l(72791),t=l(61134),n=l(763),r=l.n(n),o=l(28172),d=l(80184);const i=s.forwardRef(((e,a)=>{const[l,n]=(0,s.useState)([]),[i,c]=(0,s.useState)({}),[u,m]=(0,s.useState)({}),{title:h,style:v,label:b,type:x,errors:p,defaultValue:j,onChange:g,onFocus:N,onBlur:y,menuPlacement:f,ellipses:S,value:C,placeHolder:k,...w}=e,{field:T,fieldState:Z,formState:A}=(0,t.bc)(e);let E=r().get(p,e.name);return(0,d.jsxs)("div",{className:"mb-5",children:[(0,d.jsx)(t.Qr,{name:null===e||void 0===e?void 0:e.name,rules:null===e||void 0===e?void 0:e.rules,control:null===e||void 0===e?void 0:e.control,defaultValue:j,render:a=>{let{field:{onChange:l}}=a;return(0,d.jsxs)(d.Fragment,{children:[b&&(0,d.jsx)("label",{for:null===e||void 0===e?void 0:e.name,class:"block mb-2 text-sm font-bold text-gray-900 dark:text-white",children:b}),(0,d.jsx)(o.uq,{projectId:"CRM",handleCountryChange:e=>{c(e),l(null===e||void 0===e?void 0:e.code)},handleStateChange:e=>m(e),children:(0,d.jsx)(o.Dz,{label:"Country/Territory",style:{height:"10px"}})})]})}}),e.rules&&E&&e.rules&&null!==E&&void 0!==E&&E.message?(0,d.jsx)("p",{className:" fs-6 p-1 text-danger",id:"email-error",children:e.rules&&E&&e.rules&&(null===E||void 0===E?void 0:E.message)}):""]})}));i.displayName="ReactCountryField"},70207:(e,a,l)=>{l.d(a,{$m:()=>i,QO:()=>d,fC:()=>o});var s=l(55294),t=l(86620),n=l(75985);const r="".concat("https://desktopcrm.com:51/v1"),o=(e,a)=>async l=>{try{l((0,t.me)());const n={headers:{"Content-Type":"application/json","x-access-token":e}};await s.Z.get("".concat(r,"/user/settings/get-setting/").concat(a),n).then((e=>{var a;if(console.log("\ud83d\ude80 ~ .then ~ response:",e),200!==(null===e||void 0===e||null===(a=e.data)||void 0===a?void 0:a.statusCode))return l((0,t.r6)(e.data.message));l((0,t.gM)(e.data.data.settingData))}))}catch(n){l((0,t.r6)(n.message))}},d=(e,a)=>async l=>{try{l((0,t.me)());const d={headers:{"Content-Type":"application/json","x-access-token":e}};await s.Z.post("".concat(r,"/user/settings/post-setting"),a,d).then((a=>{var s;if(console.log("\ud83d\ude80 ~ .then ~ response:",a),200!==(null===a||void 0===a||null===(s=a.data)||void 0===s?void 0:s.statusCode))return n.Am.error(a.data.message),l((0,t.r6)(a.data.message));l((0,t.XS)(a.data.message)),l(o(e,a.data.data.id))}))}catch(d){l((0,t.r6)(d.message))}},i=(e,a,l)=>async o=>{try{o((0,t.me)());const d={headers:{"Content-Type":"application/json","x-access-token":e}};await s.Z.put("".concat(r,"/user/settings/update-setting/").concat(a),l,d).then((a=>{var l;if(console.log("\ud83d\ude80 ~ .then ~ response:",a),200!==(null===a||void 0===a||null===(l=a.data)||void 0===l?void 0:l.statusCode))return n.Am.error(a.data.message),o((0,t.r6)(a.data.message));o((0,t.m7)(a.data.message)),o((0,t.gM)(e,a.data.data.id))}))}catch(d){o((0,t.r6)(d.message))}}},90937:(e,a,l)=>{l.r(a),l.d(a,{default:()=>C});var s=l(72791),t=l(34855),n=l(80184);const r=()=>(0,n.jsxs)("header",{className:"contact-header",children:[(0,n.jsx)("div",{className:"d-flex align-items-center",children:(0,n.jsx)("div",{className:"dropdown",children:(0,n.jsx)("a",{className:"contactapp-title dropdown-toggle link-dark","data-bs-toggle":"dropdown",href:"/",role:"button","aria-haspopup":"true","aria-expanded":"false",children:(0,n.jsx)("h1",{children:"Available Phone Numbers"})})})}),(0,n.jsx)("div",{className:"hk-sidebar-togglable"})]});var o=l(94420),d=l(61765),i=l(22316),c=l(98911),u=l(70859);l(763);const m=e=>{let{contactsData:a,numberPricing:l,isEdit:t,onDataFromChild:r}=e;const m=(0,o.I0)(),{token:h}=(0,o.v9)((e=>e.auth)),{isLoading:v}=(0,o.v9)((e=>e.calling));(0,s.useEffect)((()=>{h&&(m((0,d.SN)(h)),m((0,c.Rf)(h)))}),[m,h]);return(0,n.jsx)("div",{className:"contact-list-view",children:!t&&(0,n.jsx)(n.Fragment,{children:v?(0,n.jsx)(i.Z,{}):(0,n.jsxs)("table",{"data-sticky-header":!0,className:"table table-striped w-100 mb-5",children:[(0,n.jsx)("thead",{className:"table-primary ",children:(0,n.jsxs)("tr",{className:"sticky-top p-1 shadow-lg p-3 mb-5 bg-white rounded",children:[(0,n.jsx)("th",{children:"Number"}),(0,n.jsx)("th",{children:"Type"}),(0,n.jsx)("th",{children:"Voice"}),(0,n.jsx)("th",{children:"SMS"}),(0,n.jsx)("th",{children:"MMS"}),(0,n.jsx)("th",{children:"FAX"}),(0,n.jsx)("th",{children:"Address Requirement"}),(0,n.jsx)("th",{children:"Monthly Fee"}),(0,n.jsx)("th",{children:"Actions"})]})}),(0,n.jsx)("tbody",{children:(null===a||void 0===a?void 0:a.length)>0&&(null===a||void 0===a?void 0:a.map((e=>{var a,s,t,o,d;return(0,n.jsxs)("tr",{className:"shadow ",children:[(0,n.jsxs)("td",{children:[(0,n.jsx)("div",{className:"fw-bold",children:null===e||void 0===e?void 0:e.phoneNumber}),(0,n.jsxs)("div",{className:"fs-5",children:[null===e||void 0===e?void 0:e.locality," ,",null===e||void 0===e?void 0:e.region," ",null===e||void 0===e?void 0:e.isoCountry]})]}),(0,n.jsx)("td",{children:"Local"}),(0,n.jsx)("td",{className:"",children:(0,n.jsx)("button",{className:"btn btn-sm btn-primary",children:null!==e&&void 0!==e&&null!==(a=e.capabilities)&&void 0!==a&&a.voice?"true":"false"})}),(0,n.jsx)("td",{children:(0,n.jsx)("button",{className:"btn btn-sm btn-primary",children:null!==e&&void 0!==e&&null!==(s=e.capabilities)&&void 0!==s&&s.SMS?"true":"false"})}),(0,n.jsx)("td",{children:(0,n.jsx)("button",{className:"btn btn-sm btn-primary",children:null!==e&&void 0!==e&&null!==(t=e.capabilities)&&void 0!==t&&t.MMS?"true":"false"})}),(0,n.jsx)("td",{children:(0,n.jsx)("button",{className:"btn btn-sm btn-primary",children:null!==e&&void 0!==e&&null!==(o=e.capabilities)&&void 0!==o&&o.fax?"true":"false"})}),(0,n.jsx)("td",{children:null===e||void 0===e?void 0:e.addressRequirements}),(0,n.jsxs)("td",{className:"fw-bold",children:["$",l]}),(0,n.jsx)("td",{children:(0,n.jsx)("div",{className:"d-flex align-items-center",children:(0,n.jsx)("div",{className:"d-flex",children:null!==e&&void 0!==e&&null!==(d=e.phoneNumber)&&void 0!==d&&d.includes("+44")?(0,n.jsx)("button",{type:"button",id:"bundle_modal_button",className:"btn btn-primary","data-bs-toggle":"modal","data-bs-target":"#bundle_modal",children:"Buy"}):(0,n.jsx)("button",{className:"btn btn-primary",id:"buy_number","data-bs-toggle":"modal","data-bs-target":"#add_payment_form","data-amount":"7000",onClick:()=>{return r(null===(a=e)||void 0===a?void 0:a.phoneNumber),void m((0,u.Az)(h,{currency:"usd",amount:100*parseFloat(l)}));var a},children:"Buy"})})})})]})})))})]})})})};var h=l(61134),v=(l(23713),l(50818)),b=l(45523),x=l(49923),p=l(41706);l(44989);const j=e=>{let{dispatch:a,token:l,onDataFromChild:t,accountSid:r,authToken:o}=e;const{handleSubmit:d,watch:i,control:c,reset:u,setValue:m,formState:{errors:j}}=(0,h.cI)({}),[g,N]=(0,s.useState)(""),y=i("search_criteria");(0,s.useEffect)((()=>{void 0!==y&&N(null===y||void 0===y?void 0:y.value)}),[y]);return(0,n.jsxs)("form",{onSubmit:d((e=>{console.log("\ud83d\ude80 ~ handleSearchNumber ~ data:",e.country.value);const s={...e,authToken:o,accountSid:r,numberType:e.numberType.value,country:e.country.value};a((0,p.WV)(l,s)),t(s.numberType)})),children:[(0,n.jsx)("div",{className:"bg-primary p-2 m-2 rounded mb-5",children:(0,n.jsx)("h5",{className:"pt-2 px-4 fw-bold",style:{color:"white"},children:"Search Phone Number"})}),(0,n.jsx)("div",{className:"m-5 d-flex justify-content-center",children:(0,n.jsx)("div",{className:" w-100",children:(0,n.jsxs)("div",{className:"row",children:[(0,n.jsx)("div",{className:"col-md-4 col-sm-6",children:(0,n.jsx)(x.Z,{name:"country",placeholder:"Select Country",control:c,errors:j,mb:!1,options:[{label:"Argentina",value:"AR"},{label:"Austria",value:"AT"},{label:"Kenya",value:"KE"},{label:"Brazil",value:"BR"},{label:"Bulgaria",value:"BG"},{label:"Canada",value:"CA"},{label:"Colombia",value:"CO"},{label:"Czechia",value:"CZ"},{label:"Ecuador",value:"EC"},{label:"El Salvador",value:"SV"},{label:"Estonia",value:"EE"},{label:"Germany",value:"DE"},{label:"Grenada",value:"GD"},{label:"Hong Kong",value:"HK"},{label:"Japan",value:"JP"},{label:"Kenya",value:"KE"},{label:"Mali",value:"ML"},{label:"Mexico",value:"MX"},{label:"Namibia",value:"NA"},{label:"New Zealand",value:"NZ"},{label:"Puerto Rico",value:"PR"},{label:"Philippines",value:"PH"},{label:"Panama",value:"PA"},{label:"Switzerland",value:"CH"},{label:"Slovenia",value:"SI"},{label:"Tunisia",value:"TN"},{label:"United States",value:"US"}],rules:{required:{value:!0,message:"Field required!"}}})}),(0,n.jsx)("div",{className:"col-md-4 col-sm-6",children:(0,n.jsx)(x.Z,{name:"numberType",placeholder:"Number Type",control:c,errors:j,mb:!1,options:[{label:"local",value:"local"},{label:"tollFree",value:"tollFree"}],rules:{required:{value:!0,message:"Field required!"}}})}),(0,n.jsx)("div",{className:"col-md-4 col-sm-6",children:(0,n.jsx)(x.Z,{name:"search_criteria",placeholder:"Criteria",control:c,errors:j,mb:!1,options:[{label:"Locality",value:"locality"},{label:"Number",value:"number"}]})}),(0,n.jsx)("div",{className:"col-md-4 col-sm-6",children:(0,n.jsxs)("div",{className:"row px-5 pt-2 gap-2",children:[(0,n.jsx)("div",{className:"col",children:(0,n.jsx)(v.Z,{control:c,errors:j,name:"voice",label:"Voice"})}),(0,n.jsx)("div",{className:"col",children:(0,n.jsx)(v.Z,{control:c,errors:j,name:"sms",label:"SMS"})}),(0,n.jsx)("div",{className:"col",children:(0,n.jsx)(v.Z,{control:c,errors:j,name:"mms",label:"MMS"})}),(0,n.jsx)("div",{className:"col",children:(0,n.jsx)(v.Z,{control:c,errors:j,name:"fax",label:"Fax"})})]})}),(0,n.jsx)("div",{className:"col-md-4 col-sm-6",children:(0,n.jsx)(b.Z,{name:"area_code",placeholder:"Area Code (start digits)",control:c,errors:j,mb:!1})}),(0,n.jsx)("div",{className:"col-md-4 col-sm-6",children:"locality"===g?(0,n.jsx)(b.Z,{name:"locality",placeholder:"Search by Phrase",control:c,errors:j,mb:!1}):(0,n.jsx)(b.Z,{name:"number",placeholder:"Search by Digits (last digits)",control:c,errors:j,mb:!1})}),(0,n.jsxs)("div",{className:"col-md-4 col-sm-6 d-flex gap-2",children:[(0,n.jsx)("button",{onClick:()=>u(),className:"btn btn-secondary",children:"Reset"}),(0,n.jsx)("button",{className:"btn btn-primary",children:"Submit"})]})]})})})]})};var g=l(33833),N=l(55294),y=l(75985),f=l(70207);const S=()=>{const{formState:{errors:e}}=(0,h.cI)({}),[a,l]=(0,s.useState)([]),[t,d]=(0,s.useState)([]),[i,c]=(0,s.useState)([]),[u,v]=(0,s.useState)([]),[b,x]=(0,s.useState)(null),[S,C]=(0,s.useState)(!1),[k,w]=(0,s.useState)(!1),{contacts:T}=(0,o.v9)((e=>e.contact)),{availableNumbers:Z}=(0,o.v9)((e=>e.calling)),{user:A,token:E,accountSid:F,accountAuthToken:M}=(0,o.v9)((e=>e.auth)),_=(0,o.I0)(),{isLoading:P,settingDetails:D}=(0,o.v9)((e=>e.setting));(0,s.useEffect)((()=>{_((0,f.fC)(E,1))}),[_,E]),(0,s.useEffect)((()=>{const e=null===T||void 0===T?void 0:T.filter((e=>"blocked"!==e.status));l(e)}),[T]),(0,s.useEffect)((()=>{d(Z),c(Z)}),[Z]),(0,s.useEffect)((()=>{_((0,p.tP)(E,{accountSid:F,authToken:M}))}),[_,E,F,M]);return(0,n.jsxs)("div",{className:"hk-pg-wrapper pb-0",children:[(0,n.jsx)("div",{className:"hk-pg-body py-0",children:(0,n.jsx)("div",{className:"contactapp-wrap",children:(0,n.jsxs)("div",{className:"contactapp-content",children:[!S&&(0,n.jsxs)("div",{className:"contactapp-detail-wrap",children:[(0,n.jsx)(r,{}),(0,n.jsx)("div",{className:"px-5 pt-3",children:(0,n.jsx)("button",{className:"btn btn-primary btn-sm float-end",onClick:()=>w(!k),children:"Search"})}),k&&(0,n.jsx)(j,{numbersData:i,onDataFromChild:e=>{v(e)},dispatch:_,token:E,accountSid:F,authToken:M}),(0,n.jsx)("div",{className:"contact-body",children:(0,n.jsx)("div",{"data-simplebar":!0,className:"nicescroll-bar",children:(0,n.jsx)(m,{contactsData:t,onToggleEdit:e=>{C(e)},numberPricing:"tollFree"===u?null===D||void 0===D?void 0:D.toll_free_number_price:null===D||void 0===D?void 0:D.local_number_price,isEdit:S,onDataFromChild:e=>{x(e)}})})})]}),(0,n.jsx)("div",{id:"bundle_modal",className:"modal fade add-new-contact",tabIndex:"-1",role:"dialog","aria-hidden":"true",children:(0,n.jsx)("div",{className:"modal-dialog modal-dialog-centered modal-lg",role:"document",children:(0,n.jsxs)("div",{className:"modal-content",children:[(0,n.jsxs)("div",{className:"modal-header bg-primary",children:[(0,n.jsx)("span",{style:{color:"white",fontWeight:"bold"},children:"Create Regulatory Bundle"}),(0,n.jsx)("button",{type:"button",className:"btn-close btn-light","data-bs-dismiss":"modal","aria-label":"Close",children:(0,n.jsx)("span",{"aria-hidden":"true",children:"\xd7"})})]}),(0,n.jsx)("div",{className:"modal-body",children:"Yoo"})]})})})]})})}),(0,n.jsx)(g.Z,{afterPayment:async()=>{var e;const a={headers:{"Content-Type":"multipart/form-data","x-access-token":E}},l=await N.Z.post("".concat("https://desktopcrm.com:51/v1","/user/calling/claim-phone-number"),{subAccountSid:F,subAuthToken:M,phoneNumber:b,addressSid:null===A||void 0===A?void 0:A.addressSid,user_id:null===A||void 0===A?void 0:A.id},a);l&&y.Am.success(null===l||void 0===l||null===(e=l.data)||void 0===e?void 0:e.message)}})]})},C=()=>(0,n.jsx)(t.Z,{component:(0,n.jsx)(S,{})})}}]);
//# sourceMappingURL=937.df336de1.chunk.js.map