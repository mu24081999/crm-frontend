{"version":3,"file":"static/js/2816.8de41cbd.chunk.js","mappings":"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","sources":["components/FilePreview/FilePreview.js","redux/services/message.js","views/Message/components/Rooms/ChatRooms.js","views/Message/components/ChatAside/ChatAside.js","views/Message/components/Messages/SingleChat.js","views/Message/MessageContent.js","views/Message/Mesasge.js"],"sourcesContent":["import React from \"react\";\nimport { FaFileArchive, FaFilePdf, FaRegFileAlt } from \"react-icons/fa\";\n\nfunction FilePreview({ fileType, fileUrl, fileWidth }) {\n  let content;\n\n  switch (fileType) {\n    case \"jpeg\":\n      content = (\n        <img\n          className=\"img-fluid rounded\"\n          style={{ maxWidth: \"300px\" }}\n          src={fileUrl}\n          width={fileWidth}\n          alt=\" preview\"\n        />\n      );\n      break;\n    case \"png\":\n      content = (\n        <img\n          className=\"img-fluid rounded\"\n          style={{ maxWidth: \"300px\" }}\n          src={fileUrl}\n          width={fileWidth}\n          alt=\" preview\"\n        />\n      );\n      break;\n    case \"jpg\":\n      content = (\n        <img\n          className=\"img-fluid rounded\"\n          style={{ maxWidth: \"300px\" }}\n          src={fileUrl}\n          width={fileWidth}\n          alt=\" preview\"\n        />\n      );\n      break;\n\n    case \"pdf\":\n      content = (\n        // <iframe\n        //   src={fileUrl}\n        //   width={fileWidth}\n        //   title=\"PDF preview\"\n        //   // width=\"100%\"\n        //   height=\"45px\"\n        // />\n        <FaFilePdf />\n      );\n      break;\n    case \"zip\":\n      content = <FaFileArchive />;\n      break;\n    case \"video\":\n      content = (\n        <video controls width={fileWidth} height=\"auto\">\n          <source src={fileUrl} type=\"video/mp4\" />\n          Your browser does not support the video tag.\n        </video>\n      );\n      break;\n    default:\n      // content = <p>Unsupported file type</p>;\n      content = <FaRegFileAlt color=\"white\" size={70} n />;\n  }\n\n  return <div className=\"\">{content}</div>;\n}\n\nexport default FilePreview;\n","// authActions.js\nimport axios from \"axios\";\nimport {\n  getAllMessages,\n  invalidRequest,\n  messageRequestLoading,\n} from \"../slices/message\";\nimport { toast } from \"react-toastify\";\nconst backendURL = `${process.env.REACT_APP_BACKEND_URL_PRODUCTION}`;\n\nexport const getMessagesList = (token) => async (dispatch) => {\n  try {\n    dispatch(messageRequestLoading());\n    const config = {\n      headers: {\n        \"Content-Type\": \"application/json\",\n        \"x-access-token\": token,\n      },\n    };\n    await axios\n      .get(`${backendURL}/user/calling/user-messages`, config)\n      .then((response) => {\n        console.log(\"ðŸš€ ~ .then ~ response:\", response);\n        if (response?.data?.statusCode !== 200) {\n          toast.error(response.data.message);\n          return dispatch(invalidRequest(response.data.message));\n        }\n        dispatch(getAllMessages(response.data.data.messagesData));\n      });\n  } catch (e) {\n    dispatch(invalidRequest(e.message));\n  }\n};\nexport const getMessagesLogs = (token, data) => async (dispatch) => {\n  try {\n    dispatch(messageRequestLoading());\n    const config = {\n      headers: {\n        \"Content-Type\": \"application/json\",\n        \"x-access-token\": token,\n      },\n    };\n    await axios\n      .post(`${backendURL}/user/calling/user-messages-logs`, data, config)\n      .then((response) => {\n        console.log(\"ðŸš€ ~ .then ~ response:\", response);\n        if (response?.data?.statusCode !== 200) {\n          toast.error(response.data.message);\n          return dispatch(invalidRequest(response.data.message));\n        }\n        dispatch(getAllMessages(response.data.data.messagesData));\n      });\n  } catch (e) {\n    dispatch(invalidRequest(e.message));\n  }\n};\n","import React, { useMemo, useState } from \"react\";\nimport { useSelector } from \"react-redux\";\nimport Loader from \"../../../../components/Loader/Loader\";\nconst ChatRooms = ({\n  rooms,\n  onDataFromChild,\n  messages,\n  deleteChatRecord,\n  onMessagesDataFromChild,\n  updateChat,\n}) => {\n  const [selectedRoom, setSelectedRoom] = useState(\"\");\n  const [prevData, setPrevData] = useState([]);\n  const [roomsData, setRoomsData] = useState([]);\n  const { isLoading } = useSelector((state) => state.calling);\n  useMemo(() => {\n    setRoomsData(rooms);\n    setPrevData(rooms);\n  }, [rooms]);\n  const roomClickHandler = (contact) => {\n    setSelectedRoom(contact);\n    onDataFromChild(contact);\n    const messagesData = messages?.filter(\n      (message) =>\n        message.to_phone === contact || message.from_phone === contact\n    );\n    onMessagesDataFromChild(messagesData);\n    document\n      .getElementById(\"dummy_avatar\")\n      ?.scrollIntoView({ behavior: \"smooth\", block: \"end\" });\n  };\n  function formatRelativeDate(date) {\n    const inputDate = new Date(date);\n    const today = new Date();\n    const yesterday = new Date(today);\n    yesterday.setDate(today.getDate() - 1);\n\n    if (inputDate.toDateString() === today.toDateString()) {\n      return \"Today\";\n    } else if (inputDate.toDateString() === yesterday.toDateString()) {\n      return \"Yesterday\";\n    } else {\n      const options = { year: \"numeric\", month: \"long\", day: \"numeric\" };\n      return inputDate.toLocaleDateString(\"en-US\", options);\n    }\n  }\n  const handleSearchRoom = (e) => {\n    if (e.target.value !== \"\" || e.target.value !== undefined) {\n      const filterData =\n        prevData?.length > 0 &&\n        prevData?.filter((prev) => prev?.includes(e.target.value));\n      setRoomsData(filterData);\n    } else {\n      setRoomsData(prevData);\n    }\n  };\n  return (\n    <div>\n      {\" \"}\n      <form class=\"aside-search\" role=\"search\">\n        <input\n          type=\"text\"\n          class=\"form-control\"\n          placeholder=\"Search Chats\"\n          onKeyUp={handleSearchRoom}\n        />\n      </form>\n      {isLoading ? (\n        <Loader />\n      ) : (\n        <ul class=\"chat-contacts-list list-group list-group-flush\">\n          {roomsData?.length > 0 ? (\n            roomsData?.map((contact, index) => {\n              const messageArray = messages?.filter(\n                (msg) => msg.room === contact.name\n              );\n              const lastMessage = messageArray[messageArray.length - 1];\n              return (\n                <li\n                  class=\"list-group-item\"\n                  key={index}\n                  onClick={() => roomClickHandler(contact)}\n                >\n                  <div class=\"media\">\n                    <div class=\"media-head\">\n                      <div class=\"avatar avatar-sm avatar-primary position-relative avatar-rounded\">\n                        <span class=\"initial-wrap\">C</span>\n                      </div>\n                    </div>\n                    <div class=\"media-body\">\n                      <div>\n                        <div class=\"user-name\">{contact}</div>\n                        <div class=\"user-last-chat\">{contact?.phone}</div>\n                      </div>\n                      <div>\n                        <div class=\"last-chat-time\">\n                          {lastMessage?.created_at\n                            ? formatRelativeDate(\n                                lastMessage?.created_at || new Date()\n                              )\n                            : \"...\"}\n                        </div>\n                      </div>\n                    </div>\n                  </div>\n                </li>\n              );\n            })\n          ) : (\n            <li>No rooms till.</li>\n          )}\n        </ul>\n      )}\n    </div>\n  );\n};\n\nexport default ChatRooms;\n","import React from \"react\";\nimport ChatRooms from \"../Rooms/ChatRooms\";\nimport { MdConnectWithoutContact } from \"react-icons/md\";\n\nconst ChatAside = ({\n  rooms,\n  authUser,\n  socket,\n  onDataFromChild,\n  messages,\n  deleteChatRecord,\n  updateChat,\n  onMessagesDataFromChild,\n  a2pVerified,\n}) => {\n  return (\n    <div>\n      {\" \"}\n      <div class=\"chatapp-aside\">\n        <header class=\"aside-header\">\n          <h1 className=\"fs-5 fw-bold\">\n            <span className=\"pe-2\">\n              <MdConnectWithoutContact size={30} color=\"#007D88\" />\n\n              {/* <FaEnvelope  /> */}\n            </span>\n            Conversation\n          </h1>\n        </header>\n        <div data-simplebar class=\"aside-body\">\n          <div className=\"alert alert-warning\">\n            {a2pVerified ? (\n              <></>\n            ) : (\n              <p>\n                A2P Verfification is required for conversation in\n                US/Canada.&nbsp;\n                <a\n                  href=\"#\"\n                  data-bs-target=\"#a2p-modal\"\n                  data-bs-toggle=\"modal\"\n                  className=\"text-underline\"\n                >\n                  <ins>Add Details</ins>\n                </a>\n              </p>\n            )}\n          </div>\n          <ChatRooms\n            rooms={rooms}\n            authUser={authUser}\n            socket={socket}\n            onDataFromChild={onDataFromChild}\n            messages={messages}\n            onMessagesDataFromChild={onMessagesDataFromChild}\n            deleteChatRecord={deleteChatRecord}\n            updateChat={updateChat}\n          />\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default ChatAside;\n","import _ from \"lodash\";\nimport moment from \"moment\";\nimport React, { useContext, useEffect, useState } from \"react\";\nimport {\n  FaArrowAltCircleRight,\n  FaArrowDown,\n  FaPhone,\n  FaPhoneAlt,\n} from \"react-icons/fa\";\nimport AWS from \"aws-sdk\";\nimport FilePreview from \"../../../../components/FilePreview/FilePreview\";\nimport { SocketContext } from \"../../../../Context\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { getUsers } from \"../../../../redux/services/users\";\nimport { FiAlertTriangle, FiPaperclip } from \"react-icons/fi\";\nimport \"reactjs-popup/dist/index.css\";\nimport Popup from \"reactjs-popup\";\nimport { Tooltip as ReactTooltip } from \"react-tooltip\";\nimport { updateBalanceAfterCall } from \"../../../../redux/services/calling\";\nimport { toast } from \"react-toastify\";\n\nconst SingleChat = ({\n  messages,\n  selectedRoom,\n  authUser,\n  socket,\n  selectedMessages,\n  a2pVerified,\n}) => {\n  const {\n    me,\n    call,\n    callUser,\n    sendTextMessage,\n    callingDevice,\n    setShowCall,\n    setIsDialerOpen,\n    setActiveCall,\n    setUserState,\n    setCallStatus,\n    setIsDial,\n    setShowContacts,\n    setActiveCallSid,\n    setInputValue,\n  } = useContext(SocketContext);\n\n  const [selectedUser, setSelectedUser] = useState(null);\n  const [usersArray, setUsersArray] = useState(null);\n  const { users } = useSelector((state) => state.user);\n  const { balanceDetails } = useSelector((state) => state.balance);\n  const { token, user } = useSelector((state) => state.auth);\n  const dispatch = useDispatch();\n  useEffect(() => {\n    if (selectedMessages?.length > 0) {\n      document\n        .getElementById(\"dummy_avatar\")\n        .scrollIntoView({ behavior: \"smooth\", block: \"end\" });\n    }\n  }, [selectedMessages]);\n  useEffect(() => {\n    if (selectedUser && me && token) {\n      // callUser(selectedUser?.socket_id, authUser.name);\n    }\n  }, [selectedUser, authUser, callUser, call, me, token]);\n  useEffect(() => {\n    if (users?.length > 0) {\n      setUsersArray(users);\n    }\n  }, [users]);\n\n  useEffect(() => {\n    if (token) {\n      dispatch(getUsers(token));\n    }\n  }, [token, dispatch]);\n  useEffect(() => {\n    const selectedId =\n      selectedRoom.user_id_1 === authUser.id\n        ? selectedRoom.user_id_2\n        : selectedRoom.user_id_1;\n    if (usersArray?.length > 0) {\n      const response = usersArray?.filter((user) => user.id === selectedId);\n      setSelectedUser(response[0]);\n    }\n  }, [usersArray, authUser, selectedRoom]);\n  const [selectedFile, setSelectedFile] = useState(null);\n\n  const [files, setFiles] = useState([]);\n\n  const [message, setMessage] = useState(null);\n\n  const sendMessage = (e) => {\n    if (\n      user?.phone !== null &&\n      user?.phone !== undefined &&\n      user?.phone !== \"\"\n    ) {\n      if (parseInt(balanceDetails?.credit) > 0) {\n        if (message !== null) {\n          if (e.key === \"Enter\" || e.type === \"click\") {\n            const messageData = {\n              from: {\n                phone: authUser.phone,\n                name: authUser.name,\n                avatar: authUser.avatar,\n                socket_id: authUser.socket_id,\n                accountSid: authUser?.accountSid,\n                authToken: authUser?.authToken,\n              },\n              to: {\n                phone: selectedRoom,\n                // name: selectedRoom.firstname + selectedRoom?.lastname,\n                // avatar: selectedRoom.avatar,\n              },\n              // to: \"+923174660027\",\n              user_id: authUser.id,\n              message: message,\n            };\n            if (selectedRoom?.includes(\"+1\") && !a2pVerified) {\n              toast.warn(\n                \"A2P verification is required for conversation in US/Canada.\"\n              );\n            } else {\n              sendTextMessage(messageData);\n            }\n\n            setMessage(null);\n          }\n        } else {\n          toast.error(\"Please write something in the message.\");\n        }\n      } else {\n        toast.error(\"You have insufficient balance to send the message.\");\n      }\n    } else {\n      toast.error(\n        \"Please configure you number first, then you are able to send a message.\"\n      );\n    }\n  };\n  const handleFileChange = (event) => {\n    setSelectedFile(event.target.files[0]);\n  };\n\n  useEffect(() => {\n    document\n      .getElementById(\"dummy_avatar\")\n      .scrollIntoView({ behavior: \"smooth\", block: \"end\" });\n    // Configure AWS\n    AWS.config.update({\n      accessKeyId: process.env.REACT_APP_AWS_ACCESS_KEY,\n      secretAccessKey: process.env.REACT_APP_AWS_SECRET_ACCESS_KEY,\n      region: process.env.REACT_APP_AWS_REGION,\n    });\n\n    // Create S3 service object\n    const s3 = new AWS.S3();\n\n    const fetchObjects = async () => {\n      const params = {\n        Bucket: \"jampackcrm\",\n      };\n      try {\n        const data = await s3.listObjectsV2(params).promise();\n        setFiles(data.Contents);\n      } catch (error) {\n        console.error(\"Error fetching objects:\", error);\n      }\n    };\n\n    fetchObjects();\n  }, []);\n  const downloadFile = async (bucketName, objectKey) => {\n    const s3 = new AWS.S3();\n    const params = {\n      Bucket: bucketName,\n      Key: objectKey,\n    };\n    try {\n      const data = await s3.getObject(params).promise();\n      const url = URL.createObjectURL(new Blob([data.Body]));\n      const link = document.createElement(\"a\");\n      link.href = url;\n      link.setAttribute(\"download\", objectKey);\n      document.body.appendChild(link);\n      link.click();\n      document.body.removeChild(link);\n    } catch (error) {\n      console.error(\"Error downloading file:\", error);\n    }\n  };\n  const getFile = (key) => {\n    const file = files?.filter((fl) => fl.Key === key);\n    return file;\n  };\n  // Function to extract file extension from the file name\n  function getFileExtension(filename) {\n    const resp = filename?.split(\".\").pop().toLowerCase();\n    return resp;\n  }\n  // Function to convert bytes to gigabytes (GB)\n  function bytesToGigabytes(bytes) {\n    return (bytes / (1024 * 1024 * 1024)).toFixed(2);\n  }\n\n  // Function to convert bytes to megabytes (MB)\n  function bytesToMegabytes(bytes) {\n    return (bytes / (1024 * 1024)).toFixed(2);\n  }\n  function extractCharactersFromArray(str) {\n    const firstCharacter = str?.charAt(0);\n    const spaceIndex = str?.indexOf(\" \");\n    const characterAfterSpace =\n      spaceIndex !== -1 ? str.charAt(spaceIndex + 1) : \"\";\n    return { firstCharacter, characterAfterSpace };\n  }\n  const handleCallUser = (phoneNumber) => {\n    const outgoingCall = callingDevice?.connect({ To: phoneNumber });\n    outgoingCall.on(\"accept\", (call) => {\n      console.log(call, \"call accepted\");\n      setShowCall(true);\n      setIsDialerOpen(true);\n      setActiveCall(call);\n      setUserState(\"ON_CALL\");\n      setIsDial(false);\n      setShowContacts(false);\n      setCallStatus(\"STARTED\");\n      setInputValue(phoneNumber);\n      console.log(\"Call accepted\");\n      // Capture callSid from the accepted call\n      const callSid = call.parameters.CallSid;\n      setActiveCallSid(callSid);\n    });\n\n    outgoingCall.on(\"reject\", () => {\n      setShowCall(false);\n      setUserState(\"READY\");\n      // setTimer({ hours: 0, mins: 0, sec: 0 });\n      setIsDial(true);\n      setIsDialerOpen(false);\n      setShowContacts(false);\n      setCallStatus(null);\n\n      console.log(\"Call accepted\");\n    });\n    outgoingCall.on(\"disconnect\", () => {\n      dispatch(\n        updateBalanceAfterCall(token, {\n          accountSid: authUser.accountSid,\n          authToken: authUser.authToken,\n          user_id: authUser.id,\n        })\n      );\n      // setTimer({ hours: 0, mins: 0, sec: 0 });\n      setShowCall(false);\n      setIsDialerOpen(false);\n      setUserState(\"READY\");\n      setIsDial(true);\n      setShowContacts(false);\n      console.log(\"Call disconnected\");\n      setCallStatus(null);\n    });\n  };\n\n  return (\n    <div class=\"chatapp-single-chat\">\n      <header class=\"chat-header\">\n        <a\n          id=\"back_user_list\"\n          class=\"btn btn-sm btn-icon btn-flush-dark btn-rounded flush-soft-hover back-user-list\"\n          href=\"/\"\n        >\n          <span class=\"icon\">\n            <span class=\"feather-icon\">\n              <i data-feather=\"chevron-left\"></i>\n            </span>\n          </span>\n        </a>\n        <div class=\"media\">\n          <div class=\"media-head\">\n            <div class=\"avatar avatar-sm avatar-primary position-relative avatar-rounded\">\n              <span class=\"initial-wrap\">C</span>\n            </div>\n          </div>\n          <div class=\"media-body\">\n            <div class=\"user-name\"> {selectedRoom}</div>\n          </div>\n        </div>\n        <ReactTooltip\n          id=\"call_user_button\"\n          place=\"left\"\n          content=\"Call To User\"\n        />\n        <div\n          className=\"btn btn-primary rounded-circle btn-icon float-end\"\n          style={{ marginRight: \"30%\" }}\n          onClick={() => handleCallUser(selectedRoom)}\n          data-tooltip-id=\"call_user_button\"\n        >\n          <FaPhone className=\"pt-2\" size={20} />\n        </div>\n      </header>\n      <div data-simplebar id=\"chat_body\" class=\"chat-body\">\n        <ul id=\"dummy_avatar\" class=\"list-unstyled chat-single-list\">\n          {selectedMessages?.length > 0 ? (\n            selectedMessages.map((msg, index) =>\n              msg?.from_phone !== authUser?.phone ? (\n                <li class=\"media received\" key={index}>\n                  <div class=\"avatar avatar-sm avatar-primary position-relative avatar-rounded\">\n                    <span class=\"initial-wrap\">\n                      {extractCharactersFromArray(\n                        selectedRoom.firstname + \" \" + selectedRoom.lastname\n                      ).firstCharacter +\n                        extractCharactersFromArray(\n                          selectedRoom.firstname + \" \" + selectedRoom.lastname\n                        ).characterAfterSpace}\n                    </span>\n                  </div>\n\n                  <div class=\"media-body\">\n                    <div class=\"msg-box\">\n                      <div>\n                        {msg?.file_key && (\n                          <button\n                            style={{ border: \"none\", background: \"none\" }}\n                            onClick={() =>\n                              downloadFile(\n                                \"jampackcrm\",\n                                getFile(msg.file_key)[0]?.Key\n                              )\n                            }\n                          >\n                            <FilePreview\n                              fileType={getFileExtension(msg?.file_key)}\n                              fileUrl={`https://s3.eu-west-2.amazonaws.com/jampackcrm/${msg?.file_key}`}\n                            />\n                          </button>\n                        )}\n                        <p>{msg.message}</p>\n                        <span class=\"chat-time\">\n                          {moment(message?.created_at).format(\"h:mm A\")}\n                          <span className=\"float-end\">\n                            {\" \"}\n                            {msg?.file_key &&\n                              (msg?.file_size / (1024 * 1024)).toFixed(2) +\n                                \" mb\"}\n                          </span>\n                        </span>\n                      </div>\n                      <div class=\"msg-action\">\n                        <a\n                          href=\"/\"\n                          class=\"btn btn-icon btn-flush-dark btn-rounded flush-soft-hover no-caret\"\n                        >\n                          <span class=\"icon\">\n                            <span class=\"feather-icon\">\n                              <i data-feather=\"corner-up-right\"></i>\n                            </span>\n                          </span>\n                        </a>\n                        <a\n                          href=\"/\"\n                          class=\"btn btn-icon btn-flush-dark btn-rounded flush-soft-hover dropdown-toggle no-caret\"\n                          data-bs-toggle=\"dropdown\"\n                        >\n                          <span class=\"icon\">\n                            <span class=\"feather-icon\">\n                              <i data-feather=\"more-horizontal\"></i>\n                            </span>\n                          </span>\n                        </a>\n                        <div class=\"dropdown-menu dropdown-menu-end\">\n                          <a class=\"dropdown-item\" href=\"/\">\n                            Forward\n                          </a>\n                          <a class=\"dropdown-item\" href=\"/\">\n                            Copy\n                          </a>\n                        </div>\n                      </div>\n                    </div>\n                  </div>\n                </li>\n              ) : (\n                <li class=\"media sent d-flex\" key={index}>\n                  <div class=\"media-body\" style={{ display: \"flex\" }}>\n                    <div className=\"d-flex\">\n                      <div class=\"msg-box\">\n                        <div>\n                          {msg?.file_key && (\n                            <button\n                              style={{ border: \"none\", background: \"none\" }}\n                              onClick={() =>\n                                downloadFile(\n                                  \"jampackcrm\",\n                                  getFile(msg.file_key)[0]?.Key\n                                )\n                              }\n                            >\n                              <FilePreview\n                                fileType={getFileExtension(msg?.file_key)}\n                                fileUrl={`https://s3.eu-west-2.amazonaws.com/jampackcrm/${msg?.file_key}`}\n                              />\n                            </button>\n                          )}\n                          <p>{msg.message}</p>\n                          <span class=\"chat-time\">\n                            {moment(message?.created_at).format(\"h:mm A\")}\n                            <span className=\"float-end\">\n                              {\" \"}\n                              {msg?.file_key &&\n                                (msg?.file_size / (1024 * 1024)).toFixed(2) +\n                                  \" mb\"}\n                            </span>\n                          </span>\n                        </div>\n                      </div>\n                      <div className=\"\">\n                        {(msg?.sid === null || msg?.status === \"Failed\") && (\n                          <div class=\"media-head\">\n                            <div class=\"avatar avatar-sm avatar-secondary position-relative avatar-rounded\">\n                              <Popup\n                                // open={isDialerOpen}\n                                trigger={\n                                  <button\n                                    className=\"btn btn-icon btn-floating btn-secondary btn-lg btn-rounded shadow-lg\"\n                                    id=\"dialer_button\"\n                                  >\n                                    <FiAlertTriangle\n                                      color=\"red\"\n                                      size={\"24\"}\n                                      style={{ marginTop: \"-15%\" }}\n                                    />\n                                  </button>\n                                }\n                                position=\"bottom right\"\n                              >\n                                <p className=\"\">{msg?.message_error}</p>\n                              </Popup>\n                            </div>\n                          </div>\n                        )}\n                      </div>\n                    </div>\n                  </div>\n                </li>\n              )\n            )\n          ) : (\n            <li> No Messages</li>\n          )}\n\n          {/* <li class=\"media media-attachment received\">\n            <div class=\"avatar avatar-xs avatar-rounded\">\n              <img src=\"dist/img/avatar8.jpg\" alt=\"user\" class=\"avatar-img\" />\n            </div>\n            <div class=\"media-body msg-docs\">\n              <div class=\"msg-box\">\n                <div>\n                  <div class=\"media\">\n                    <div class=\"avatar avatar-icon avatar-sm avatar-blue\">\n                      <span class=\"initial-wrap fs-3\">\n                        <i class=\"ri-file-excel-2-fill\"></i>\n                      </span>\n                    </div>\n                    <div class=\"media-body\">\n                      <p class=\"file-name\">Website_content.xls</p>\n                      <p class=\"file-size\">2,635 KB</p>\n                    </div>\n                  </div>\n                  <div class=\"file-overlay\">\n                    <button class=\"btn btn-sm btn-icon btn-rounded btn-primary\">\n                      <span class=\"icon\">\n                        <span class=\"feather-icon\">\n                          <i data-feather=\"arrow-down\"></i>\n                        </span>\n                      </span>\n                    </button>\n                  </div>\n                </div>\n              </div>\n              <div class=\"msg-box\">\n                <div>\n                  <div class=\"media\">\n                    <div class=\"avatar avatar-icon avatar-sm avatar-warning\">\n                      <span class=\"initial-wrap fs-3\">\n                        <i class=\"ri-file-zip-fill\"></i>\n                      </span>\n                    </div>\n                    <div class=\"media-body\">\n                      <p class=\"file-name\">themeforest-pack.zip</p>\n                      <p class=\"file-size\">2.45 GB</p>\n                    </div>\n                  </div>\n                  <div class=\"file-overlay\">\n                    <button class=\"btn btn-sm btn-icon btn-rounded btn-primary\">\n                      <span class=\"icon\">\n                        <span class=\"feather-icon\">\n                          <i data-feather=\"arrow-down\"></i>\n                        </span>\n                      </span>\n                    </button>\n                  </div>\n                </div>\n                <div class=\"msg-action\">\n                  <a\n                    href=\"/\"\n                    class=\"btn btn-icon btn-flush-dark btn-rounded flush-soft-hover no-caret\"\n                  >\n                    <span class=\"icon\">\n                      <span class=\"feather-icon\">\n                        <i data-feather=\"corner-up-right\"></i>\n                      </span>\n                    </span>\n                  </a>\n\n                  <a\n                    href=\"/\"\n                    class=\"btn btn-icon btn-flush-dark btn-rounded flush-soft-hover dropdown-toggle no-caret\"\n                    data-bs-toggle=\"dropdown\"\n                  >\n                    <span class=\"icon\">\n                      <span class=\"feather-icon\">\n                        <i data-feather=\"more-horizontal\"></i>\n                      </span>\n                    </span>\n                  </a>\n                  <div class=\"dropdown-menu dropdown-menu-end\">\n                    <a class=\"dropdown-item\" href=\"/\">\n                      Forward\n                    </a>\n                    <a class=\"dropdown-item\" href=\"/\">\n                      Copy\n                    </a>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </li>\n          <li class=\"day-sep\">\n            <span>Today</span>\n          </li>\n          <li class=\"media sent\">\n            <div class=\"media-body\">\n              <div class=\"msg-box\">\n                <div>\n                  <p>\n                    Anyways, I am working on something that you would like to\n                    know. This project is based on angular js and you are the\n                    keeda in it. I need you help in it.\n                  </p>\n                  <span class=\"chat-time\">11:52 PM</span>\n                </div>\n                <div class=\"msg-action\">\n                  <a\n                    href=\"/\"\n                    class=\"btn btn-icon btn-flush-dark btn-rounded flush-soft-hover no-caret\"\n                  >\n                    <span class=\"icon\">\n                      <span class=\"feather-icon\">\n                        <i data-feather=\"corner-up-right\"></i>\n                      </span>\n                    </span>\n                  </a>\n                  <a\n                    href=\"/\"\n                    class=\"btn btn-icon btn-flush-dark btn-rounded flush-soft-hover dropdown-toggle no-caret\"\n                    data-bs-toggle=\"dropdown\"\n                  >\n                    <span class=\"icon\">\n                      <span class=\"feather-icon\">\n                        <i data-feather=\"more-horizontal\"></i>\n                      </span>\n                    </span>\n                  </a>\n                  <div class=\"dropdown-menu dropdown-menu-end\">\n                    <a class=\"dropdown-item\" href=\"/\">\n                      Forward\n                    </a>\n                    <a class=\"dropdown-item\" href=\"/\">\n                      Copy\n                    </a>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </li>\n          <li class=\"media media-attachment received\">\n            <div class=\"avatar avatar-xs avatar-rounded\">\n              <img src=\"dist/img/avatar8.jpg\" alt=\"user\" class=\"avatar-img\" />\n            </div>\n            <div class=\"media-body msg-imgs\">\n              <div class=\"msg-box\">\n                <div>\n                  <img\n                    class=\"d-block img-fluid\"\n                    src=\"dist/img/giphy.gif\"\n                    alt=\"gif\"\n                  />\n                </div>\n                <div class=\"msg-action\">\n                  <a\n                    href=\"/\"\n                    class=\"btn btn-icon btn-flush-dark btn-rounded flush-soft-hover no-caret\"\n                  >\n                    <span class=\"icon\">\n                      <span class=\"feather-icon\">\n                        <i data-feather=\"corner-up-right\"></i>\n                      </span>\n                    </span>\n                  </a>\n                  <a\n                    href=\"/\"\n                    class=\"btn btn-icon btn-flush-dark btn-rounded flush-soft-hover dropdown-toggle no-caret\"\n                    data-bs-toggle=\"dropdown\"\n                  >\n                    <span class=\"icon\">\n                      <span class=\"feather-icon\">\n                        <i data-feather=\"more-horizontal\"></i>\n                      </span>\n                    </span>\n                  </a>\n                  <div class=\"dropdown-menu dropdown-menu-end\">\n                    <a class=\"dropdown-item\" href=\"/\">\n                      Forward\n                    </a>\n                    <a class=\"dropdown-item\" href=\"/\">\n                      Copy\n                    </a>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </li>\n          <li class=\"media sent\">\n            <div class=\"media-body\">\n              <div class=\"msg-box\">\n                <div>\n                  <p>\n                    Haha, this joke is hilarious. Is it what your heart feel\n                    about the salary? ðŸ˜\n                  </p>\n                  <span class=\"chat-time\">10:52 PM</span>\n                </div>\n                <div class=\"msg-action\">\n                  <a\n                    href=\"/\"\n                    class=\"btn btn-icon btn-flush-dark btn-rounded flush-soft-hover no-caret\"\n                  >\n                    <span class=\"icon\">\n                      <span class=\"feather-icon\">\n                        <i data-feather=\"corner-up-right\"></i>\n                      </span>\n                    </span>\n                  </a>\n                  <a\n                    href=\"/\"\n                    class=\"btn btn-icon btn-flush-dark btn-rounded flush-soft-hover dropdown-toggle no-caret\"\n                    data-bs-toggle=\"dropdown\"\n                  >\n                    <span class=\"icon\">\n                      <span class=\"feather-icon\">\n                        <i data-feather=\"more-horizontal\"></i>\n                      </span>\n                    </span>\n                  </a>\n                  <div class=\"dropdown-menu dropdown-menu-end\">\n                    <a class=\"dropdown-item\" href=\"/\">\n                      Forward\n                    </a>\n                    <a class=\"dropdown-item\" href=\"/\">\n                      Copy\n                    </a>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </li>\n          <li class=\"media received\">\n            <div class=\"avatar avatar-xs avatar-rounded\">\n              <img src=\"dist/img/avatar8.jpg\" alt=\"user\" class=\"avatar-img\" />\n            </div>\n            <div class=\"media-body\">\n              <div class=\"msg-box\">\n                <div>\n                  <p>\n                    Hey Ben, just a reminder that you are coming for the meeting\n                    today in the conference. We are proposing a change in the\n                    client briefing.\n                  </p>\n                  <span class=\"chat-time\">9:20 AM</span>\n                </div>\n                <div class=\"msg-action\">\n                  <a\n                    href=\"/\"\n                    class=\"btn btn-icon btn-flush-dark btn-rounded flush-soft-hover no-caret\"\n                  >\n                    <span class=\"icon\">\n                      <span class=\"feather-icon\">\n                        <i data-feather=\"corner-up-right\"></i>\n                      </span>\n                    </span>\n                  </a>\n                  <a\n                    href=\"/\"\n                    class=\"btn btn-icon btn-flush-dark btn-rounded flush-soft-hover dropdown-toggle no-caret\"\n                    data-bs-toggle=\"dropdown\"\n                  >\n                    <span class=\"icon\">\n                      <span class=\"feather-icon\">\n                        <i data-feather=\"more-horizontal\"></i>\n                      </span>\n                    </span>\n                  </a>\n                  <div class=\"dropdown-menu dropdown-menu-end\">\n                    <a class=\"dropdown-item\" href=\"/\">\n                      Forward\n                    </a>\n                    <a class=\"dropdown-item\" href=\"/\">\n                      Copy\n                    </a>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </li> */}\n        </ul>\n      </div>\n\n      <footer class=\"chat-footer d-flex gap-2\">\n        <div>\n          <button\n            className=\"btn btn-secondary shadow rounded-circle  float-end\"\n            style={{ width: \"35px\", height: \"35px\" }}\n            onClick={() =>\n              document\n                .getElementById(\"dummy_avatar\")\n                .scrollIntoView({ behavior: \"smooth\", block: \"end\" })\n            }\n          >\n            <FaArrowDown style={{ marginLeft: \"-7px\", marginBottom: \"4px\" }} />\n          </button>\n          {/* <span className=\"badge badge-danger badge-sm rounded-circle w-25 fw-bold\">\n            <span style={{ paddingRight: \"12px\" }}>3</span>\n          </span> */}\n        </div>\n        {/* <div\n          className=\"btn shadow btn-primary rounded-circle btn-file\"\n          style={{ width: \"30px\", height: \"35px\" }}\n        >\n          <FiPaperclip\n            size={17}\n            style={{ marginLeft: \"-8px\", marginBottom: \"6px\" }}\n          />\n          <input type=\"file\" className=\"upload\" onChange={handleFileChange} />\n        </div> */}\n\n        <div class=\"input-group\">\n          <span class=\"input-affix-wrapper\">\n            <input\n              type=\"text\"\n              //   id=\"input_msg_send_chatapp\"\n              name=\"send-msg\"\n              class=\"input-msg-send form-control rounded-input\"\n              placeholder=\"Type your message...\"\n              value={message}\n              onChange={(e) => setMessage(e.target.value)}\n              onKeyUp={(e) => e.key === \"Enter\" && sendMessage(e)}\n            />\n            <span class=\"input-suffix\">\n              <button\n                class=\"btn btn-icon btn-flush-primary btn-rounded btn-send\"\n                onClick={(e) => sendMessage(e)}\n              >\n                <span class=\"icon\">\n                  {/* <span class=\"feather-icon\"></span> */}\n                  <FaArrowAltCircleRight />\n                </span>\n              </button>\n            </span>\n          </span>\n        </div>\n        {/* <button class=\"btn btn-icon btn-flush-dark btn-rounded flush-soft-hover\">\n          <span class=\"icon\">\n            <span class=\"feather-icon\">\n              <i data-feather=\"smile\"></i>\n            </span>\n          </span>\n        </button> */}\n      </footer>\n      <div class=\"chat-info\">\n        <div data-simplebar class=\"nicescroll-bar\">\n          <button type=\"button\" class=\"info-close btn-close\">\n            <span aria-hidden=\"true\">Ã—</span>\n          </button>\n          <div class=\"text-center\">\n            <div class=\"avatar avatar-xxl avatar-rounded\">\n              <img\n                src={\n                  (selectedRoom?.user_id_1 === authUser?.id\n                    ? selectedRoom?.user_image_2\n                    : selectedRoom?.user_image_1) ||\n                  \"https://static.vecteezy.com/system/resources/previews/009/292/244/original/default-avatar-icon-of-social-media-user-vector.jpg\"\n                }\n                alt=\"user\"\n                class=\"avatar-img\"\n              />\n            </div>\n            <div class=\"cp-name text-truncate mt-2\"> {selectedRoom}</div>\n            <p class=\"text-truncate\">No phone calls Always busy</p>\n          </div>\n          {/* \n          <ul class=\"nav nav-justified nav-light nav-tabs nav-segmented-tabs active-theme mt-4\">\n            <li class=\"nav-item\">\n              <a class=\"nav-link active\" data-bs-toggle=\"tab\" href=\"#tab_info\">\n                <span class=\"nav-link-text\">Info</span>\n              </a>\n            </li>\n          </ul> */}\n          <div class=\"tab-content mt-4\">\n            <div class=\"tab-pane fade show active\" id=\"tab_info\">\n              <div class=\"collapse-simple mt-3\">\n                {/* <div class=\"card\">\n                  <div class=\"card-header\">\n                    <a\n                      role=\"button\"\n                      data-bs-toggle=\"collapse\"\n                      href=\"/gn_info\"\n                      aria-expanded=\"true\"\n                    >\n                      General Info\n                    </a>\n                  </div>\n                  <div id=\"gn_info\" class=\"collapse show\">\n                    <div class=\"card-body\">\n                      <ul class=\"cp-info\">\n                        <li className=\"d-flex justify-content-between\">\n                          <span className=\"fw-bold fs-6\">First Name</span>\n                          <span>{selectedRoom?.firstname}</span>\n                        </li>\n                        <li className=\"d-flex justify-content-between\">\n                          <span className=\"fw-bold fs-6\">Middle Name</span>\n                          <span>{selectedRoom?.middlename}</span>\n                        </li>\n                        <li className=\"d-flex justify-content-between\">\n                          <span className=\"fw-bold fs-6\">Last Name</span>\n                          <span>{selectedRoom?.lastname}</span>\n                        </li>\n                        <li className=\"d-flex justify-content-between\">\n                          <span className=\"fw-bold fs-6\">Email</span>\n                          <span>{selectedRoom?.email}</span>\n                        </li>\n                        <li className=\"d-flex justify-content-between\">\n                          <span className=\"fw-bold fs-6\">Phone</span>\n                          <span>{selectedRoom?.phone}</span>\n                        </li>\n                      </ul>\n                    </div>\n                  </div>\n                </div> */}\n                {/* <div class=\"card\">\n                  <div class=\"card-header\">\n                    <a\n                      role=\"button\"\n                      data-bs-toggle=\"collapse\"\n                      href=\"/social_profile\"\n                      aria-expanded=\"true\"\n                    >\n                      Social Profile{\" \"}\n                    </a>\n                  </div>\n                  <div id=\"social_profile\" class=\"collapse show\">\n                    <div class=\"card-body\">\n                      <ul class=\"hk-list hk-list-sm\">\n                        <li>\n                          <button class=\"btn btn-icon btn-rounded btn-primary\">\n                            <span class=\"icon\">\n                              <i class=\"fab fa-behance\"></i>\n                            </span>\n                          </button>\n                        </li>\n                        <li>\n                          <button class=\"btn btn-icon btn-rounded btn-warning\">\n                            <span class=\"icon\">\n                              <i class=\"fab fa-google-drive\"></i>\n                            </span>\n                          </button>\n                        </li>\n                        <li>\n                          <button class=\"btn btn-icon btn-rounded btn-info\">\n                            <span class=\"icon\">\n                              <i class=\"fab fa-dropbox\"></i>\n                            </span>\n                          </button>\n                        </li>\n                        <li>\n                          <button class=\"btn btn-icon btn-rounded btn-dark\">\n                            <span class=\"icon\">\n                              <i class=\"fab fa-github\"></i>\n                            </span>\n                          </button>\n                        </li>\n                        <li>\n                          <button class=\"btn btn-icon btn-rounded btn-danger\">\n                            <span class=\"icon\">\n                              <i class=\"fab fa-google\"></i>\n                            </span>\n                          </button>\n                        </li>\n                      </ul>\n                    </div>\n                  </div>\n                </div> */}\n                {/* <div class=\"card\">\n                  <div class=\"card-header\">\n                    <a\n                      role=\"button\"\n                      data-bs-toggle=\"collapse\"\n                      href=\"/biography\"\n                      aria-expanded=\"true\"\n                    >\n                      Biography{\" \"}\n                    </a>\n                  </div>\n                  <div id=\"biography\" class=\"collapse show\">\n                    <div class=\"card-body\">\n                      <p>No information</p>\n                    </div>\n                  </div>\n                </div>\n                <div class=\"card\">\n                  <div class=\"card-header\">\n                    <a\n                      role=\"button\"\n                      data-bs-toggle=\"collapse\"\n                      href=\"/settings\"\n                      aria-expanded=\"true\"\n                    >\n                      Settings{\" \"}\n                    </a>\n                  </div>\n                  <div id=\"settings\" class=\"collapse show\">\n                    <div class=\"card-body\">\n                      <ul class=\"cp-action\">\n                        <li>\n                          <a href=\"/\">Clear Chat</a>\n                        </li>\n                        <li>\n                          <a href=\"/\">\n                            <span class=\"text-danger\">Block Contact</span>\n                          </a>\n                        </li>\n                        <li>\n                          <a href=\"/\">Somthing's Wrong</a>\n                        </li>\n                      </ul>\n                      <a href=\"/\" class=\"d-block text-dark fs-7 mb-10\">\n                        Give feedback and report conversation\n                      </a>\n                    </div>\n                  </div>\n                </div> */}\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default SingleChat;\n","import React, { useContext, useEffect, useMemo, useState } from \"react\";\nimport ChatAside from \"./components/ChatAside/ChatAside\";\nimport SingleChat from \"./components/Messages/SingleChat\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport io from \"socket.io-client\";\nimport { getMessagesList } from \"../../redux/services/message\";\nimport { SocketContext } from \"../../Context\";\nimport { getConversationsList } from \"../../redux/services/calling\";\n\nconst MessageContent = () => {\n  const socketURL = process.env.REACT_APP_BACKEND_SOCKET_URL_PRODUCTION;\n  const { messagesArray } = useContext(SocketContext);\n  const [selectedMessages, setSelectedMessages] = useState({});\n  const { messages: defaultMessages } = useSelector((state) => state.message);\n  const { conversations } = useSelector((state) => state.calling);\n\n  //Socket connection\n  const socket = useMemo(() => io(socketURL), [socketURL]);\n  const [selectedRoom, setSelectedRoom] = useState(null);\n  const [messages, setMessages] = useState([]);\n  const [contactsData, setContactsData] = useState([]);\n  const { user, token } = useSelector((state) => state.auth);\n  const [a2pVerified, setA2pVerified] = useState(false);\n  const dispatch = useDispatch();\n  useEffect(() => {\n    setMessages(defaultMessages);\n  }, [defaultMessages]);\n  useEffect(() => {\n    dispatch(\n      getConversationsList(token, {\n        authToken: user?.authToken,\n        accountSid: user.accountSid,\n      })\n    );\n    dispatch(getMessagesList(token));\n  }, [token, dispatch, user]);\n  useEffect(() => {\n    setContactsData(conversations);\n  }, [conversations]);\n  useEffect(() => {\n    setMessages(messagesArray);\n    const messagesData =\n      messagesArray?.length > 0 &&\n      messagesArray?.filter(\n        (message) =>\n          (message.from_phone === user?.phone &&\n            message.to_phone === selectedRoom?.to_phone &&\n            message.user_id === user?.id) ||\n          (message.to_phone === user?.phone &&\n            message.from_phone === selectedRoom?.from_phone &&\n            message.user_id === user?.id)\n      );\n    setSelectedMessages(messagesData);\n  }, [messagesArray]);\n  const handleDataFromChild = (data) => {\n    setSelectedRoom(data);\n  };\n  const handleFilterDataFromChild = (data) => {\n    // setRooms(data);\n  };\n  const handleMessagesDataFromChild = (data) => {\n    console.log(\"ðŸš€ ~ handleMessagesDataFromChild ~ data:\", data);\n    setSelectedMessages(data);\n  };\n\n  return (\n    <div>\n      {/* <!-- Main Content --> */}\n      <div class=\"hk-pg-wrapper pb-0\">\n        {/* <!-- Page Body --> */}\n        <div class=\"hk-pg-body py-0\">\n          <div class=\"chatapp-wrap chatapp-info-active\">\n            <div class=\"chatapp-content\">\n              <ChatAside\n                socket={socket}\n                a2pVerified={a2pVerified}\n                rooms={contactsData}\n                messages={messages}\n                onFilterDataFromChild={handleFilterDataFromChild}\n                authUser={user}\n                onDataFromChild={handleDataFromChild}\n                onMessagesDataFromChild={handleMessagesDataFromChild}\n              />\n              {selectedRoom !== null && (\n                <SingleChat\n                  messages={messages}\n                  a2pVerified={a2pVerified}\n                  selectedRoom={selectedRoom}\n                  selectedMessages={selectedMessages}\n                  authUser={user}\n                  socket={socket}\n                />\n              )}\n            </div>\n          </div>\n        </div>\n        {/* <!-- /Page Body --> */}\n      </div>\n      {/* <!-- /Main Content --> */}\n      {/* <!-- /Wrapper --> */}\n    </div>\n  );\n};\n\nexport default MessageContent;\n","import React from \"react\";\nimport Layout from \"../layout/Layout\";\nimport MessageContent from \"./MessageContent\";\n\nconst Mesasge = () => {\n  return (\n    <div>\n      <Layout component={<MessageContent />} />\n    </div>\n  );\n};\n\nexport default Mesasge;\n"],"names":["_ref","content","fileType","fileUrl","fileWidth","_jsx","className","style","maxWidth","src","width","alt","FaFilePdf","FaFileArchive","_jsxs","controls","height","children","type","FaRegFileAlt","color","size","n","backendURL","concat","process","getMessagesList","token","async","dispatch","messageRequestLoading","config","headers","axios","get","then","response","_response$data","console","log","data","statusCode","toast","error","message","invalidRequest","getAllMessages","messagesData","e","getMessagesLogs","post","_response$data2","rooms","onDataFromChild","messages","deleteChatRecord","onMessagesDataFromChild","updateChat","selectedRoom","setSelectedRoom","useState","prevData","setPrevData","roomsData","setRoomsData","isLoading","useSelector","state","calling","useMemo","formatRelativeDate","date","inputDate","Date","today","yesterday","setDate","getDate","toDateString","options","year","month","day","toLocaleDateString","class","role","placeholder","onKeyUp","target","value","undefined","filterData","length","filter","prev","includes","Loader","map","contact","index","messageArray","msg","room","name","lastMessage","onClick","_document$getElementB","to_phone","from_phone","document","getElementById","scrollIntoView","behavior","block","roomClickHandler","phone","created_at","authUser","socket","a2pVerified","MdConnectWithoutContact","_Fragment","href","ChatRooms","selectedMessages","me","call","callUser","sendTextMessage","callingDevice","setShowCall","setIsDialerOpen","setActiveCall","setUserState","setCallStatus","setIsDial","setShowContacts","setActiveCallSid","setInputValue","useContext","SocketContext","selectedUser","setSelectedUser","usersArray","setUsersArray","users","user","balanceDetails","balance","auth","useDispatch","useEffect","getUsers","selectedId","user_id_1","id","user_id_2","selectedFile","setSelectedFile","files","setFiles","setMessage","sendMessage","parseInt","credit","key","messageData","from","avatar","socket_id","accountSid","authToken","to","user_id","warn","AWS","update","accessKeyId","secretAccessKey","region","s3","params","Bucket","listObjectsV2","promise","Contents","fetchObjects","downloadFile","bucketName","objectKey","Key","getObject","url","URL","createObjectURL","Blob","Body","link","createElement","setAttribute","body","appendChild","click","removeChild","getFile","fl","getFileExtension","filename","split","pop","toLowerCase","extractCharactersFromArray","str","firstCharacter","charAt","spaceIndex","indexOf","characterAfterSpace","ReactTooltip","place","marginRight","phoneNumber","outgoingCall","connect","To","on","callSid","parameters","CallSid","updateBalanceAfterCall","handleCallUser","FaPhone","firstname","lastname","file_key","border","background","_getFile$","FilePreview","moment","format","file_size","toFixed","display","_getFile$2","sid","status","Popup","trigger","FiAlertTriangle","marginTop","position","message_error","FaArrowDown","marginLeft","marginBottom","onChange","FaArrowAltCircleRight","user_image_2","user_image_1","MessageContent","socketURL","messagesArray","setSelectedMessages","defaultMessages","conversations","io","setMessages","contactsData","setContactsData","setA2pVerified","getConversationsList","ChatAside","onFilterDataFromChild","SingleChat","Mesasge","Layout","component"],"sourceRoot":""}