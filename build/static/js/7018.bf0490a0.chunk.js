"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[7018],{50818:(e,l,n)=>{n.d(l,{Z:()=>o});var a=n(72791),t=n(61134),s=n(80184);const i=a.forwardRef(((e,l)=>{const{field:n}=(0,t.bc)(e),{label:a,style:i,defaultValue:o,disabled:d}=e;return(0,s.jsx)(s.Fragment,{children:(0,s.jsx)(t.Qr,{name:null===e||void 0===e?void 0:e.name,control:null===e||void 0===e?void 0:e.control,rules:null===e||void 0===e?void 0:e.rules,defaultValue:o,render:t=>{let{field:{onChange:o,value:r}}=t;return(0,s.jsxs)("div",{className:" form-check form-check-md ",children:[(0,s.jsx)("label",{className:"form-check-lable",children:a}),(0,s.jsx)("input",{...n,ref:l,checked:"1"===n.value||!0===n.value,type:"checkbox",disabled:d,onChange:l=>{o(l.target.checked),e.onChange&&e.onChange(l)},style:i||{},className:"form-check-input"})]})}})})}));i.displayName="Checkbox";const o=i},23713:(e,l,n)=>{var a=n(72791),t=n(61134),s=n(763),i=n.n(s),o=n(28172),d=n(80184);const r=a.forwardRef(((e,l)=>{const[n,s]=(0,a.useState)([]),[r,c]=(0,a.useState)({}),[u,h]=(0,a.useState)({}),{title:v,style:m,label:x,type:j,errors:p,defaultValue:b,onChange:g,onFocus:f,onBlur:N,menuPlacement:k,ellipses:y,value:C,placeHolder:S,...w}=e,{field:D,fieldState:P,formState:F}=(0,t.bc)(e);let R=i().get(p,e.name);return(0,d.jsxs)("div",{className:"mb-5",children:[(0,d.jsx)(t.Qr,{name:null===e||void 0===e?void 0:e.name,rules:null===e||void 0===e?void 0:e.rules,control:null===e||void 0===e?void 0:e.control,defaultValue:b,render:l=>{let{field:{onChange:n}}=l;return(0,d.jsxs)(d.Fragment,{children:[x&&(0,d.jsx)("label",{for:null===e||void 0===e?void 0:e.name,class:"block mb-2 text-sm font-bold text-gray-900 dark:text-white",children:x}),(0,d.jsx)(o.uq,{projectId:"CRM",handleCountryChange:e=>{c(e),n(null===e||void 0===e?void 0:e.code)},handleStateChange:e=>h(e),children:(0,d.jsx)(o.Dz,{label:"Country/Territory",style:{height:"10px"}})})]})}}),e.rules&&R&&e.rules&&null!==R&&void 0!==R&&R.message?(0,d.jsx)("p",{className:" fs-6 p-1 text-danger",id:"email-error",children:e.rules&&R&&e.rules&&(null===R||void 0===R?void 0:R.message)}):""]})}));r.displayName="ReactCountryField"},61275:(e,l,n)=>{n.d(l,{Z:()=>d});var a=n(72791),t=n(96048),s=n.n(t),i=n(12202),o=n(80184);const d=function(e){let{itemsPerPage:l,items:n,dataFromChild:t}=e;const d=(0,a.useRef)(),[r,c]=(0,a.useState)(0),u=r+l,h=null===n||void 0===n?void 0:n.slice(r,u),v=Math.ceil(n.length/l);return console.log(d.current,h,h!==d.current),(0,a.useEffect)((()=>{(async()=>{await new Promise((e=>setTimeout(e,1e3))),((e,l)=>{if((null===e||void 0===e?void 0:e.length)!==(null===l||void 0===l?void 0:l.length))return!1;for(let n=0;n<e.length;n++)if(e[n]!==l[n])return!1;return!0})(h,d.current)||(t(h),d.current=h)})()}),[h,d,t]),(0,o.jsx)(o.Fragment,{children:(0,o.jsx)("div",{style:{display:"flex",flexDirection:"column",justifyContent:"center",boxSizing:"border-box",width:"100%",height:"100px"},children:(0,o.jsx)(s(),{breakClassName:"item break-me ",containerClassName:"d-flex justify-content-center",disabledClassName:"disabled-page",marginPagesDisplayed:2,nextClassName:"arrows btn btn-light ",pageClassName:"item pagination-page ",previousClassName:"arrows btn btn-light",nextLabel:(0,o.jsx)(i.anP,{}),previousLabel:(0,o.jsx)(i.RZx,{}),breakLabel:"...",onPageChange:e=>{const n=e.selected*l;console.log("User requested page number ".concat(e.selected+1,", which is offset ").concat(n)),c(n),t(h)},pageRangeDisplayed:5,pageCount:v,renderOnZeroPageCount:null,activeClassName:"pagination_active"})})})}},57018:(e,l,n)=>{n.r(l),n.d(l,{default:()=>b});var a=n(72791),t=n(34855),s=n(80184);const i=()=>(0,s.jsx)("header",{className:"contact-header",children:(0,s.jsx)("div",{className:"d-flex align-items-center",children:(0,s.jsx)("div",{className:"dropdown",children:(0,s.jsx)("a",{className:"contactapp-title dropdown-toggle link-dark",role:"button",children:(0,s.jsx)("h1",{children:"Call History and Recording"})})})})});var o=n(94420),d=n(22316),r=n(72426),c=n.n(r),u=n(61134),h=(n(23713),n(50818),n(45523),n(49923)),v=n(41706);const m=e=>{let{token:l,user:n,dispatch:t}=e;const{handleSubmit:i,watch:d,control:r,reset:c,setValue:m,formState:{errors:x}}=(0,u.cI)({}),{claimedNumbers:j}=(0,o.v9)((e=>e.calling)),[p,b]=(0,a.useState)(""),g=d("search_criteria");(0,a.useEffect)((()=>{void 0!==g&&b(null===g||void 0===g?void 0:g.value)}),[g]);return(0,s.jsxs)("form",{onSubmit:i((e=>{var a;const s={phoneNumber:null===e||void 0===e||null===(a=e.phoneNumber)||void 0===a?void 0:a.value,authToken:n.authToken,accountSid:n.accountSid};t((0,v.ck)(l,s))})),children:[(0,s.jsx)("div",{className:"bg-primary px-4 py-2 m-2 rounded mb-5",children:(0,s.jsx)("h5",{className:"pt-2 fw-bold",style:{color:"white"},children:"Search Logs"})}),(0,s.jsxs)("div",{className:"m-5",children:[(0,s.jsx)("div",{className:"row",children:(0,s.jsx)("div",{className:"col-md-4 col-sm-6",children:(0,s.jsx)(h.Z,{name:"phoneNumber",placeholder:"Phone Number",control:r,errors:x,options:(null===j||void 0===j?void 0:j.length)>0?null===j||void 0===j?void 0:j.map(((e,l)=>({label:null===e||void 0===e?void 0:e.friendlyName,value:null===e||void 0===e?void 0:e.phoneNumber}))):[]})})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("button",{onClick:()=>{const e={authToken:n.authToken,accountSid:n.accountSid};t((0,v.ck)(l,e)),c()},type:"button",className:"btn btn-secondary",children:"Reset"}),(0,s.jsx)("button",{className:"btn btn-primary",children:"Submit"})]})]})]})};n(763);const x=e=>{let{isEdit:l,recordingsData:n,dispatch:a,user:t,token:i}=e;const{isLoading:r}=(0,o.v9)((e=>e.calling));return(0,s.jsxs)("div",{className:"contact-list-view",children:[(0,s.jsx)(m,{user:t,token:i,dispatch:a}),!l&&(0,s.jsx)(s.Fragment,{children:r?(0,s.jsx)(d.Z,{}):(0,s.jsxs)("table",{"data-sticky-header":!0,className:"table table-responsive w-100 mb-5",children:[(0,s.jsx)("thead",{className:"table-primary shadow-lg",children:(0,s.jsxs)("tr",{className:"sticky-top border rounded",children:[(0,s.jsx)("th",{children:"Date"}),(0,s.jsx)("th",{children:"From"}),(0,s.jsx)("th",{children:"To"}),(0,s.jsx)("th",{children:"Status"}),(0,s.jsx)("th",{children:"Duration"}),(0,s.jsx)("th",{children:"Direction"}),(0,s.jsx)("th",{children:"Recording"}),(0,s.jsx)("th",{children:"Price"})]})}),(0,s.jsx)("tbody",{children:(null===n||void 0===n?void 0:n.length)>0&&(null===n||void 0===n?void 0:n.map(((e,l)=>{var a,t,i,o,d,r,u,h,v,m,x,j,p,b,g;return(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{children:c()(null===e||void 0===e||null===(a=e.call)||void 0===a?void 0:a.dateCreated).format("HH:mm:ss YYYY-MM-DD")}),(0,s.jsx)("td",{children:null===e||void 0===e||null===(t=e.call)||void 0===t?void 0:t.from}),(0,s.jsx)("td",{children:null!==e&&void 0!==e&&null!==(i=e.call)&&void 0!==i&&null!==(o=i.from)&&void 0!==o&&o.includes("client")?null===(d=n[l-1])||void 0===d||null===(r=d.call)||void 0===r?void 0:r.to:null===e||void 0===e||null===(u=e.call)||void 0===u?void 0:u.to}),(0,s.jsx)("td",{children:null===e||void 0===e||null===(h=e.call)||void 0===h?void 0:h.status}),(0,s.jsxs)("td",{children:[null===e||void 0===e||null===(v=e.call)||void 0===v?void 0:v.duration," sec"]}),(0,s.jsx)("td",{children:null!==e&&void 0!==e&&null!==(m=e.call)&&void 0!==m&&null!==(x=m.from)&&void 0!==x&&x.includes("client")?"outbound-dial":null===e||void 0===e||null===(j=e.call)||void 0===j?void 0:j.direction}),(0,s.jsx)("td",{children:null!==e&&void 0!==e&&null!==(p=e.recording)&&void 0!==p&&p.mediaUrl?(0,s.jsx)("audio",{controls:!0,className:"custom-audio-player",children:(0,s.jsx)("source",{src:null===e||void 0===e||null===(b=e.recording)||void 0===b?void 0:b.mediaUrl,type:"audio/x-wav"})}):(0,s.jsx)("p",{children:"nill"})}),(0,s.jsx)("td",{children:2*parseFloat(null===e||void 0===e||null===(g=e.call)||void 0===g?void 0:g.price)||0})]},l)})))})]})})]})};var j=n(61275);const p=()=>{const{handleSubmit:e,watch:l,control:n,setValue:t,formState:{errors:d}}=(0,u.cI)({}),[r,c]=(0,a.useState)([]),[h,m]=(0,a.useState)([]),[p,b]=(0,a.useState)([]),[g,f]=(0,a.useState)([]),[N,k]=(0,a.useState)(!1),{availableNumbers:y,callLogs:C,recordings:S}=(0,o.v9)((e=>e.calling)),{token:w,accountSid:D,accountAuthToken:P,user:F}=(0,o.v9)((e=>e.auth)),R=(0,o.I0)();(0,a.useMemo)((()=>{R((0,v.ck)(w,{accountSid:D,authToken:P}))}),[w,R,P,D]),(0,a.useEffect)((()=>{c(C),m(C)}),[C,S]);return(0,s.jsx)("div",{className:"hk-pg-wrapper pb-0",children:(0,s.jsx)("div",{className:"hk-pg-body py-0",children:(0,s.jsx)("div",{className:"contactapp-wrap",children:(0,s.jsx)("div",{className:"contactapp-content",children:!N&&(0,s.jsxs)("div",{className:"contactapp-detail-wrap",children:[(0,s.jsx)(i,{}),(0,s.jsx)("div",{className:"contact-body",children:(0,s.jsxs)("div",{"data-simplebar":!0,className:"nicescroll-bar",children:[(0,s.jsx)(x,{contactsData:p,isEdit:N,recordingsData:r,dispatch:R,token:w,user:F}),(0,s.jsx)("div",{children:(0,s.jsx)(j.Z,{itemsPerPage:20,dataFromChild:e=>{console.log("\ud83d\ude80 ~ handleDataFromPagination ~ data:",e),c(e)},items:h})})]})})]})})})})})},b=()=>(0,s.jsx)(t.Z,{component:(0,s.jsx)(p,{})})}}]);
//# sourceMappingURL=7018.bf0490a0.chunk.js.map