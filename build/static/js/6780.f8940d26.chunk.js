"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[6780],{58510:(e,a,s)=>{s.d(a,{A:()=>o});var t=s(82483),l=s(23080),n=s(56723);const d=t.forwardRef(((e,a)=>{const{field:s}=(0,l.as)(e),{label:t,style:d,defaultValue:o,disabled:i}=e;return(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(l.xI,{name:null===e||void 0===e?void 0:e.name,control:null===e||void 0===e?void 0:e.control,rules:null===e||void 0===e?void 0:e.rules,defaultValue:o,render:l=>{let{field:{onChange:o,value:c}}=l;return(0,n.jsxs)("div",{className:" form-check form-check-md ",children:[(0,n.jsx)("label",{className:"form-check-lable",children:t}),(0,n.jsx)("input",{...s,ref:a,checked:"1"===s.value||!0===s.value,type:"checkbox",disabled:i,onChange:a=>{o(a.target.checked),e.onChange&&e.onChange(a)},style:d||{},className:"form-check-input"})]})}})})}));d.displayName="Checkbox";const o=d},6732:(e,a,s)=>{s.d(a,{A:()=>i});var t=s(82483),l=s(30109),n=s.n(l),d=s(28846),o=s(56723);const i=function(e){let{itemsPerPage:a,items:s,dataFromChild:l}=e;const i=(0,t.useRef)(),[c,r]=(0,t.useState)(0),m=c+a,h=null===s||void 0===s?void 0:s.slice(c,m),u=Math.ceil(s.length/a);return console.log(i.current,h,h!==i.current),(0,t.useEffect)((()=>{(async()=>{await new Promise((e=>setTimeout(e,1e3))),((e,a)=>{if((null===e||void 0===e?void 0:e.length)!==(null===a||void 0===a?void 0:a.length))return!1;for(let s=0;s<e.length;s++)if(e[s]!==a[s])return!1;return!0})(h,i.current)||(l(h),i.current=h)})()}),[h,i,l]),(0,o.jsx)(o.Fragment,{children:(0,o.jsx)("div",{style:{display:"flex",flexDirection:"column",justifyContent:"center",boxSizing:"border-box",width:"100%",height:"100px"},children:(0,o.jsx)(n(),{breakClassName:"item break-me ",containerClassName:"d-flex justify-content-center",disabledClassName:"disabled-page",marginPagesDisplayed:2,nextClassName:"arrows btn btn-light ",pageClassName:"item pagination-page ",previousClassName:"arrows btn btn-light",nextLabel:(0,o.jsx)(d.l_J,{}),previousLabel:(0,o.jsx)(d.U_G,{}),breakLabel:"...",onPageChange:e=>{const s=e.selected*a;console.log("User requested page number ".concat(e.selected+1,", which is offset ").concat(s)),r(s),l(h)},pageRangeDisplayed:5,pageCount:u,renderOnZeroPageCount:null,activeClassName:"pagination_active"})})})}},36407:(e,a,s)=>{s.d(a,{A:()=>d});var t=s(1250),l=s(9190),n=s.n(l);const d=function(e){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"contacts.csv";const s=n().unparse(e),l=new Blob([s],{type:"text/csv;charset=utf-8;"});(0,t.saveAs)(l,a)}},2942:(e,a,s)=>{s.d(a,{Be:()=>i,Q0:()=>o,dA:()=>c,mB:()=>r,w1:()=>m});var t=s(11222),l=s(82393),n=s(73422);const d="".concat("https://desktopcrm.com:51/v1"),o=(e,a)=>async s=>{try{s((0,l.o7)());const o={headers:{"Content-Type":"application/json","x-access-token":e}};await t.A.post("".concat(d,"/user/board/post-board"),a,o).then((a=>{var t;if(200!==(null===a||void 0===a||null===(t=a.data)||void 0===t?void 0:t.statusCode))return n.oR.error(a.data.message),s((0,l.xk)(a.data.message));s((0,l.EP)(a.data.message)),n.oR.success(a.data.message),s(i(e))}))}catch(o){s((0,l.xk)(o.message))}},i=e=>async a=>{try{a((0,l.o7)());const s={headers:{"Content-Type":"application/json","x-access-token":e}};await t.A.get("".concat(d,"/user/board/get-boards"),s).then((e=>{var s;if(console.log("\ud83d\ude80 ~ .then ~ response:",e),200!==(null===e||void 0===e||null===(s=e.data)||void 0===s?void 0:s.statusCode))return n.oR.error(e.data.message),a((0,l.xk)(e.data.message));a((0,l.DQ)(e.data.data.boardsData))}))}catch(s){a((0,l.xk)(s.message))}},c=(e,a)=>async s=>{try{s((0,l.o7)());const o={headers:{"Content-Type":"application/json","x-access-token":e}};await t.A.get("".concat(d,"/user/board/board-details/").concat(a),o).then((e=>{var a;if(console.log("\ud83d\ude80 ~ .then ~ response:",e),200!==(null===e||void 0===e||null===(a=e.data)||void 0===a?void 0:a.statusCode))return n.oR.error(e.data.message),s((0,l.xk)(e.data.message));s((0,l.JT)(e.data.data.boardData))}))}catch(o){s((0,l.xk)(o.message))}},r=(e,a,s)=>async o=>{try{o((0,l.o7)());const c={headers:{"Content-Type":"application/json","x-access-token":e}};await t.A.put("".concat(d,"/user/board/board-update/").concat(a),s,c).then((a=>{var s;if(console.log("\ud83d\ude80 ~ .then ~ response:",a),200!==(null===a||void 0===a||null===(s=a.data)||void 0===s?void 0:s.statusCode))return n.oR.error(a.data.message),o((0,l.xk)(a.data.message));o((0,l._y)(a.data.message)),o(i(e))}))}catch(c){o((0,l.xk)(c.message))}},m=(e,a)=>async s=>{try{s((0,l.o7)());const o={headers:{"Content-Type":"application/json","x-access-token":e}};await t.A.delete("".concat(d,"/user/board/delete-board/").concat(a),o).then((a=>{var t;if(console.log("\ud83d\ude80 ~ .then ~ response:",a),200!==(null===a||void 0===a||null===(t=a.data)||void 0===t?void 0:t.statusCode))return n.oR.error(a.data.message),s((0,l.xk)(a.data.message));s((0,l.WD)(a.data.message)),s(i(e)),n.oR.success(a.data.message)}))}catch(o){s((0,l.xk)(o.message))}}},21480:(e,a,s)=>{s.r(a),s.d(a,{default:()=>W});var t=s(82483),l=s(16575),n=s(28846),d=s(91965),o=s(99492),i=s(33287),c=s(56723);const r=e=>{let{onSendData:a,contactsData:s,onToggleEdit:l}=e;const{contacts:r}=(0,d.d4)((e=>e.contact)),[m,h]=(0,t.useState)("all"),{handleToggleShowLeadDetail:u}=(0,t.useContext)(o.d);return(0,c.jsxs)("nav",{className:"contactapp-sidebar",children:[(0,c.jsx)("div",{"data-simplebar":!0,className:"nicescroll-bar",children:(0,c.jsxs)("div",{className:"menu-content-wrap",children:[(0,c.jsx)("button",{type:"button",className:"btn btn-primary btn-rounded btn-block mb-4","data-bs-toggle":"modal","data-bs-target":"#add_new_contact",children:"Add new contact"}),(0,c.jsx)("div",{className:"menu-group p-1",children:(0,c.jsxs)("ul",{className:"nav nav-light navbar-nav flex-column",children:[(0,c.jsx)("li",{id:"all_contacts",className:"nav-item ".concat("all"===m?"active":""),children:(0,c.jsxs)("button",{onClick:()=>{const e=r.filter((e=>"blocked"!==e.status&&"archived"!==e.status));h("all"),u(!1),a(e)},className:"nav-link btn-block",children:[(0,c.jsx)("span",{className:"nav-icon-wrap",children:(0,c.jsx)("span",{className:"feather-icon",children:(0,c.jsx)(n.NPF,{})})}),(0,c.jsx)("span",{className:"nav-link-text",children:"All Contacts"})]})}),(0,c.jsx)("li",{className:"nav-item ".concat("important"===m?"active":""),children:(0,c.jsxs)("button",{className:"nav-link btn-block",onClick:()=>{const e=r.filter((e=>"important"===e.status));h("important"),u(!1),a(e)},children:[(0,c.jsx)("span",{className:"nav-icon-wrap",children:(0,c.jsx)("span",{className:"feather-icon",children:(0,c.jsx)(n.gt3,{})})}),(0,c.jsx)("span",{className:"nav-link-text",children:"Important"})]})}),(0,c.jsx)("li",{className:"nav-item ".concat("archived"===m?"active":""),children:(0,c.jsxs)("button",{className:"nav-link btn-block",onClick:()=>{const e=r.filter((e=>"archived"===e.status));h("archived"),u(!1),a(e)},children:[(0,c.jsx)("span",{className:"nav-icon-wrap",children:(0,c.jsx)("span",{className:"feather-icon",children:(0,c.jsx)(n.Wlj,{})})}),(0,c.jsx)("span",{className:"nav-link-text",children:"Archive"})]})}),(0,c.jsx)("li",{className:"nav-item ".concat("blocked"===m?"active":""),children:(0,c.jsxs)("button",{id:"deleted_contacts",onClick:()=>{const e=s.filter((e=>"blocked"===e.status));h("blocked"),a(e),u(!1),l(!1)},className:"nav-link btn-block",children:[(0,c.jsx)("span",{className:"nav-icon-wrap",children:(0,c.jsx)("span",{className:"feather-icon",children:(0,c.jsx)(i.PXm,{})})}),(0,c.jsx)("span",{className:"nav-link-text",children:"Blocked"})]})})]})})]})}),(0,c.jsx)("div",{className:"contactapp-fixednav",children:(0,c.jsx)("div",{className:"hk-toolbar"})})]})},m=e=>{let{onDataFromChild:a,activeBar:s}=e;return(0,c.jsxs)("header",{className:"contact-header",children:[(0,c.jsx)("div",{className:"d-flex align-items-center",children:(0,c.jsx)("span",{className:"fs-5 fw-bold",children:"Contacts"})}),(0,c.jsxs)("div",{className:"contact-options-wrap",children:[(0,c.jsx)("a",{className:"btn btn-icon btn-flush-dark flush-soft-hover dropdown-toggle no-caret active","data-bs-toggle":"dropdown",children:(0,c.jsx)("span",{className:"icon",children:(0,c.jsx)("span",{className:"feather-icon",children:(0,c.jsx)(n.svy,{})})})}),(0,c.jsxs)("div",{className:"dropdown-menu dropdown-menu-end",children:[(0,c.jsxs)("a",{className:"dropdown-item ".concat("list"===s?"active":""),onClick:()=>a("list"),children:[(0,c.jsx)("span",{className:"feather-icon dropdown-icon",children:(0,c.jsx)(n.svy,{})}),(0,c.jsx)("span",{children:"List View"})]}),(0,c.jsxs)("a",{className:"dropdown-item ".concat("grid"===s?"active":""),onClick:()=>a("grid"),children:[(0,c.jsx)("span",{className:"feather-icon dropdown-icon",children:(0,c.jsx)(n.tSG,{})}),(0,c.jsx)("span",{children:"Grid View"})]})]}),(0,c.jsx)("div",{className:"v-separator d-lg-block d-none"})]})]})};var h=s(7874),u=s(710),v=s(94690),x=s.n(v),p=s(58510),b=s(23080),j=s(93970),g=s(73422),f=s(36407),N=s(56244),y=s(48985),k=s(84866),w=s(8578);const C=e=>{let{contactsData:a,onToggleEdit:s,isEdit:l}=e;const{handleSubmit:r,watch:m,control:v,setValue:C,formState:{errors:_}}=(0,b.mN)({}),{handleToggleShowLeadDetail:S,setContactsToModify:A,contactsToModify:D}=(0,t.useContext)(o.d),T=(0,d.wA)(),{token:E}=(0,d.d4)((e=>e.auth)),{isLoading:P}=(0,d.d4)((e=>e.contact)),[q,F]=(0,t.useState)(null),[B,M]=(0,t.useState)();(0,t.useEffect)((()=>{M(a)}),[a]);const R=e=>{T((0,h.aA)(E,e)),s(!1)},L=e=>{S(!0,e,E)},V=(e,a)=>{T((0,h.Mc)(E,e,{status:a}))},I=e=>{T((0,h.ET)(E,e)),s(!1)};return(0,c.jsxs)("div",{className:"contact-list-view",style:{height:"100vh",overflow:"scroll"},children:[(0,c.jsx)("div",{className:"",children:(0,c.jsx)("div",{className:"p-2",children:(0,c.jsxs)("div",{class:"btn-toolbar",role:"toolbar","aria-label":"Add to pipeline",children:[(0,c.jsx)(y.m_,{id:"add_to_pipeline",place:"bottom",content:"Add to pipeline"}),(0,c.jsx)(y.m_,{id:"add_to_important",place:"bottom",content:"Add to important"}),(0,c.jsx)(y.m_,{id:"add_to_archive",place:"bottom",content:"Add to archive"})," ",(0,c.jsx)(y.m_,{id:"send_sms_bulk",place:"bottom",content:"Send sms bulk"}),(0,c.jsx)(y.m_,{id:"send_bulk_email",place:"bottom",content:"Send email bulk"}),(0,c.jsx)(y.m_,{id:"import",place:"bottom",content:"Import contacts"}),(0,c.jsx)(y.m_,{id:"export",place:"bottom",content:"Export contacts"}),(0,c.jsx)(y.m_,{id:"trash",place:"bottom",content:"Delete contacts"}),(0,c.jsxs)("div",{className:"d-flex justify-content-between w-100",children:[(0,c.jsxs)("div",{className:"d-flex gap-2 w-50",children:[(0,c.jsx)("button",{type:"button","data-tooltip-id":"add_to_pipeline",class:"btn btn-light btn-sm","data-bs-toggle":"modal","data-bs-target":"#edit-bulk-contact",children:(0,c.jsx)(N.y_E,{size:15})}),(0,c.jsx)("button",{type:"button",class:"btn btn-light btn-sm","data-tooltip-id":"add_to_important",onClick:()=>{if((null===D||void 0===D?void 0:D.length)>0){const e=[];null===D||void 0===D||D.map((a=>{e.push({...a,status:"important"})}));const a={updates:e,modify_key:"status"};T((0,h.ij)(E,a))}else g.oR.error("Please select at least one contact.")},children:(0,c.jsx)(n.wei,{size:14})}),(0,c.jsx)("button",{type:"button","data-tooltip-id":"add_to_archive",class:"btn btn-light btn-sm",onClick:()=>{if((null===D||void 0===D?void 0:D.length)>0){const e=[];null===D||void 0===D||D.map((a=>{e.push({...a,status:"archieved"})}));const a={updates:e,modify_key:"status"};T((0,h.ij)(E,a))}else g.oR.error("Please select at least one contact.")},children:(0,c.jsx)(N.cf8,{size:14})}),(0,c.jsx)("button",{type:"button",class:"btn btn-light btn-sm","data-bs-toggle":"modal","data-bs-target":"#send-sms-bulk","data-tooltip-id":"send_sms_bulk",children:(0,c.jsx)(j.ljw,{size:14})}),(0,c.jsx)("button",{type:"button",class:"btn btn-light btn-sm","data-tooltip-id":"trash",onClick:()=>{if((null===D||void 0===D?void 0:D.length)>0){const e=[];null===D||void 0===D||D.map((a=>{e.push({...a})}));const a={updates:e,modify_key:"contact_delete"};T((0,h.ij)(E,a))}else g.oR.error("Please select at least one contact.")},children:(0,c.jsx)(w.GDL,{size:14})}),(0,c.jsx)("button",{type:"button",class:"btn btn-light btn-sm","data-tooltip-id":"send_bulk_email",children:(0,c.jsx)(j.Lj6,{size:14})}),(0,c.jsx)("button",{type:"button","data-tooltip-id":"import","data-bs-toggle":"modal","data-bs-target":"#upload_contact_csv",class:"btn btn-light btn-sm",children:(0,c.jsx)(N.xDZ,{size:14})}),(0,c.jsx)("button",{type:"button",class:"btn btn-light btn-sm","data-tooltip-id":"export",onClick:()=>{(0,f.A)(a,"contacts.csv")},children:(0,c.jsx)(k.w4m,{size:14})})]}),(0,c.jsxs)("div",{children:[(0,c.jsxs)("div",{class:"input-group",children:[(0,c.jsx)("input",{type:"text",class:"form-control",placeholder:"Search Contact","aria-label":"Recipient's username","aria-describedby":"basic-addon2",onChange:e=>{F(e.target.value)}}),(0,c.jsx)("div",{class:"input-group-append",children:(0,c.jsx)("button",{class:"btn btn-outline-primary",type:"button",onClick:()=>{const e=null===a||void 0===a?void 0:a.filter((e=>e.firstname.includes(q)));console.log("\ud83d\ude80 ~ handleSearchContact ~ filterData:",e),M(e)},children:"Search"})})]})," "]})]})]})})}),!l&&(0,c.jsx)(c.Fragment,{children:P?(0,c.jsx)(u.A,{}):(0,c.jsxs)("table",{className:"table w-100 mb-5",children:[(0,c.jsx)("thead",{children:(0,c.jsxs)("tr",{children:[(0,c.jsx)("th",{className:"",children:(0,c.jsx)("div",{className:"px-2",children:(0,c.jsx)(p.A,{name:"bulk",control:v,errors:_,onChange:e=>{e.target.checked?(null===a||void 0===a||a.map((e=>C("contact-".concat(e.id),!0))),A(a)):(null===a||void 0===a||a.map((e=>C("contact-".concat(e.id),!1))),A([]))}})})}),(0,c.jsx)("th",{children:"Name"}),(0,c.jsx)("th",{children:"Email Address"}),(0,c.jsx)("th",{children:"Phone"}),(0,c.jsx)("th",{children:"Date Created"}),(0,c.jsx)("th",{children:"Actions"})]})}),(0,c.jsx)("tbody",{children:(null===B||void 0===B?void 0:B.length)>0&&(null===B||void 0===B?void 0:B.map((e=>(0,c.jsxs)("tr",{children:[(0,c.jsx)("td",{children:(0,c.jsx)("div",{className:"px-2",children:(0,c.jsx)(p.A,{name:"contact-".concat(e.id),control:v,errors:_,onChange:a=>((e,a)=>{!0===e.target.checked?A((e=>[...e,a])):A((e=>e.filter((e=>e.id!==a.id))))})(a,e)})})}),(0,c.jsx)("td",{className:"d-flex",children:(0,c.jsxs)("div",{className:"media align-items-center",children:[(0,c.jsx)("div",{className:"media-head me-2",children:(0,c.jsx)("div",{className:"avatar avatar-xs avatar-rounded",children:(0,c.jsx)("img",{src:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQj0HSlpGrcoSJqHfu9TPqo_WhhuWwq8t8zb5lbp5ES8w&s",alt:"user",className:"avatar-img"})})}),(0,c.jsx)("div",{className:"media-body",style:{cursor:"pointer"},children:(0,c.jsx)("a",{className:" ",onClick:()=>L(null===e||void 0===e?void 0:e.id),children:(0,c.jsx)("span",{className:"d-block text-high-em text-primary border-bottom",style:{width:"max-content"},children:(null===e||void 0===e?void 0:e.firstname)+" "+(null===e||void 0===e?void 0:e.middlename)+" "+(null===e||void 0===e?void 0:e.lastname)+" "})})})]})}),(0,c.jsx)("td",{className:"text-truncate",children:null===e||void 0===e?void 0:e.email}),(0,c.jsx)("td",{children:null===e||void 0===e?void 0:e.phone}),(0,c.jsx)("td",{children:x()(null===e||void 0===e?void 0:e.created_at).format("DD MMM, YYYY")}),(0,c.jsx)("td",{children:(0,c.jsx)("div",{className:"d-flex align-items-center",children:(0,c.jsxs)("div",{className:"d-flex",children:[(0,c.jsx)("a",{className:"btn btn-icon btn-flush-dark btn-rounded flush-soft-hover","data-bs-toggle":"tooltip","data-placement":"top",title:"","data-bs-original-title":"Archive",onClick:()=>V(null===e||void 0===e?void 0:e.id,"archived"),children:(0,c.jsx)("span",{className:"icon",children:(0,c.jsx)("span",{className:"feather-icon",children:(0,c.jsx)(n.Wlj,{})})})}),(0,c.jsx)("a",{className:"btn btn-icon btn-flush-dark btn-rounded flush-soft-hover","data-bs-toggle":"tooltip","data-placement":"top",title:"","data-bs-original-title":"Edit",onClick:()=>L(null===e||void 0===e?void 0:e.id),children:(0,c.jsx)("span",{className:"icon",children:(0,c.jsx)("span",{className:"feather-icon",children:(0,c.jsx)(n.uO9,{})})})}),(0,c.jsx)("button",{className:"btn btn-icon btn-flush-dark btn-rounded flush-soft-hover del-button",onClick:()=>R(null===e||void 0===e?void 0:e.id),children:(0,c.jsx)("span",{className:"icon",children:(0,c.jsx)("span",{className:"feather-icon",children:(0,c.jsx)(i.PXm,{})})})}),(0,c.jsx)("button",{className:"btn btn-icon btn-flush-dark btn-rounded flush-soft-hover del-button",onClick:()=>I(null===e||void 0===e?void 0:e.id),children:(0,c.jsx)("span",{className:"icon",children:(0,c.jsx)("span",{className:"feather-icon",children:(0,c.jsx)(n.qbC,{})})})})]})})})]}))))})]})})]})};var _=s(7817),S=s(25463),A=s(42060),D=s(2942),T=s(77651),E=s.n(T);const P=()=>{const{messageError:e}=(0,t.useContext)(o.d),{handleSubmit:a,watch:s,control:l,setValue:n,formState:{errors:i}}=(0,b.mN)({}),{token:r}=(0,d.d4)((e=>e.auth)),{boards:m}=(0,d.d4)((e=>e.board)),u=s("country_array"),v=(s("state_array"),s("city_array"),(0,d.wA)());(0,t.useEffect)((()=>{v((0,D.Be)(r))}),[v,r]),(0,t.useEffect)((()=>{void 0!==u&&n("country",u.value)}),[u,n]);return(0,c.jsxs)("form",{onSubmit:a((e=>{var a;const s={board_id:null===e||void 0===e||null===(a=e.board_id)||void 0===a?void 0:a.value,firstname:null===e||void 0===e?void 0:e.firstname,middlename:null===e||void 0===e?void 0:e.middlename,lastname:null===e||void 0===e?void 0:e.lastname,biography:null===e||void 0===e?void 0:e.biography,phone:null===e||void 0===e?void 0:e.phone,file:null===e||void 0===e?void 0:e.file,email:null===e||void 0===e?void 0:e.email,country:null===e||void 0===e?void 0:e.country,state:null===e||void 0===e?void 0:e.state,city:null===e||void 0===e?void 0:e.city,company_name:null===e||void 0===e?void 0:e.company_name,designation:null===e||void 0===e?void 0:e.designation,website:null===e||void 0===e?void 0:e.website,work_phone:null===e||void 0===e?void 0:e.work_phone,tags:JSON.stringify([{name:"Collaborator"}]),social_links:JSON.stringify([{name:"facebook",link:null===e||void 0===e?void 0:e.facebook},{name:"linkedin",link:null===e||void 0===e?void 0:e.linkedin},{name:"gmail",link:null===e||void 0===e?void 0:e.gmail},{name:"twitter",link:null===e||void 0===e?void 0:e.twitter}])};console.log("\ud83d\ude80 ~ handleAddContact ~ data:",e.file),v((0,h.IP)(r,s))})),children:[(0,c.jsxs)("div",{className:"row gx-3",children:[(0,c.jsx)("div",{className:"col-sm-2 form-group",children:(0,c.jsx)("div",{class:"frame pt-3",children:(0,c.jsx)("div",{class:"center",children:(0,c.jsxs)("div",{class:"dropzone",children:[(0,c.jsx)("img",{src:"http://100dayscss.com/codepen/upload.svg",class:"upload-icon"}),(0,c.jsx)("p",{className:" fs-5 fw-bolder text-center",children:"Upload Photo"}),(0,c.jsx)("input",{type:"file",class:"upload-input",onChange:e=>{(e=>{n("file",e.currentTarget.files[0]),console.log("\ud83d\ude80 ~ handleChangeImage ~ e:",e.currentTarget.files[0])})(e)}})]})})})}),(0,c.jsx)("div",{className:"col-sm-10 form-group",children:(0,c.jsx)(S.A,{name:"biography",placeholder:"Biography",rows:5,control:l,errors:i})})]}),(0,c.jsx)("div",{className:"title title-xs title-wth-divider text-primary text-uppercase my-4",children:(0,c.jsx)("span",{children:"Basic Info"})}),(0,c.jsxs)("div",{className:"row gx-3",children:[(0,c.jsx)("div",{className:"col-sm-4",children:(0,c.jsx)(_.A,{name:"firstname",placeholder:"First name",control:l,rules:{required:{value:!0,message:"Field required!"}},errors:i})}),(0,c.jsx)("div",{className:"col-sm-4",children:(0,c.jsx)(_.A,{name:"middlename",placeholder:"Middlename",control:l,errors:i})}),(0,c.jsx)("div",{className:"col-sm-4",children:(0,c.jsx)(_.A,{name:"lastname",placeholder:"Lastname",control:l,rules:{required:{value:!0,message:"Field required!"}},errors:i})})]}),(0,c.jsxs)("div",{className:"row gx-3",children:[(0,c.jsx)("div",{className:"col-sm-6",children:(0,c.jsx)(_.A,{name:"email",type:"email",placeholder:"example@example.com",control:l,rules:{required:{value:!0,message:"Field required!"}},errors:i})}),(0,c.jsx)("div",{className:"col-sm-6",children:(0,c.jsx)(_.A,{name:"phone",placeholder:"Phone number",control:l,rules:{required:{value:!0,message:"Field required!"}},errors:i})})]}),(0,c.jsxs)("div",{className:"row gx-3",children:[(0,c.jsx)("div",{className:"col-sm-6 col-md-6",children:(0,c.jsx)(A.A,{name:"board_id",placeholder:"Lead Pipeline",control:l,options:(null===m||void 0===m?void 0:m.length)>0?null===m||void 0===m?void 0:m.map(((e,a)=>({label:null===e||void 0===e?void 0:e.name,value:null===e||void 0===e?void 0:e.id}))):[],errors:i})}),(0,c.jsx)("div",{className:"col-sm-6 col-md-6",children:(0,c.jsx)(A.A,{name:"country_array",placeholder:"Country",control:l,options:E()().getData()||[],errors:i})}),(0,c.jsx)("div",{className:"col-sm-6 col-md-6",children:(0,c.jsx)(_.A,{name:"city",placeholder:"City",control:l,rules:{required:{value:!0,message:"Field required!"}},errors:i})}),(0,c.jsx)("div",{className:"col-sm-6 col-md-6",children:(0,c.jsx)(_.A,{name:"state",placeholder:"State",control:l,rules:{required:{value:!0,message:"Field required!"}},errors:i})}),(0,c.jsx)("div",{className:"col-sm-6 col-md-12",children:(0,c.jsx)(_.A,{name:"street_address",placeholder:"Streat 1, apt. # 3038",control:l,errors:i})})]}),(0,c.jsx)("div",{className:"title title-xs title-wth-divider text-primary text-uppercase my-4",children:(0,c.jsx)("span",{children:"Additional Info"})}),(0,c.jsxs)("div",{className:"row gx-3",children:[(0,c.jsx)("div",{className:"col-sm-6",children:(0,c.jsx)(_.A,{name:"facebook",placeholder:"Your facebook",control:l,errors:i})}),(0,c.jsx)("div",{className:"col-sm-6",children:(0,c.jsx)(_.A,{name:"twitter",placeholder:"Your twitter",control:l,errors:i})}),(0,c.jsx)("div",{className:"col-sm-6",children:(0,c.jsx)(_.A,{name:"linkedin",placeholder:"Your linkedin",control:l,errors:i})}),(0,c.jsx)("div",{className:"col-sm-6",children:(0,c.jsx)(_.A,{name:"gmail",placeholder:"Your gmail",control:l,errors:i})})]}),(0,c.jsxs)("div",{className:"modal-footer align-items-center",children:[(0,c.jsx)("button",{type:"button",className:"btn btn-secondary","data-bs-dismiss":"modal",children:"Done"}),(0,c.jsx)("button",{type:"submit",className:"btn btn-primary",children:"Add"})]})]})};var q=s(52686),F=s(41609);const B=e=>{let{contactsData:a,token:s,dispatch:l,onToggleEdit:d}=e;const{handleToggleShowLeadDetail:i}=(0,t.useContext)(o.d);return(0,c.jsx)("div",{className:"contact-card-view overflow-scroll h-100",children:(0,c.jsx)("div",{className:"row",children:(null===a||void 0===a?void 0:a.length)>0&&(null===a||void 0===a?void 0:a.map(((e,a)=>{var t,l;return(0,c.jsx)("div",{className:"col-md-4 col-sm-6",children:(0,c.jsxs)("div",{className:"card card-border contact-card",children:[(0,c.jsxs)("div",{className:"card-header bg-primary",style:{color:"white"},children:[(null===e||void 0===e?void 0:e.firstname)+" "+(null===e||void 0===e?void 0:e.middlename)+" "+(null===e||void 0===e?void 0:e.lastname),(0,c.jsx)("span",{className:"badge badge-sm rounded fw-bold ".concat("active"===(null===e||void 0===e?void 0:e.status)?"badge-success":"badge-danger"),children:null===e||void 0===e?void 0:e.status}),(0,c.jsxs)("div",{className:"card-action-wrap",children:[(0,c.jsx)("a",{className:"btn btn-icon btn-flush-dark btn-rounded flush-soft-hover",href:"#","aria-expanded":"false","data-bs-toggle":"dropdown",children:(0,c.jsx)("span",{className:"btn-icon-wrap",children:(0,c.jsx)("span",{className:"feather-icon",children:(0,c.jsx)(F.txp,{color:"white"})})})}),(0,c.jsxs)("div",{className:"dropdown-menu  dropdown-menu-end",role:"menu",children:[(0,c.jsxs)("a",{className:"dropdown-item",href:"javascript:void(0)",role:"menuitem",onClick:()=>{return a=e.id,void i(!0,a,s);var a},children:[(0,c.jsx)("span",{className:"me-2",children:(0,c.jsx)(n.uO9,{})}),"View Detial"]}),(0,c.jsxs)("a",{className:"dropdown-item",href:"javascript:void(0)",role:"menuitem",children:[(0,c.jsx)("span",{className:"me-2",children:(0,c.jsx)(n.qbC,{})}),"Block User"]})]})]})]}),(0,c.jsxs)("div",{className:"card-body text-center",children:[(0,c.jsx)("div",{className:"avatar avatar-xl avatar-rounded",children:(0,c.jsx)("img",{src:(null===e||void 0===e?void 0:e.avatar)||"https://static.vecteezy.com/system/resources/previews/009/292/244/original/default-avatar-icon-of-social-media-user-vector.jpg",alt:"user",className:"avatar-img"})}),(0,c.jsxs)("div",{className:"d-flex justify-content-between py-1",children:[(0,c.jsx)("div",{className:"fw-bold fs-6",children:"Name"}),(0,c.jsx)("div",{children:(null===e||void 0===e?void 0:e.firstname)+" "+(null===e||void 0===e?void 0:e.middlename)+" "+(null===e||void 0===e?void 0:e.lastname)})]}),(0,c.jsxs)("div",{className:"d-flex justify-content-between py-1",children:[(0,c.jsx)("div",{className:"fw-bold fs-6",children:"Email"}),(0,c.jsx)("div",{children:null===e||void 0===e?void 0:e.email})]}),(0,c.jsxs)("div",{className:"d-flex justify-content-between py-1",children:[(0,c.jsx)("div",{className:"fw-bold fs-6",children:"Phone"}),(0,c.jsx)("div",{children:null===e||void 0===e?void 0:e.phone})]}),(0,c.jsxs)("div",{className:"d-flex justify-content-between py-1",children:[(0,c.jsx)("div",{className:"fw-bold fs-6",children:"Company Name"}),(0,c.jsx)("div",{children:"Desktop"})]}),(0,c.jsxs)("div",{className:"d-flex justify-content-between py-1",children:[(0,c.jsx)("div",{className:"fw-bold fs-6",children:"Date Joined"}),(0,c.jsx)("div",{children:x()(null===e||void 0===e?void 0:e.created_at).format("DD, MMM YYYY")})]}),(0,c.jsxs)("div",{className:"d-flex justify-content-between py-1",children:[(0,c.jsx)("div",{className:"fw-bold fs-6",children:"Tags"}),(0,c.jsx)("div",{className:"w-75 gap-1 d-flex flex-wrap justify-content-end",children:(null===e||void 0===e||null===(t=e.tags)||void 0===t?void 0:t.length)>0&&(null===e||void 0===e||null===(l=e.tags)||void 0===l?void 0:l.map(((e,a)=>(0,c.jsxs)("span",{className:"badge badge-primary ",children:[" ",e.name]}))))})]})]})]})},a)})))})})},M=e=>{var a,s,l,n;let{token:d,dispatch:i,boards:r}=e;const{handleSubmit:m,watch:u,control:v,setValue:x,formState:{errors:p}}=(0,b.mN)({}),{contactsToModify:j}=(0,t.useContext)(o.d),[g,f]=(0,t.useState)([]),N=u("pipeline"),y=u("pipeline_stage");console.log("\ud83d\ude80 ~ EditBulkContact ~ pipelineWatcher:",N),(0,t.useEffect)((()=>{if(void 0!==N&&(null===j||void 0===j?void 0:j.length)>0){const e=[];null===j||void 0===j||j.map((a=>null===e||void 0===e?void 0:e.push({...a,board_id:null===N||void 0===N?void 0:N.value}))),console.log(e),f(e)}}),[N,j]);return(0,c.jsx)("div",{children:(null===j||void 0===j?void 0:j.length)>0?(0,c.jsxs)("form",{onSubmit:m((e=>{const a={updates:g,modify_key:"board_id",board_status:null===y||void 0===y?void 0:y.value};i((0,h.ij)(d,a))})),children:[(0,c.jsx)("div",{className:"alert alert-primary",children:"Add To Pipeline"}),(0,c.jsx)("div",{className:"col",children:(0,c.jsx)(A.A,{name:"pipeline",placeholder:"Select pipeline ",label:"Pipeline",control:v,rules:{required:{value:!0,message:"Field required!"}},options:(null===r||void 0===r?void 0:r.length)>0?null===r||void 0===r?void 0:r.map((e=>({label:null===e||void 0===e?void 0:e.name,value:null===e||void 0===e?void 0:e.id,...e}))):[],errors:p})}),(0,c.jsx)("div",{className:"col",children:(0,c.jsx)(A.A,{name:"pipeline_stage",placeholder:"Select pipeline ",label:"Pipeline Stage",control:v,rules:{required:{value:!0,message:"Field required!"}},options:null!==N&&void 0!==N&&N.pipeline_status_array&&(null===(a=JSON.parse(null===N||void 0===N?void 0:N.pipeline_status_array))||void 0===a||null===(s=a.status_array)||void 0===s?void 0:s.length)>0?null===(l=JSON.parse(null===N||void 0===N?void 0:N.pipeline_status_array))||void 0===l||null===(n=l.status_array)||void 0===n?void 0:n.map((e=>({label:null===e||void 0===e?void 0:e.stage,value:null===e||void 0===e?void 0:e.stage}))):[],errors:p})}),(0,c.jsxs)("div",{className:"modal-footer align-items-center",children:[(0,c.jsx)("button",{type:"button",className:"btn btn-secondary","data-bs-dismiss":"modal",children:"Discard"}),(0,c.jsx)("button",{type:"submit",className:"btn btn-primary",children:"Submit"})]})]}):(0,c.jsx)("div",{className:"alert alert-warning",children:"Please select at least one contact."})})};var R=s(10802);const L=e=>{let{dispatch:a,token:s,authUser:l}=e;const{handleSubmit:n,watch:d,control:i,setValue:r,formState:{errors:m}}=(0,b.mN)({}),{contactsToModify:h}=(0,t.useContext)(o.d),u=d("sms_body");(0,t.useEffect)((()=>{void 0!==u&&(null===h||void 0===h||h.length)}),[u,h]);return(0,c.jsx)("div",{children:(null===h||void 0===h?void 0:h.length)>0?(0,c.jsxs)("form",{onSubmit:n((e=>{const t={from:{phone:l.phone,name:l.name,avatar:l.avatar,socket_id:l.socket_id,accountSid:null===l||void 0===l?void 0:l.accountSid,authToken:null===l||void 0===l?void 0:l.authToken},to:h,message:null===e||void 0===e?void 0:e.sms_body};a((0,R.aI)(s,t))})),children:[(0,c.jsx)("div",{className:"alert alert-primary",children:"Send SMS Bulk"}),(0,c.jsx)("div",{className:"col",children:(0,c.jsx)(S.A,{name:"sms_body",placeholder:"SMS body",control:i,errors:m,rows:"5"})}),(0,c.jsxs)("div",{className:"modal-footer align-items-center",children:[(0,c.jsx)("button",{type:"button",className:"btn btn-secondary","data-bs-dismiss":"modal",children:"Discard"}),(0,c.jsx)("button",{type:"submit",className:"btn btn-primary",children:"Submit"})]})]}):(0,c.jsx)("div",{className:"alert alert-warning",children:"Please select at least one contact."})})};var V=s(9190),I=s.n(V);const Y=e=>{let{token:a,dispatch:s,authUser:l}=e;const{handleSubmit:n,watch:d,control:i,setValue:r,formState:{errors:m}}=(0,b.mN)({}),{contactsToModify:u}=(0,t.useContext)(o.d),[v,x]=(0,t.useState)([]),[p,j]=(0,t.useState)(null);return(0,c.jsx)("div",{children:(0,c.jsxs)("form",{onSubmit:n((()=>{if(!((null===v||void 0===v?void 0:v.length)>0))return g.oR.error("There is no contacts in the list.");s((0,h.OY)(a,{contactsArray:v,user_id:l.id}))})),children:[(0,c.jsx)("div",{className:"alert alert-primary text-center",children:"Upload CSV file of contacts"}),(0,c.jsxs)("div",{className:"m-5",children:[(0,c.jsx)("div",{class:"mb-4 d-flex justify-content-center p-5 border border-primary border-2 rounded-5",children:(0,c.jsxs)("div",{className:"text-center",children:[null!==p?(0,c.jsx)("p",{children:p.name}):(0,c.jsx)("img",{id:"selectedImage",src:"https://cdn.pixabay.com/photo/2016/01/03/00/43/upload-1118928_960_720.png",alt:"example placeholder",style:{width:"50px"}}),(0,c.jsx)("br",{}),(0,c.jsx)("br",{}),(0,c.jsx)("span",{children:"Upload CSV file"})]})}),(0,c.jsx)("div",{class:"d-flex justify-content-center",style:{marginTop:"-20%"},children:(0,c.jsxs)("div",{class:"btn btn-primary btn-rounded ",style:{cursor:"pointer"},children:[(0,c.jsx)("label",{class:"form-label text-white m-1",for:"customFile1",children:"Choose file"}),(0,c.jsx)("input",{type:"file",class:"form-control d-none",id:"customFile1",onChange:e=>{const a=e.currentTarget.files[0];if("text/csv"!==a.type)return g.oR.error("Please select a CSV file.");j(a),I().parse(a,{header:!0,complete:e=>{console.log("\ud83d\ude80 ~ handleFileChange ~ results:",e.data.length),e.data.length>100?x(e.data.slice(0,100)):x(e.data)},error:e=>{console.error("Error parsing CSV file:",e)}})}})]})})]}),(0,c.jsxs)("div",{className:"modal-footer align-items-center",children:[(0,c.jsx)("button",{type:"button",className:"btn btn-secondary","data-bs-dismiss":"modal",children:"Discard"}),(0,c.jsx)("button",{type:"submit",className:"btn btn-primary",children:"Submit"})]})]})})};var z=s(6732);const U=()=>{const{showLeadDetails:e}=(0,t.useContext)(o.d),a=(0,d.wA)(),{token:s,user:l}=(0,d.d4)((e=>e.auth)),{contactDetails:n}=(0,d.d4)((e=>e.contact)),[i,h]=(0,t.useState)([]),[u,v]=(0,t.useState)([]),[x,p]=(0,t.useState)(!1),[b,j]=(0,t.useState)("list"),{contacts:g}=(0,d.d4)((e=>e.contact)),{boards:f}=(0,d.d4)((e=>e.board));(0,t.useEffect)((()=>{a((0,D.Be)(s))}),[s,a]),(0,t.useEffect)((()=>{const e=null===g||void 0===g?void 0:g.filter((e=>"archived"!==e.status&&"blocked"!==e.status));h(e),v(e)}),[g]);const N=e=>{};return(0,c.jsx)("div",{className:"hk-pg-wrapper pb-0",children:(0,c.jsx)("div",{className:"hk-pg-body py-0",children:(0,c.jsx)("div",{className:"contactapp-wrap",children:(0,c.jsxs)("div",{className:"contactapp-content",children:[(0,c.jsx)(r,{onSendData:e=>{h(e)},contactsData:g,onToggleEdit:N}),e&&(0,c.jsx)(q.default,{isEdit:x,contactDetails:n,dispatch:a,token:s,authUser:l}),!e&&(0,c.jsxs)("div",{className:"contactapp-detail-wrap",children:[(0,c.jsx)(m,{onDataFromChild:e=>{j(e)},activeBar:b}),(0,c.jsx)("div",{className:"contact-body",style:{height:"100vh",overflow:"scroll"},children:(0,c.jsxs)("div",{className:"nicescroll-bar",children:["list"===b?(0,c.jsx)(C,{contactsData:i,onToggleEdit:N,isEdit:x}):(0,c.jsx)(B,{contactsData:i,onToggleEdit:N,isEdit:x,dispatch:a,token:s}),(0,c.jsx)("div",{children:(0,c.jsx)(z.A,{itemsPerPage:20,dataFromChild:e=>{console.log("\ud83d\ude80 ~ handleDataFromPagination ~ data:",e),h(e)},items:u})})]})})]}),(0,c.jsx)("div",{id:"add_new_contact",className:"modal fade add-new-contact",tabIndex:"-1",role:"dialog","aria-hidden":"true",children:(0,c.jsx)("div",{className:"modal-dialog modal-dialog-centered modal-lg",role:"document",children:(0,c.jsxs)("div",{className:"modal-content",children:[(0,c.jsxs)("div",{className:"modal-header bg-primary",children:[(0,c.jsx)("span",{style:{color:"white",fontWeight:"bold"},children:"Add New Contact"}),(0,c.jsx)("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close",children:(0,c.jsx)("span",{"aria-hidden":"true",children:"\xd7"})})]}),(0,c.jsx)("div",{className:"modal-body",children:(0,c.jsx)(P,{})})]})})}),(0,c.jsx)("div",{id:"edit-bulk-contact",className:"modal fade add-new-contact",tabIndex:"-1",role:"dialog","aria-hidden":"true",children:(0,c.jsx)("div",{className:"modal-dialog modal-dialog-centered modal-md",role:"document",children:(0,c.jsxs)("div",{className:"modal-content",children:[(0,c.jsxs)("div",{className:"modal-header bg-primary",children:[(0,c.jsx)("span",{style:{color:"white",fontWeight:"bold"},children:"Bulk Action"}),(0,c.jsx)("button",{type:"button",className:"btn-close btn-light","data-bs-dismiss":"modal","aria-label":"Close",children:(0,c.jsx)("span",{"aria-hidden":"true",children:"\xd7"})})]}),(0,c.jsx)("div",{className:"modal-body",children:(0,c.jsx)(M,{dispatch:a,token:s,boards:f})})]})})}),(0,c.jsx)("div",{id:"send-sms-bulk",className:"modal fade add-new-contact",tabIndex:"-1",role:"dialog","aria-hidden":"true",children:(0,c.jsx)("div",{className:"modal-dialog modal-dialog-centered modal-md",role:"document",children:(0,c.jsxs)("div",{className:"modal-content",children:[(0,c.jsxs)("div",{className:"modal-header bg-primary",children:[(0,c.jsx)("span",{style:{color:"white",fontWeight:"bold"},children:"Bulk Action"}),(0,c.jsx)("button",{type:"button",className:"btn-close btn-light","data-bs-dismiss":"modal","aria-label":"Close",children:(0,c.jsx)("span",{"aria-hidden":"true",children:"\xd7"})})]}),(0,c.jsx)("div",{className:"modal-body",children:(0,c.jsx)(L,{dispatch:a,token:s,boards:f,authUser:l})})]})})}),(0,c.jsx)("div",{id:"upload_contact_csv",className:"modal fade add-new-contact",tabIndex:"-1",role:"dialog","aria-hidden":"true",children:(0,c.jsx)("div",{className:"modal-dialog modal-dialog-centered modal-md",role:"document",children:(0,c.jsxs)("div",{className:"modal-content",children:[(0,c.jsxs)("div",{className:"modal-header bg-primary",children:[(0,c.jsx)("span",{style:{color:"white",fontWeight:"bold"},children:"Bulk Action"}),(0,c.jsx)("button",{type:"button",className:"btn-close btn-light","data-bs-dismiss":"modal","aria-label":"Close",children:(0,c.jsx)("span",{"aria-hidden":"true",children:"\xd7"})})]}),(0,c.jsx)("div",{className:"modal-body",children:(0,c.jsx)(Y,{dispatch:a,token:s,boards:f,authUser:l})})]})})}),(0,c.jsx)("div",{id:"add_new_label",className:"modal fade",tabindex:"-1",role:"dialog","aria-hidden":"true",children:(0,c.jsx)("div",{className:"modal-dialog modal-dialog-centered modal-sm",role:"document",children:(0,c.jsx)("div",{className:"modal-content",children:(0,c.jsxs)("div",{className:"modal-body",children:[(0,c.jsx)("button",{type:"button",className:"btn-close btn-light","data-bs-dismiss":"modal","aria-label":"Close",children:(0,c.jsx)("span",{"aria-hidden":"true",children:"\xd7"})}),(0,c.jsx)("h6",{className:"text-uppercase fw-bold mb-3",children:"Add Label"}),(0,c.jsxs)("form",{children:[(0,c.jsx)("div",{className:"row gx-3",children:(0,c.jsx)("div",{className:"col-sm-12",children:(0,c.jsx)("div",{className:"form-group",children:(0,c.jsx)("input",{className:"form-control",type:"text",placeholder:"Label Name"})})})}),(0,c.jsx)("button",{type:"button",className:"btn btn-primary float-end","data-bs-dismiss":"modal",children:"Add"})]})]})})})})]})})})})},W=()=>(0,c.jsx)(l.A,{component:(0,c.jsx)(U,{})})}}]);
//# sourceMappingURL=6780.f8940d26.chunk.js.map