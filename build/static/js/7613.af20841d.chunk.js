/*! For license information please see 7613.af20841d.chunk.js.LICENSE.txt */
(self.webpackChunkclient=self.webpackChunkclient||[]).push([[7613],{58510:(e,t,i)=>{"use strict";i.d(t,{A:()=>r});var n=i(82483),o=i(23080),s=i(56723);const a=n.forwardRef(((e,t)=>{const{field:i}=(0,o.as)(e),{label:n,style:a,defaultValue:r,disabled:l}=e;return(0,s.jsx)(s.Fragment,{children:(0,s.jsx)(o.xI,{name:null===e||void 0===e?void 0:e.name,control:null===e||void 0===e?void 0:e.control,rules:null===e||void 0===e?void 0:e.rules,defaultValue:r,render:o=>{let{field:{onChange:r,value:d}}=o;return(0,s.jsxs)("div",{className:" form-check form-check-md ",children:[(0,s.jsx)("label",{className:"form-check-lable",children:n}),(0,s.jsx)("input",{...i,ref:t,checked:"1"===i.value||!0===i.value,type:"checkbox",disabled:l,onChange:t=>{r(t.target.checked),e.onChange&&e.onChange(t)},style:a||{},className:"form-check-input"})]})}})})}));a.displayName="Checkbox";const r=a},60683:(e,t,i)=>{"use strict";i.d(t,{A:()=>m});var n=i(82483),o=i(28475),s=i.n(o),a=(i(42511),i(84670),i(23080)),r=i(34304),l=i.n(r),d=i(94690),c=i.n(d),u=i(56723);const h=n.forwardRef(((e,t)=>{const[i,o]=(0,n.useState)(!1),{title:r,style:d,type:h,errors:m,defaultValue:v,isDisabled:p,dateTime:f=!0,customStyles:x,onChange:y,maxDate:_,isHighLight:g=!1,showYearPicker:j,showTime:b,showIcon:w,showTimeSelectOnly:N,label:P,...C}=e,{field:D,fieldState:k}=(0,a.as)(e);let E=l().get(m,e.name);return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(a.xI,{autoFocus:!1,name:null===e||void 0===e?void 0:e.name,control:null===e||void 0===e?void 0:e.control,rules:null===e||void 0===e?void 0:e.rules,defaultValue:v,render:i=>{let{field:n}=i;let a=new Date(null===n||void 0===n?void 0:n.value);return function(e){let t=new Date(e);return t instanceof Date&&!isNaN(t)}(null===n||void 0===n?void 0:n.value)||(a=""),(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)("label",{class:"form-label-group",children:P}),(0,u.jsx)(s(),{...n,ref:t,autoComplete:"off",autoFocus:!1,placeholderText:"Select Date",onChange:t=>{n.onChange(N?c()(t).format("HH:mm:ss"):c()(t).format("yyyy-MM-DD")),y&&y(t,null===e||void 0===e?void 0:e.name)},selected:a,onFocus:()=>o(!0),onBlur:()=>{o(!1)},dateFormat:j?"yyyy":"yyyy-MM-DD HH:mm:ss",className:"form-control text-lg  ".concat(p?"opacity-50":"","\n                                   ").concat(g&&" focus:bg-dark   "),placeholder:e.placeholder?e.placeholder:"",disabled:p,maxDate:null===e||void 0===e?void 0:e.maxDate,minDate:null===e||void 0===e?void 0:e.minDate,showTimeSelect:b,showIcon:w,showTimeSelectOnly:N,isClearable:!0,timeFormat:"HH:mm:ss",timeIntervals:15,showYearPicker:j||!1,...C})]})}}),e.rules&&E&&(0,u.jsx)("p",{className:" text-xs text-red-600 h-3",id:"email-error",children:e.rules&&E&&e.rules&&E.message})]})}));h.displayName="DatePickerFeild";const m=h},17613:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>_});var n=i(82483),o=i(16575),s=i(7817),a=(i(60683),i(34304)),r=i.n(a),l=i(56723);var d=i(42060),c=i(58510);i(96824);var u=i(25463),h=i(23080),m=i(1611),v=i(91965),p=i(77651),f=i.n(p),x=i(710);const y=()=>{const{handleSubmit:e,control:t,setValue:i,formState:{errors:o}}=(0,h.mN)(),a=(0,v.wA)(),{token:p}=(0,v.d4)((e=>e.auth)),{kycDetails:y,isLoading:_}=(0,v.d4)((e=>e.kyc)),[g,j]=(0,n.useState)(null),[b,w]=(0,n.useState)(null),[N,P]=(0,n.useState)("form"),[C,D]=(0,n.useState)(null);(0,n.useEffect)((()=>{a((0,m.Lj)(p))}),[a,p]),(0,n.useEffect)((()=>{null!==y&&void 0!==y&&y.id?P("details"):void 0===(null===y||void 0===y?void 0:y.id)&&P("form")}),[y]),(0,n.useEffect)((()=>{y&&(i("firstname",null===y||void 0===y?void 0:y.firstname),i("lastname",null===y||void 0===y?void 0:y.lastname),i("nationality",{label:r().toUpper(null===y||void 0===y?void 0:y.nationality),value:null===y||void 0===y?void 0:y.nationality}),i("email",null===y||void 0===y?void 0:y.email),i("phone",null===y||void 0===y?void 0:y.phone),i("address",null===y||void 0===y?void 0:y.address),i("city",null===y||void 0===y?void 0:y.city),i("state",null===y||void 0===y?void 0:y.state),i("zip_code",null===y||void 0===y?void 0:y.zip_code),i("company_size",null===y||void 0===y?void 0:y.company_size),i("company_do",null===y||void 0===y?void 0:y.company_do),i("company_type",null===y||void 0===y?void 0:y.company_type),i("company_details",null===y||void 0===y?void 0:y.company_details),i("document_type",{label:r().toUpper(null===y||void 0===y?void 0:y.document_type),value:null===y||void 0===y?void 0:y.document_type}),i("is_policy_accepted",1===(null===y||void 0===y?void 0:y.is_policy_accepted)))}),[y,i]);return(0,l.jsx)("div",{className:"container",children:"details"===N?(0,l.jsxs)("div",{className:"card",style:{margin:"7% 15% 7% 15%"},children:[(0,l.jsxs)("div",{className:"card-header bg-primary",children:[(0,l.jsx)("div",{className:"card-title  text-white fw-bold",children:"KYC (Know Your Customer)"}),(0,l.jsx)("div",{children:(0,l.jsx)("button",{className:"btn btn-light btn-sm",onClick:()=>P("form"),children:"Edit"})})]}),(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("section",{children:[(0,l.jsx)("div",{className:"rounded-4 px-3 py-2 text-primary fw-bold",style:{backgroundColor:"#00808038"},children:"Personal Details"}),(0,l.jsx)("div",{className:"p-3",children:(0,l.jsxs)("div",{className:"px-2",children:[(0,l.jsxs)("div",{className:"d-flex justify-content-between",children:[(0,l.jsx)("div",{className:"fw-bold",children:"Firstname:"}),(0,l.jsx)("div",{children:null===y||void 0===y?void 0:y.firstname})]}),(0,l.jsxs)("div",{className:"d-flex justify-content-between",children:[(0,l.jsx)("div",{className:"fw-bold",children:"Lastname:"}),(0,l.jsx)("div",{children:null===y||void 0===y?void 0:y.lastname})]}),(0,l.jsxs)("div",{className:"d-flex justify-content-between",children:[(0,l.jsx)("div",{className:"fw-bold",children:"Email Address:"}),(0,l.jsx)("div",{children:null===y||void 0===y?void 0:y.email})]}),(0,l.jsxs)("div",{className:"d-flex justify-content-between",children:[(0,l.jsx)("div",{className:"fw-bold",children:"Phone Number:"}),(0,l.jsx)("div",{children:null===y||void 0===y?void 0:y.phone})]})]})})]}),(0,l.jsxs)("section",{children:[(0,l.jsx)("div",{className:"rounded-4 px-3 py-2 text-primary fw-bold",style:{backgroundColor:"#00808038"},children:"Address"}),(0,l.jsx)("div",{className:"p-3",children:(0,l.jsxs)("div",{className:"px-2",children:[(0,l.jsxs)("div",{className:"d-flex justify-content-between",children:[(0,l.jsx)("div",{className:"fw-bold",children:"Nationality:"}),(0,l.jsx)("div",{children:null===y||void 0===y?void 0:y.nationality})]}),(0,l.jsxs)("div",{className:"d-flex justify-content-between",children:[(0,l.jsx)("div",{className:"fw-bold",children:"State:"}),(0,l.jsx)("div",{children:null===y||void 0===y?void 0:y.state})]}),(0,l.jsxs)("div",{className:"d-flex justify-content-between",children:[(0,l.jsx)("div",{className:"fw-bold",children:"City:"}),(0,l.jsx)("div",{children:null===y||void 0===y?void 0:y.city})]}),(0,l.jsxs)("div",{className:"d-flex justify-content-between",children:[(0,l.jsx)("div",{className:"fw-bold",children:"Postal/Zip Code:"}),(0,l.jsx)("div",{children:null===y||void 0===y?void 0:y.zip_code})]})]})})]}),(0,l.jsxs)("section",{children:[(0,l.jsx)("div",{className:"rounded-4 px-3 py-2 text-primary fw-bold",style:{backgroundColor:"#00808038"},children:"Business Details"}),(0,l.jsx)("div",{className:"p-3",children:(0,l.jsxs)("div",{className:"px-2",children:[(0,l.jsxs)("div",{className:"",children:[(0,l.jsx)("div",{className:"fw-bold",children:"What type of business you own?"}),(0,l.jsx)("div",{children:null===y||void 0===y?void 0:y.company_type})]}),(0,l.jsxs)("div",{className:"",children:[(0,l.jsx)("div",{className:"fw-bold",children:"What does your company do?"}),(0,l.jsx)("div",{children:null===y||void 0===y?void 0:y.company_do})]}),(0,l.jsxs)("div",{className:"",children:[(0,l.jsx)("div",{className:"fw-bold",children:"What is the size of your company?"}),(0,l.jsx)("div",{children:null===y||void 0===y?void 0:y.company_size})]}),(0,l.jsxs)("div",{className:"",children:[(0,l.jsx)("div",{className:"fw-bold",children:"Explain Your Business?"}),(0,l.jsx)("div",{children:null===y||void 0===y?void 0:y.company_details})]})]})})]}),(0,l.jsxs)("section",{children:[(0,l.jsx)("div",{className:"rounded-4 px-3 py-2 text-primary fw-bold",style:{backgroundColor:"#00808038"},children:"Declaration"}),(0,l.jsx)("div",{className:"p-3",children:(0,l.jsxs)("div",{className:"px-2",children:[(0,l.jsxs)("div",{className:"d-flex justify-content-between",children:[(0,l.jsx)("div",{className:"fw-bold",children:"Document Type"}),(0,l.jsx)("div",{children:null===y||void 0===y?void 0:y.document_type})]}),(0,l.jsxs)("div",{className:"d-flex justify-content-between",children:[(0,l.jsx)("div",{className:"fw-bold",children:"Policy Accepted"}),(0,l.jsx)("div",{children:1===(null===y||void 0===y?void 0:y.is_policy_accepted)?"true":"false"})]}),(0,l.jsx)("div",{className:"d-flex justify-content-center",children:(0,l.jsx)("img",{className:"rounded-3 border mt-5 img-fluid",src:null===y||void 0===y?void 0:y.document_url,width:200,alt:"id"})})]})}),(0,l.jsx)("div",{className:"card-footer bg-primary text-white fw-bold",children:1===(null===y||void 0===y?void 0:y.is_approved)?"Approved":"Your KYC details are under review. We will soon get back to you"})]})]})]}):(0,l.jsxs)("div",{className:"card",style:{margin:"7% 15% 7% 15%"},children:[(0,l.jsx)("div",{className:"card-header bg-primary",children:(0,l.jsx)("div",{className:"card-title",style:{color:"white"},children:"KYC - Know Your Customer Form"})}),(0,l.jsx)("div",{className:"card-body",children:(0,l.jsx)("div",{className:"form",children:(0,l.jsxs)("form",{onSubmit:e((async e=>{var t,i;const n=new FormData;n.append("firstname",e.firstname),n.append("lastname",e.lastname),n.append("nationality",null===e||void 0===e||null===(t=e.nationality)||void 0===t?void 0:t.value),n.append("email",e.email),n.append("phone",e.phone),n.append("address",e.address),n.append("city",e.city),n.append("state",e.state),n.append("zip_code",e.zip_code),n.append("company_type",e.company_type),n.append("company_do",e.firstname),n.append("company_size",e.company_size),n.append("company_details",e.company_details),n.append("document_type",null===e||void 0===e||null===(i=e.document_type)||void 0===i?void 0:i.value),n.append("document",g),n.append("is_policy_accepted",!0===e.is_policy_accepted?1:0);!0===await a((0,m.L2)(p,n))&&P("details")})),children:[(0,l.jsxs)("div",{className:"row",children:[(0,l.jsx)("div",{className:"col-md-6 col-sm-6",children:(0,l.jsx)(s.A,{name:"firstname",errors:o,control:t,label:"First Name",placeholder:"John Doe",rules:{required:{value:!0,message:"Field required!"}}})}),(0,l.jsx)("div",{className:"col-md-6 col-sm-6",children:(0,l.jsx)(s.A,{name:"lastname",errors:o,control:t,label:"Last Name",placeholder:"John Doe",rules:{required:{value:!0,message:"Field required!"}}})})]}),(0,l.jsx)("div",{children:(0,l.jsx)(d.A,{name:"nationality",errors:o,control:t,options:f()().getData()||[],label:"Nationality",placeholder:"Select ...",rules:{required:{value:!0,message:"Field required!"}}})}),(0,l.jsxs)("div",{children:[(0,l.jsx)("div",{className:"px-3 py-2 rounded mb-3",style:{backgroundColor:" rgba(0, 128, 128, 0.156)"},children:(0,l.jsx)("div",{className:"card-title text-primary fw-bold",children:"Address"})}),(0,l.jsxs)("div",{className:"row",children:[(0,l.jsx)("div",{className:"col-md-4 col-sm-6",children:(0,l.jsx)(s.A,{name:"email",type:"email",errors:o,control:t,label:"Email",placeholder:"jon@example.com",rules:{required:{value:!0,message:"Field required!"}}})}),(0,l.jsx)("div",{className:"col-md-4 col-sm-6",children:(0,l.jsx)(s.A,{name:"phone",errors:o,control:t,label:"Phone Number",placeholder:"+1234567890",rules:{required:{value:!0,message:"Field required!"}}})}),(0,l.jsx)("div",{className:"col-md-4 col-sm-6",children:(0,l.jsx)(s.A,{name:"address",errors:o,control:t,label:"Address",placeholder:"Street # 1, apt # 3",rules:{required:{value:!0,message:"Field required!"}}})}),(0,l.jsx)("div",{className:"col-md-4 col-sm-6",children:(0,l.jsx)(s.A,{name:"city",errors:o,control:t,label:"City",placeholder:"City",rules:{required:{value:!0,message:"Field required!"}}})}),(0,l.jsx)("div",{className:"col-md-4 col-sm-6",children:(0,l.jsx)(s.A,{name:"state",errors:o,control:t,label:"State/Province",placeholder:"State/Province",rules:{required:{value:!0,message:"Field required!"}}})}),(0,l.jsx)("div",{className:"col-md-4 col-sm-6",children:(0,l.jsx)(s.A,{name:"zip_code",errors:o,control:t,label:"Postal/Zip Code",placeholder:"Postal Code",rules:{required:{value:!0,message:"Field required!"}}})})]})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("div",{className:"px-3 py-2 rounded mb-3",style:{backgroundColor:"rgba(0, 128, 128, 0.156)"},children:(0,l.jsx)("div",{className:"card-title text-primary fw-bold",children:"Business Details"})}),(0,l.jsxs)("div",{className:"row",children:[(0,l.jsx)("div",{className:"col-md-4 col-sm-6",children:(0,l.jsx)(s.A,{name:"company_type",errors:o,control:t,label:"What type of business you own? ",rules:{required:{value:!0,message:"Field required!"}}})}),(0,l.jsx)("div",{className:"col-md-4 col-sm-6",children:(0,l.jsx)(s.A,{name:"company_do",errors:o,control:t,label:"What does your company do?",rules:{required:{value:!0,message:"Field required!"}}})}),(0,l.jsx)("div",{className:"col-md-4 col-sm-6",children:(0,l.jsx)(s.A,{name:"company_size",errors:o,control:t,label:"What is the size of your company",rules:{required:{value:!0,message:"Field required!"}}})}),(0,l.jsx)("div",{className:"col-md-12 col-sm-6",children:(0,l.jsx)(u.A,{name:"company_details",errors:o,rows:"5",control:t,label:"Explain Your Business",rules:{required:{value:!0,message:"Field required!"}}})})]})]}),(0,l.jsx)("div",{children:(0,l.jsx)("div",{className:"px-3 py-2 rounded mb-3",style:{backgroundColor:"rgba(0, 128, 128, 0.156)"},children:(0,l.jsx)("div",{className:"card-title text-primary fw-bold",children:"Declaration"})})}),(0,l.jsx)("div",{children:(0,l.jsx)(d.A,{name:"document_type",errors:o,control:t,options:[{label:"Driving License",value:"driving_license"},{label:"ID Card",value:"id_card"}],rules:{required:{value:!0,message:"Field required!"}},label:"Document Type",placeholder:"Select ..."})}),(0,l.jsxs)("div",{className:"py-2",children:[(0,l.jsx)("div",{className:"pb-3",children:(0,l.jsx)("div",{className:"text-center border border-primary rouded m-auto ",style:{width:"max-content"},children:null!==g&&(0,l.jsx)("img",{src:URL.createObjectURL(g),width:200,className:"rounded img-fluid ",alt:"document"})})}),(0,l.jsxs)("div",{className:"media-body",children:[(0,l.jsxs)("div",{className:"btn btn-soft-primary btn-block btn-file mb-1",children:["Click to upload file",(0,l.jsx)("input",{type:"file",className:"upload",onChange:e=>{D(null);const t=e.target.files[0];if(t)if(t.size>1e6)D("Image size is too large. Please select a smaller image.");else{j(t);const e=new FileReader;e.onloadend=()=>{w(e.result)},e.readAsDataURL(t)}},required:!0})]}),(0,l.jsx)("p",{className:"text-center",children:"The image size must be smaller than 1 mb."})]}),null!==C&&(0,l.jsx)("div",{className:"alert alert-danger text-center",children:C})]}),(0,l.jsx)("div",{className:"ps-4",children:(0,l.jsx)(c.A,{name:"is_policy_accepted",errors:o,control:t,label:"I hereby declare that the information provided in this form is accurate and complete. I confirm that if any information is found incorrect and/or incomplete, that leads to a violation of regulations, may initiate legal actions, and I accept that I am the responsible party for any and all charges, penalties and violations.",placeholder:"John Doe",rules:{required:{value:!0,message:"Field required!"}}})}),(0,l.jsx)("div",{className:" float-end",children:_?(0,l.jsx)(x.A,{}):(0,l.jsx)("button",{className:"btn btn-primary",children:"Submit"})})]})})})]})})},_=()=>(0,l.jsx)(o.A,{component:(0,l.jsx)(y,{})})},96824:function(e,t,i){var n,o,s,a;e.exports=(n=i(16405),o=i(82483),s=i(75973),a=i(2800),function(e){function t(n){if(i[n])return i[n].exports;var o=i[n]={exports:{},id:n,loaded:!1};return e[n].call(o.exports,o,o.exports,t),o.loaded=!0,o.exports}var i={};return t.m=e,t.c=i,t.p="",t(0)}([function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e,t){var i={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(i[n]=e[n]);return i}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},d=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),c=n(i(1)),u=i(2),h=n(u),m=n(i(3)),v=n(i(4)),p=function(e){function t(){var e,i,n;s(this,t);for(var r=arguments.length,l=Array(r),d=0;d<r;d++)l[d]=arguments[d];return i=n=a(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),n._sigPad=null,n._excludeOurProps=function(){var e=n.props;return e.canvasProps,e.clearOnResize,o(e,["canvasProps","clearOnResize"])},n.getCanvas=function(){return n._canvas},n.getTrimmedCanvas=function(){var e=document.createElement("canvas");return e.width=n._canvas.width,e.height=n._canvas.height,e.getContext("2d").drawImage(n._canvas,0,0),(0,v.default)(e)},n.getSignaturePad=function(){return n._sigPad},n._checkClearOnResize=function(){n.props.clearOnResize&&n._resizeCanvas()},n._resizeCanvas=function(){var e=n.props.canvasProps||{},t=e.width,i=e.height;if(!t||!i){var o=n._canvas,s=Math.max(window.devicePixelRatio||1,1);t||(o.width=o.offsetWidth*s),i||(o.height=o.offsetHeight*s),o.getContext("2d").scale(s,s),n.clear()}},n.on=function(){return window.addEventListener("resize",n._checkClearOnResize),n._sigPad.on()},n.off=function(){return window.removeEventListener("resize",n._checkClearOnResize),n._sigPad.off()},n.clear=function(){return n._sigPad.clear()},n.isEmpty=function(){return n._sigPad.isEmpty()},n.fromDataURL=function(e,t){return n._sigPad.fromDataURL(e,t)},n.toDataURL=function(e,t){return n._sigPad.toDataURL(e,t)},n.fromData=function(e){return n._sigPad.fromData(e)},n.toData=function(){return n._sigPad.toData()},a(n,i)}return r(t,e),d(t,[{key:"componentDidMount",value:function(){this._sigPad=new m.default(this._canvas,this._excludeOurProps()),this._resizeCanvas(),this.on()}},{key:"componentWillUnmount",value:function(){this.off()}},{key:"componentDidUpdate",value:function(){Object.assign(this._sigPad,this._excludeOurProps())}},{key:"render",value:function(){var e=this,t=this.props.canvasProps;return h.default.createElement("canvas",l({ref:function(t){e._canvas=t}},t))}}]),t}(u.Component);p.propTypes={velocityFilterWeight:c.default.number,minWidth:c.default.number,maxWidth:c.default.number,minDistance:c.default.number,dotSize:c.default.oneOfType([c.default.number,c.default.func]),penColor:c.default.string,throttle:c.default.number,onEnd:c.default.func,onBegin:c.default.func,canvasProps:c.default.object,clearOnResize:c.default.bool},p.defaultProps={clearOnResize:!0},t.default=p},function(e,t){e.exports=n},function(e,t){e.exports=o},function(e,t){e.exports=s},function(e,t){e.exports=a}]))},2800:function(e){e.exports=function(e){function t(n){if(i[n])return i[n].exports;var o=i[n]={exports:{},id:n,loaded:!1};return e[n].call(o.exports,o,o.exports,t),o.loaded=!0,o.exports}var i={};return t.m=e,t.c=i,t.p="",t(0)}([function(e,t){"use strict";function i(e){var t=e.getContext("2d"),i=e.width,n=e.height,o=t.getImageData(0,0,i,n).data,r=s(!0,i,n,o),l=s(!1,i,n,o),d=a(!0,i,n,o),c=a(!1,i,n,o)-d+1,u=l-r+1,h=t.getImageData(d,r,c,u);return e.width=c,e.height=u,t.clearRect(0,0,c,u),t.putImageData(h,0,0),e}function n(e,t,i,n){return{red:n[4*(i*t+e)],green:n[4*(i*t+e)+1],blue:n[4*(i*t+e)+2],alpha:n[4*(i*t+e)+3]}}function o(e,t,i,o){return n(e,t,i,o).alpha}function s(e,t,i,n){for(var s=e?1:-1,a=e?0:i-1;e?a<i:a>-1;a+=s)for(var r=0;r<t;r++)if(o(r,a,t,n))return a;return null}function a(e,t,i,n){for(var s=e?1:-1,a=e?0:t-1;e?a<t:a>-1;a+=s)for(var r=0;r<i;r++)if(o(a,r,t,n))return a;return null}Object.defineProperty(t,"__esModule",{value:!0}),t.default=i}])},75973:(e,t,i)=>{"use strict";function n(e,t,i){this.x=e,this.y=t,this.time=i||(new Date).getTime()}function o(e,t,i,n){this.startPoint=e,this.control1=t,this.control2=i,this.endPoint=n}function s(e,t){var i=this,n=t||{};this.velocityFilterWeight=n.velocityFilterWeight||.7,this.minWidth=n.minWidth||.5,this.maxWidth=n.maxWidth||2.5,this.throttle="throttle"in n?n.throttle:16,this.minDistance="minDistance"in n?n.minDistance:5,this.throttle?this._strokeMoveUpdate=function(e,t,i){var n,o,s,a=null,r=0;i||(i={});var l=function(){r=!1===i.leading?0:Date.now(),a=null,s=e.apply(n,o),a||(n=o=null)};return function(){var d=Date.now();r||!1!==i.leading||(r=d);var c=t-(d-r);return n=this,o=arguments,c<=0||c>t?(a&&(clearTimeout(a),a=null),r=d,s=e.apply(n,o),a||(n=o=null)):a||!1===i.trailing||(a=setTimeout(l,c)),s}}(s.prototype._strokeUpdate,this.throttle):this._strokeMoveUpdate=s.prototype._strokeUpdate,this.dotSize=n.dotSize||function(){return(this.minWidth+this.maxWidth)/2},this.penColor=n.penColor||"black",this.backgroundColor=n.backgroundColor||"rgba(0,0,0,0)",this.onBegin=n.onBegin,this.onEnd=n.onEnd,this._canvas=e,this._ctx=e.getContext("2d"),this.clear(),this._handleMouseDown=function(e){1===e.which&&(i._mouseButtonDown=!0,i._strokeBegin(e))},this._handleMouseMove=function(e){i._mouseButtonDown&&i._strokeMoveUpdate(e)},this._handleMouseUp=function(e){1===e.which&&i._mouseButtonDown&&(i._mouseButtonDown=!1,i._strokeEnd(e))},this._handleTouchStart=function(e){if(1===e.targetTouches.length){var t=e.changedTouches[0];i._strokeBegin(t)}},this._handleTouchMove=function(e){e.preventDefault();var t=e.targetTouches[0];i._strokeMoveUpdate(t)},this._handleTouchEnd=function(e){e.target===i._canvas&&(e.preventDefault(),i._strokeEnd(e))},this.on()}i.r(t),i.d(t,{default:()=>a}),n.prototype.velocityFrom=function(e){return this.time!==e.time?this.distanceTo(e)/(this.time-e.time):1},n.prototype.distanceTo=function(e){return Math.sqrt(Math.pow(this.x-e.x,2)+Math.pow(this.y-e.y,2))},n.prototype.equals=function(e){return this.x===e.x&&this.y===e.y&&this.time===e.time},o.prototype.length=function(){for(var e=0,t=void 0,i=void 0,n=0;n<=10;n+=1){var o=n/10,s=this._point(o,this.startPoint.x,this.control1.x,this.control2.x,this.endPoint.x),a=this._point(o,this.startPoint.y,this.control1.y,this.control2.y,this.endPoint.y);if(n>0){var r=s-t,l=a-i;e+=Math.sqrt(r*r+l*l)}t=s,i=a}return e},o.prototype._point=function(e,t,i,n,o){return t*(1-e)*(1-e)*(1-e)+3*i*(1-e)*(1-e)*e+3*n*(1-e)*e*e+o*e*e*e},s.prototype.clear=function(){var e=this._ctx,t=this._canvas;e.fillStyle=this.backgroundColor,e.clearRect(0,0,t.width,t.height),e.fillRect(0,0,t.width,t.height),this._data=[],this._reset(),this._isEmpty=!0},s.prototype.fromDataURL=function(e){var t=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=new Image,o=i.ratio||window.devicePixelRatio||1,s=i.width||this._canvas.width/o,a=i.height||this._canvas.height/o;this._reset(),n.src=e,n.onload=function(){t._ctx.drawImage(n,0,0,s,a)},this._isEmpty=!1},s.prototype.toDataURL=function(e){var t;if("image/svg+xml"===e)return this._toSVG();for(var i=arguments.length,n=Array(i>1?i-1:0),o=1;o<i;o++)n[o-1]=arguments[o];return(t=this._canvas).toDataURL.apply(t,[e].concat(n))},s.prototype.on=function(){this._handleMouseEvents(),this._handleTouchEvents()},s.prototype.off=function(){this._canvas.removeEventListener("mousedown",this._handleMouseDown),this._canvas.removeEventListener("mousemove",this._handleMouseMove),document.removeEventListener("mouseup",this._handleMouseUp),this._canvas.removeEventListener("touchstart",this._handleTouchStart),this._canvas.removeEventListener("touchmove",this._handleTouchMove),this._canvas.removeEventListener("touchend",this._handleTouchEnd)},s.prototype.isEmpty=function(){return this._isEmpty},s.prototype._strokeBegin=function(e){this._data.push([]),this._reset(),this._strokeUpdate(e),"function"===typeof this.onBegin&&this.onBegin(e)},s.prototype._strokeUpdate=function(e){var t=e.clientX,i=e.clientY,n=this._createPoint(t,i),o=this._data[this._data.length-1],s=o&&o[o.length-1],a=s&&n.distanceTo(s)<this.minDistance;if(!s||!a){var r=this._addPoint(n),l=r.curve,d=r.widths;l&&d&&this._drawCurve(l,d.start,d.end),this._data[this._data.length-1].push({x:n.x,y:n.y,time:n.time,color:this.penColor})}},s.prototype._strokeEnd=function(e){var t=this.points.length>2,i=this.points[0];if(!t&&i&&this._drawDot(i),i){var n=this._data[this._data.length-1],o=n[n.length-1];i.equals(o)||n.push({x:i.x,y:i.y,time:i.time,color:this.penColor})}"function"===typeof this.onEnd&&this.onEnd(e)},s.prototype._handleMouseEvents=function(){this._mouseButtonDown=!1,this._canvas.addEventListener("mousedown",this._handleMouseDown),this._canvas.addEventListener("mousemove",this._handleMouseMove),document.addEventListener("mouseup",this._handleMouseUp)},s.prototype._handleTouchEvents=function(){this._canvas.style.msTouchAction="none",this._canvas.style.touchAction="none",this._canvas.addEventListener("touchstart",this._handleTouchStart),this._canvas.addEventListener("touchmove",this._handleTouchMove),this._canvas.addEventListener("touchend",this._handleTouchEnd)},s.prototype._reset=function(){this.points=[],this._lastVelocity=0,this._lastWidth=(this.minWidth+this.maxWidth)/2,this._ctx.fillStyle=this.penColor},s.prototype._createPoint=function(e,t,i){var o=this._canvas.getBoundingClientRect();return new n(e-o.left,t-o.top,i||(new Date).getTime())},s.prototype._addPoint=function(e){var t=this.points;if(t.push(e),t.length>2){3===t.length&&t.unshift(t[0]);var i=this._calculateCurveControlPoints(t[0],t[1],t[2]).c2,n=this._calculateCurveControlPoints(t[1],t[2],t[3]).c1,s=new o(t[1],i,n,t[2]),a=this._calculateCurveWidths(s);return t.shift(),{curve:s,widths:a}}return{}},s.prototype._calculateCurveControlPoints=function(e,t,i){var o=e.x-t.x,s=e.y-t.y,a=t.x-i.x,r=t.y-i.y,l=(e.x+t.x)/2,d=(e.y+t.y)/2,c=(t.x+i.x)/2,u=(t.y+i.y)/2,h=Math.sqrt(o*o+s*s),m=Math.sqrt(a*a+r*r),v=m/(h+m),p=c+(l-c)*v,f=u+(d-u)*v,x=t.x-p,y=t.y-f;return{c1:new n(l+x,d+y),c2:new n(c+x,u+y)}},s.prototype._calculateCurveWidths=function(e){var t=e.startPoint,i=e.endPoint,n={start:null,end:null},o=this.velocityFilterWeight*i.velocityFrom(t)+(1-this.velocityFilterWeight)*this._lastVelocity,s=this._strokeWidth(o);return n.start=this._lastWidth,n.end=s,this._lastVelocity=o,this._lastWidth=s,n},s.prototype._strokeWidth=function(e){return Math.max(this.maxWidth/(e+1),this.minWidth)},s.prototype._drawPoint=function(e,t,i){var n=this._ctx;n.moveTo(e,t),n.arc(e,t,i,0,2*Math.PI,!1),this._isEmpty=!1},s.prototype._drawCurve=function(e,t,i){var n=this._ctx,o=i-t,s=Math.floor(e.length());n.beginPath();for(var a=0;a<s;a+=1){var r=a/s,l=r*r,d=l*r,c=1-r,u=c*c,h=u*c,m=h*e.startPoint.x;m+=3*u*r*e.control1.x,m+=3*c*l*e.control2.x,m+=d*e.endPoint.x;var v=h*e.startPoint.y;v+=3*u*r*e.control1.y,v+=3*c*l*e.control2.y,v+=d*e.endPoint.y;var p=t+d*o;this._drawPoint(m,v,p)}n.closePath(),n.fill()},s.prototype._drawDot=function(e){var t=this._ctx,i="function"===typeof this.dotSize?this.dotSize():this.dotSize;t.beginPath(),this._drawPoint(e.x,e.y,i),t.closePath(),t.fill()},s.prototype._fromData=function(e,t,i){for(var o=0;o<e.length;o+=1){var s=e[o];if(s.length>1)for(var a=0;a<s.length;a+=1){var r=s[a],l=new n(r.x,r.y,r.time),d=r.color;if(0===a)this.penColor=d,this._reset(),this._addPoint(l);else if(a!==s.length-1){var c=this._addPoint(l),u=c.curve,h=c.widths;u&&h&&t(u,h,d)}}else this._reset(),i(s[0])}},s.prototype._toSVG=function(){var e=this,t=this._data,i=this._canvas,n=Math.max(window.devicePixelRatio||1,1),o=i.width/n,s=i.height/n,a=document.createElementNS("http://www.w3.org/2000/svg","svg");a.setAttributeNS(null,"width",i.width),a.setAttributeNS(null,"height",i.height),this._fromData(t,(function(e,t,i){var n=document.createElement("path");if(!isNaN(e.control1.x)&&!isNaN(e.control1.y)&&!isNaN(e.control2.x)&&!isNaN(e.control2.y)){var o="M "+e.startPoint.x.toFixed(3)+","+e.startPoint.y.toFixed(3)+" C "+e.control1.x.toFixed(3)+","+e.control1.y.toFixed(3)+" "+e.control2.x.toFixed(3)+","+e.control2.y.toFixed(3)+" "+e.endPoint.x.toFixed(3)+","+e.endPoint.y.toFixed(3);n.setAttribute("d",o),n.setAttribute("stroke-width",(2.25*t.end).toFixed(3)),n.setAttribute("stroke",i),n.setAttribute("fill","none"),n.setAttribute("stroke-linecap","round"),a.appendChild(n)}}),(function(t){var i=document.createElement("circle"),n="function"===typeof e.dotSize?e.dotSize():e.dotSize;i.setAttribute("r",n),i.setAttribute("cx",t.x),i.setAttribute("cy",t.y),i.setAttribute("fill",t.color),a.appendChild(i)}));var r='<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 '+o+" "+s+'" width="'+o+'" height="'+s+'">',l=a.innerHTML;if(void 0===l){var d=document.createElement("dummy"),c=a.childNodes;d.innerHTML="";for(var u=0;u<c.length;u+=1)d.appendChild(c[u].cloneNode(!0));l=d.innerHTML}return"data:image/svg+xml;base64,"+btoa(r+l+"</svg>")},s.prototype.fromData=function(e){var t=this;this.clear(),this._fromData(e,(function(e,i){return t._drawCurve(e,i.start,i.end)}),(function(e){return t._drawDot(e)})),this._data=e},s.prototype.toData=function(){return this._data};const a=s}}]);
//# sourceMappingURL=7613.af20841d.chunk.js.map