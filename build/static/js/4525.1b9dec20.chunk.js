"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[4525],{58510:(e,a,l)=>{l.d(a,{A:()=>d});var s=l(82483),t=l(23080),n=l(56723);const o=s.forwardRef(((e,a)=>{const{field:l}=(0,t.as)(e),{label:s,style:o,defaultValue:d,disabled:r}=e;return(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(t.xI,{name:null===e||void 0===e?void 0:e.name,control:null===e||void 0===e?void 0:e.control,rules:null===e||void 0===e?void 0:e.rules,defaultValue:d,render:t=>{let{field:{onChange:d,value:i}}=t;return(0,n.jsxs)("div",{className:" form-check form-check-md ",children:[(0,n.jsx)("label",{className:"form-check-lable",children:s}),(0,n.jsx)("input",{...l,ref:a,checked:"1"===l.value||!0===l.value,type:"checkbox",disabled:r,onChange:a=>{d(a.target.checked),e.onChange&&e.onChange(a)},style:o||{},className:"form-check-input"})]})}})})}));o.displayName="Checkbox";const d=o},19935:(e,a,l)=>{var s=l(82483),t=l(23080),n=l(34304),o=l.n(n),d=l(73643),r=l(56723);const i=s.forwardRef(((e,a)=>{const[l,n]=(0,s.useState)([]),[i,c]=(0,s.useState)({}),[u,m]=(0,s.useState)({}),{title:h,style:v,label:b,type:x,errors:p,defaultValue:j,onChange:g,onFocus:y,onBlur:N,menuPlacement:f,ellipses:S,value:k,placeHolder:C,...A}=e,{field:w,fieldState:T,formState:E}=(0,t.as)(e);let F=o().get(p,e.name);return(0,r.jsxs)("div",{className:"mb-5",children:[(0,r.jsx)(t.xI,{name:null===e||void 0===e?void 0:e.name,rules:null===e||void 0===e?void 0:e.rules,control:null===e||void 0===e?void 0:e.control,defaultValue:j,render:a=>{let{field:{onChange:l}}=a;return(0,r.jsxs)(r.Fragment,{children:[b&&(0,r.jsx)("label",{for:null===e||void 0===e?void 0:e.name,class:"block mb-2 text-sm font-bold text-gray-900 dark:text-white",children:b}),(0,r.jsx)(d.Rl,{projectId:"CRM",handleCountryChange:e=>{c(e),l(null===e||void 0===e?void 0:e.code)},handleStateChange:e=>m(e),children:(0,r.jsx)(d.tD,{label:"Country/Territory",style:{height:"10px"}})})]})}}),e.rules&&F&&e.rules&&null!==F&&void 0!==F&&F.message?(0,r.jsx)("p",{className:" fs-6 p-1 text-danger",id:"email-error",children:e.rules&&F&&e.rules&&(null===F||void 0===F?void 0:F.message)}):""]})}));i.displayName="ReactCountryField"},50920:(e,a,l)=>{l.d(a,{Q4:()=>r,W$:()=>i,r:()=>d});var s=l(11222),t=l(64515),n=l(73422);const o="".concat("https://desktopcrm.com:51/v1"),d=(e,a)=>async l=>{try{l((0,t.yC)());const n={headers:{"Content-Type":"application/json","x-access-token":e}};await s.A.get("".concat(o,"/user/settings/get-setting/").concat(a),n).then((e=>{var a;if(console.log("\ud83d\ude80 ~ .then ~ response:",e),200!==(null===e||void 0===e||null===(a=e.data)||void 0===a?void 0:a.statusCode))return l((0,t.xk)(e.data.message));l((0,t.LA)(e.data.data.settingData))}))}catch(n){l((0,t.xk)(n.message))}},r=(e,a)=>async l=>{try{l((0,t.yC)());const r={headers:{"Content-Type":"application/json","x-access-token":e}};await s.A.post("".concat(o,"/user/settings/post-setting"),a,r).then((a=>{var s;if(console.log("\ud83d\ude80 ~ .then ~ response:",a),200!==(null===a||void 0===a||null===(s=a.data)||void 0===s?void 0:s.statusCode))return n.oR.error(a.data.message),l((0,t.xk)(a.data.message));l((0,t.iK)(a.data.message)),l(d(e,a.data.data.id))}))}catch(r){l((0,t.xk)(r.message))}},i=(e,a,l)=>async d=>{try{d((0,t.yC)());const r={headers:{"Content-Type":"application/json","x-access-token":e}};await s.A.put("".concat(o,"/user/settings/update-setting/").concat(a),l,r).then((a=>{var l;if(console.log("\ud83d\ude80 ~ .then ~ response:",a),200!==(null===a||void 0===a||null===(l=a.data)||void 0===l?void 0:l.statusCode))return n.oR.error(a.data.message),d((0,t.xk)(a.data.message));d((0,t.cD)(a.data.message)),d((0,t.LA)(e,a.data.data.id))}))}catch(r){d((0,t.xk)(r.message))}}},14525:(e,a,l)=>{l.r(a),l.d(a,{default:()=>k});var s=l(82483),t=l(16575),n=l(56723);const o=()=>(0,n.jsxs)("header",{className:"contact-header",children:[(0,n.jsx)("div",{className:"d-flex align-items-center",children:(0,n.jsx)("div",{className:"dropdown",children:(0,n.jsx)("a",{className:"contactapp-title dropdown-toggle link-dark","data-bs-toggle":"dropdown",href:"/",role:"button","aria-haspopup":"true","aria-expanded":"false",children:(0,n.jsx)("h1",{children:"Available Phone Numbers"})})})}),(0,n.jsx)("div",{className:"hk-sidebar-togglable"})]});var d=l(91965),r=l(7874),i=l(710),c=l(49678),u=l(32320);l(34304);const m=e=>{let{contactsData:a,numberPricing:l,isEdit:t,onDataFromChild:o}=e;const m=(0,d.wA)(),{token:h}=(0,d.d4)((e=>e.auth)),{isLoading:v}=(0,d.d4)((e=>e.calling));(0,s.useEffect)((()=>{h&&(m((0,r.EC)(h)),m((0,c.lo)(h)))}),[m,h]);return(0,n.jsx)("div",{className:"contact-list-view",children:!t&&(0,n.jsx)(n.Fragment,{children:v?(0,n.jsx)(i.A,{}):(0,n.jsxs)("table",{"data-sticky-header":!0,className:"table table-striped w-100 mb-5",children:[(0,n.jsx)("thead",{className:"table-primary ",children:(0,n.jsxs)("tr",{className:"sticky-top p-1 shadow-lg p-3 mb-5 bg-white rounded",children:[(0,n.jsx)("th",{children:"Number"}),(0,n.jsx)("th",{children:"Type"}),(0,n.jsx)("th",{children:"Voice"}),(0,n.jsx)("th",{children:"SMS"}),(0,n.jsx)("th",{children:"MMS"}),(0,n.jsx)("th",{children:"FAX"}),(0,n.jsx)("th",{children:"Address Requirement"}),(0,n.jsx)("th",{children:"Monthly Fee"}),(0,n.jsx)("th",{children:"Actions"})]})}),(0,n.jsx)("tbody",{children:(null===a||void 0===a?void 0:a.length)>0&&(null===a||void 0===a?void 0:a.map((e=>{var a,s,t,d,r;return(0,n.jsxs)("tr",{className:"shadow ",children:[(0,n.jsxs)("td",{children:[(0,n.jsx)("div",{className:"fw-bold",children:null===e||void 0===e?void 0:e.phoneNumber}),(0,n.jsxs)("div",{className:"fs-5",children:[null===e||void 0===e?void 0:e.locality," ,",null===e||void 0===e?void 0:e.region," ",null===e||void 0===e?void 0:e.isoCountry]})]}),(0,n.jsx)("td",{children:"Local"}),(0,n.jsx)("td",{className:"",children:(0,n.jsx)("button",{className:"btn btn-sm btn-primary",children:null!==e&&void 0!==e&&null!==(a=e.capabilities)&&void 0!==a&&a.voice?"true":"false"})}),(0,n.jsx)("td",{children:(0,n.jsx)("button",{className:"btn btn-sm btn-primary",children:null!==e&&void 0!==e&&null!==(s=e.capabilities)&&void 0!==s&&s.SMS?"true":"false"})}),(0,n.jsx)("td",{children:(0,n.jsx)("button",{className:"btn btn-sm btn-primary",children:null!==e&&void 0!==e&&null!==(t=e.capabilities)&&void 0!==t&&t.MMS?"true":"false"})}),(0,n.jsx)("td",{children:(0,n.jsx)("button",{className:"btn btn-sm btn-primary",children:null!==e&&void 0!==e&&null!==(d=e.capabilities)&&void 0!==d&&d.fax?"true":"false"})}),(0,n.jsx)("td",{children:null===e||void 0===e?void 0:e.addressRequirements}),(0,n.jsxs)("td",{className:"fw-bold",children:["$",l]}),(0,n.jsx)("td",{children:(0,n.jsx)("div",{className:"d-flex align-items-center",children:(0,n.jsx)("div",{className:"d-flex",children:null!==e&&void 0!==e&&null!==(r=e.phoneNumber)&&void 0!==r&&r.includes("+44")?(0,n.jsx)("button",{type:"button",id:"bundle_modal_button",className:"btn btn-primary","data-bs-toggle":"modal","data-bs-target":"#bundle_modal",children:"Buy"}):(0,n.jsx)("button",{className:"btn btn-primary",id:"buy_number","data-bs-toggle":"modal","data-bs-target":"#add_payment_form","data-amount":"7000",onClick:()=>{return o(null===(a=e)||void 0===a?void 0:a.phoneNumber),void m((0,u.HI)(h,{currency:"usd",amount:100*parseFloat(l)}));var a},children:"Buy"})})})})]})})))})]})})})};var h=l(23080),v=(l(19935),l(58510)),b=l(7817),x=l(42060),p=l(10802);l(77651);const j=e=>{let{dispatch:a,token:l,onDataFromChild:t,accountSid:o,authToken:d}=e;const{handleSubmit:r,watch:i,control:c,reset:u,setValue:m,formState:{errors:j}}=(0,h.mN)({}),[g,y]=(0,s.useState)(""),N=i("search_criteria");(0,s.useEffect)((()=>{void 0!==N&&y(null===N||void 0===N?void 0:N.value)}),[N]);return(0,n.jsxs)("form",{onSubmit:r((e=>{console.log("\ud83d\ude80 ~ handleSearchNumber ~ data:",e.country.value);const s={...e,authToken:d,accountSid:o,numberType:e.numberType.value,country:e.country.value};a((0,p.ZO)(l,s)),t(s.numberType)})),children:[(0,n.jsx)("div",{className:"bg-primary p-2 m-2 rounded mb-5",children:(0,n.jsx)("h5",{className:"pt-2 px-4 fw-bold",style:{color:"white"},children:"Search Phone Number"})}),(0,n.jsx)("div",{className:"m-5 d-flex justify-content-center",children:(0,n.jsx)("div",{className:" w-100",children:(0,n.jsxs)("div",{className:"row",children:[(0,n.jsx)("div",{className:"col-md-4 col-sm-6",children:(0,n.jsx)(x.A,{name:"country",placeholder:"Select Country",control:c,errors:j,mb:!1,options:[{label:"Argentina",value:"AR"},{label:"Austria",value:"AT"},{label:"Kenya",value:"KE"},{label:"Brazil",value:"BR"},{label:"Bulgaria",value:"BG"},{label:"Canada",value:"CA"},{label:"Colombia",value:"CO"},{label:"Czechia",value:"CZ"},{label:"Ecuador",value:"EC"},{label:"El Salvador",value:"SV"},{label:"Estonia",value:"EE"},{label:"Germany",value:"DE"},{label:"Grenada",value:"GD"},{label:"Hong Kong",value:"HK"},{label:"Japan",value:"JP"},{label:"Kenya",value:"KE"},{label:"Mali",value:"ML"},{label:"Mexico",value:"MX"},{label:"Namibia",value:"NA"},{label:"New Zealand",value:"NZ"},{label:"Puerto Rico",value:"PR"},{label:"Philippines",value:"PH"},{label:"Panama",value:"PA"},{label:"Switzerland",value:"CH"},{label:"Slovenia",value:"SI"},{label:"Tunisia",value:"TN"},{label:"United States",value:"US"}],rules:{required:{value:!0,message:"Field required!"}}})}),(0,n.jsx)("div",{className:"col-md-4 col-sm-6",children:(0,n.jsx)(x.A,{name:"numberType",placeholder:"Number Type",control:c,errors:j,mb:!1,options:[{label:"local",value:"local"},{label:"tollFree",value:"tollFree"}],rules:{required:{value:!0,message:"Field required!"}}})}),(0,n.jsx)("div",{className:"col-md-4 col-sm-6",children:(0,n.jsx)(x.A,{name:"search_criteria",placeholder:"Criteria",control:c,errors:j,mb:!1,options:[{label:"Locality",value:"locality"},{label:"Number",value:"number"}]})}),(0,n.jsx)("div",{className:"col-md-4 col-sm-6",children:(0,n.jsxs)("div",{className:"row px-5 pt-2 gap-2",children:[(0,n.jsx)("div",{className:"col",children:(0,n.jsx)(v.A,{control:c,errors:j,name:"voice",label:"Voice"})}),(0,n.jsx)("div",{className:"col",children:(0,n.jsx)(v.A,{control:c,errors:j,name:"sms",label:"SMS"})}),(0,n.jsx)("div",{className:"col",children:(0,n.jsx)(v.A,{control:c,errors:j,name:"mms",label:"MMS"})}),(0,n.jsx)("div",{className:"col",children:(0,n.jsx)(v.A,{control:c,errors:j,name:"fax",label:"Fax"})})]})}),(0,n.jsx)("div",{className:"col-md-4 col-sm-6",children:(0,n.jsx)(b.A,{name:"area_code",placeholder:"Area Code (start digits)",control:c,errors:j,mb:!1})}),(0,n.jsx)("div",{className:"col-md-4 col-sm-6",children:"locality"===g?(0,n.jsx)(b.A,{name:"locality",placeholder:"Search by Phrase",control:c,errors:j,mb:!1}):(0,n.jsx)(b.A,{name:"number",placeholder:"Search by Digits (last digits)",control:c,errors:j,mb:!1})}),(0,n.jsxs)("div",{className:"col-md-4 col-sm-6 d-flex gap-2",children:[(0,n.jsx)("button",{onClick:()=>u(),className:"btn btn-secondary",children:"Reset"}),(0,n.jsx)("button",{className:"btn btn-primary",children:"Submit"})]})]})})})]})};var g=l(21942),y=l(11222),N=l(73422),f=l(50920);const S=()=>{const{formState:{errors:e}}=(0,h.mN)({}),[a,l]=(0,s.useState)([]),[t,r]=(0,s.useState)([]),[i,c]=(0,s.useState)([]),[u,v]=(0,s.useState)([]),[b,x]=(0,s.useState)(null),[S,k]=(0,s.useState)(!1),[C,A]=(0,s.useState)(!1),{contacts:w}=(0,d.d4)((e=>e.contact)),{availableNumbers:T}=(0,d.d4)((e=>e.calling)),{user:E,token:F,accountSid:R,accountAuthToken:_}=(0,d.d4)((e=>e.auth)),M=(0,d.wA)(),{isLoading:D,settingDetails:P}=(0,d.d4)((e=>e.setting));(0,s.useEffect)((()=>{M((0,f.r)(F,1))}),[M,F]),(0,s.useEffect)((()=>{const e=null===w||void 0===w?void 0:w.filter((e=>"blocked"!==e.status));l(e)}),[w]),(0,s.useEffect)((()=>{r(T),c(T)}),[T]),(0,s.useEffect)((()=>{M((0,p.O8)(F,{accountSid:R,authToken:_}))}),[M,F,R,_]);return(0,n.jsxs)("div",{className:"hk-pg-wrapper pb-0",children:[(0,n.jsx)("div",{className:"hk-pg-body py-0",children:(0,n.jsx)("div",{className:"contactapp-wrap",children:(0,n.jsxs)("div",{className:"contactapp-content",children:[!S&&(0,n.jsxs)("div",{className:"contactapp-detail-wrap",children:[(0,n.jsx)(o,{}),(0,n.jsx)("div",{className:"px-5 pt-3",children:(0,n.jsx)("button",{className:"btn btn-primary btn-sm float-end",onClick:()=>A(!C),children:"Search"})}),C&&(0,n.jsx)(j,{numbersData:i,onDataFromChild:e=>{v(e)},dispatch:M,token:F,accountSid:R,authToken:_}),(0,n.jsx)("div",{className:"contact-body",children:(0,n.jsx)("div",{"data-simplebar":!0,className:"nicescroll-bar",children:(0,n.jsx)(m,{contactsData:t,onToggleEdit:e=>{k(e)},numberPricing:"tollFree"===u?null===P||void 0===P?void 0:P.toll_free_number_price:null===P||void 0===P?void 0:P.local_number_price,isEdit:S,onDataFromChild:e=>{x(e)}})})})]}),(0,n.jsx)("div",{id:"bundle_modal",className:"modal fade add-new-contact",tabIndex:"-1",role:"dialog","aria-hidden":"true",children:(0,n.jsx)("div",{className:"modal-dialog modal-dialog-centered modal-lg",role:"document",children:(0,n.jsxs)("div",{className:"modal-content",children:[(0,n.jsxs)("div",{className:"modal-header bg-primary",children:[(0,n.jsx)("span",{style:{color:"white",fontWeight:"bold"},children:"Create Regulatory Bundle"}),(0,n.jsx)("button",{type:"button",className:"btn-close btn-light","data-bs-dismiss":"modal","aria-label":"Close",children:(0,n.jsx)("span",{"aria-hidden":"true",children:"\xd7"})})]}),(0,n.jsx)("div",{className:"modal-body",children:"Yoo"})]})})})]})})}),(0,n.jsx)(g.A,{afterPayment:async()=>{var e;const a={headers:{"Content-Type":"multipart/form-data","x-access-token":F}},l=await y.A.post("".concat("https://desktopcrm.com:51/v1","/user/calling/claim-phone-number"),{subAccountSid:R,subAuthToken:_,phoneNumber:b,addressSid:null===E||void 0===E?void 0:E.addressSid,user_id:null===E||void 0===E?void 0:E.id},a);l&&N.oR.success(null===l||void 0===l||null===(e=l.data)||void 0===e?void 0:e.message)}})]})},k=()=>(0,n.jsx)(t.A,{component:(0,n.jsx)(S,{})})}}]);
//# sourceMappingURL=4525.1b9dec20.chunk.js.map