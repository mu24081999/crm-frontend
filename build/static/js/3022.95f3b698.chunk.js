"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[3022],{63022:(s,e,i)=>{i.r(e),i.d(e,{default:()=>f});var l=i(72791),a=i(34855),n=i(12202),d=i(29750),c=i(51909),t=i(91765),o=i(80184);const r=s=>{let{onSendData:e,contactsData:i,onToggleEdit:a,subscriptions:r}=s;const[h,v]=(0,l.useState)("all"),{handleToggleShowLeadDetail:x}=(0,l.useContext)(d.J);return(0,o.jsxs)("nav",{className:"contactapp-sidebar",children:[(0,o.jsx)("div",{"data-simplebar":!0,className:"nicescroll-bar",children:(0,o.jsx)("div",{className:"menu-content-wrap",children:(0,o.jsx)("div",{className:"menu-group p-1",children:(0,o.jsxs)("ul",{className:"nav nav-light navbar-nav flex-column",children:[(0,o.jsx)("li",{id:"all_contacts",className:"nav-item ".concat("all"===h?"active":""),children:(0,o.jsxs)("button",{onClick:()=>{const s=r;v("all"),x(!1),e(s)},className:"nav-link btn-block",children:[(0,o.jsx)("span",{className:"nav-icon-wrap",children:(0,o.jsx)("span",{className:"feather-icon",children:(0,o.jsx)(c.bHX,{})})}),(0,o.jsx)("span",{className:"nav-link-text",children:"All Subscriptions"})]})}),(0,o.jsx)("li",{className:"nav-item ".concat("delayed"===h?"active":""),children:(0,o.jsxs)("button",{className:"nav-link btn-block",onClick:()=>{const s=null===r||void 0===r?void 0:r.filter((s=>"delayed"===s.status));v("delayed"),x(!1),e(s)},children:[(0,o.jsx)("span",{className:"nav-icon-wrap",children:(0,o.jsx)("span",{className:"feather-icon",children:(0,o.jsx)(t.U12,{})})}),(0,o.jsx)("span",{className:"nav-link-text",children:"Delayed"})]})}),(0,o.jsx)("li",{className:"nav-item ".concat("subscription-required"===h?"active":""),children:(0,o.jsxs)("button",{className:"nav-link btn-block",onClick:()=>{const s=null===r||void 0===r?void 0:r.filter((s=>"subscription-required"===s.status));v("subscription-required"),x(!1),e(s)},children:[(0,o.jsx)("span",{className:"nav-icon-wrap",children:(0,o.jsx)("span",{className:"feather-icon",children:(0,o.jsx)(c.BQw,{})})}),(0,o.jsx)("span",{className:"nav-link-text",children:"Subscription Required"})]})}),(0,o.jsx)("li",{className:"nav-item ".concat("active"===h?"active":""),children:(0,o.jsxs)("button",{id:"deleted_contacts",onClick:()=>{const s=r.filter((s=>1===s.active));v("active"),e(s),x(!1),a(!1)},className:"nav-link btn-block",children:[(0,o.jsx)("span",{className:"nav-icon-wrap",children:(0,o.jsx)("span",{className:"feather-icon",children:(0,o.jsx)(n.l_A,{})})}),(0,o.jsx)("span",{className:"nav-link-text",children:"Active"})]})})]})})})}),(0,o.jsx)("div",{className:"contactapp-fixednav",children:(0,o.jsx)("div",{className:"hk-toolbar"})})]})},h=s=>{let{onDataFromChild:e,activeBar:i}=s;return(0,o.jsxs)("header",{className:"contact-header",children:[(0,o.jsx)("div",{className:"d-flex align-items-center",children:(0,o.jsx)("span",{className:"fs-5 fw-bold",children:"KYC List"})}),(0,o.jsxs)("div",{className:"contact-options-wrap",children:[(0,o.jsx)("a",{className:"btn btn-icon btn-flush-dark flush-soft-hover dropdown-toggle no-caret active","data-bs-toggle":"dropdown",children:(0,o.jsx)("span",{className:"icon",children:(0,o.jsx)("span",{className:"feather-icon",children:(0,o.jsx)(n.AeW,{})})})}),(0,o.jsxs)("div",{className:"dropdown-menu dropdown-menu-end",children:[(0,o.jsxs)("a",{className:"dropdown-item ".concat("list"===i?"active":""),onClick:()=>e("list"),children:[(0,o.jsx)("span",{className:"feather-icon dropdown-icon",children:(0,o.jsx)(n.AeW,{})}),(0,o.jsx)("span",{children:"List View"})]}),(0,o.jsxs)("a",{className:"dropdown-item ".concat("grid"===i?"active":""),onClick:()=>e("grid"),children:[(0,o.jsx)("span",{className:"feather-icon dropdown-icon",children:(0,o.jsx)(n.Qan,{})}),(0,o.jsx)("span",{children:"Grid View"})]})]}),(0,o.jsx)("a",{className:"btn btn-icon btn-flush-dark btn-rounded flush-soft-hover no-caret d-sm-inline-block d-none","data-bs-toggle":"tooltip","data-placement":"top",title:"","data-bs-original-title":"Refresh",children:(0,o.jsx)("span",{className:"icon",children:(0,o.jsx)("span",{className:"feather-icon",children:(0,o.jsx)(n.D_Y,{})})})}),(0,o.jsx)("div",{className:"v-separator d-lg-block d-none"}),(0,o.jsx)("a",{className:"btn btn-icon btn-flush-dark btn-rounded flush-soft-hover hk-navbar-togglable d-sm-inline-block d-none","data-bs-toggle":"tooltip","data-placement":"top",title:"","data-bs-original-title":"Collapse",children:(0,o.jsxs)("span",{className:"icon",children:[(0,o.jsx)("span",{className:"feather-icon",children:(0,o.jsx)(n.s$2,{})}),(0,o.jsx)("span",{className:"feather-icon d-none",children:(0,o.jsx)(n.RiI,{})})]})})]}),(0,o.jsx)("div",{className:"hk-sidebar-togglable"})]})};var v=i(22316),x=i(72426),m=i.n(x),j=i(2731);const p=s=>{let{kycArray:e,dispatch:i,isEdit:l,users:a,isLoading:d,token:c}=s;return(0,o.jsx)("div",{className:"contact-list-view",children:!l&&(0,o.jsx)(o.Fragment,{children:d?(0,o.jsx)(v.Z,{}):(0,o.jsxs)("table",{className:"table w-100 mb-5",children:[(0,o.jsx)("thead",{children:(0,o.jsxs)("tr",{children:[(0,o.jsx)("th",{children:"Customer"}),(0,o.jsx)("th",{children:"Email"}),(0,o.jsx)("th",{children:"Phone Number"}),(0,o.jsx)("th",{children:"Address"}),(0,o.jsx)("th",{children:"Nationality"}),(0,o.jsx)("th",{children:"Approved"}),(0,o.jsx)("th",{children:"Date Created"}),(0,o.jsx)("th",{children:"Action"})]})}),(0,o.jsx)("tbody",{children:(null===e||void 0===e?void 0:e.length)>0&&(null===e||void 0===e?void 0:e.map((s=>(0,o.jsxs)("tr",{children:[(0,o.jsx)("td",{children:(null===s||void 0===s?void 0:s.firstname)+" "+(null===s||void 0===s?void 0:s.lastname)}),(0,o.jsx)("td",{children:null===s||void 0===s?void 0:s.email}),(0,o.jsx)("td",{children:null===s||void 0===s?void 0:s.phone}),(0,o.jsx)("td",{children:null===s||void 0===s?void 0:s.address}),(0,o.jsx)("td",{children:null===s||void 0===s?void 0:s.nationality}),(0,o.jsx)("td",{children:0===(null===s||void 0===s?void 0:s.is_approved)?"false":"true"}),(0,o.jsx)("td",{children:m()(null===s||void 0===s?void 0:s.created_at).format("DD MMM, YYYY")}),(0,o.jsx)("td",{children:(0,o.jsx)("a",{"data-bs-toggle":"modal","data-bs-target":"#kyc_form_detail",className:"btn btn-primary btn-icon btn-sm",onClick:()=>(s=>{i((0,j.tn)(c,null===s||void 0===s?void 0:s.id))})(s),children:(0,o.jsx)(n.dSq,{})})})]}))))})]})})})};var u=i(94420),b=i(98911);const N=()=>{const{showLeadDetails:s}=(0,l.useContext)(d.J),e=(0,u.I0)(),{token:i,user:a}=(0,u.v9)((s=>s.auth)),[n,c]=(0,l.useState)([]),[t,x]=(0,l.useState)([]),[m,N]=(0,l.useState)(!1),[f,y]=(0,l.useState)("list"),{kycs:w,isLoading:k,kycDetails:g}=(0,u.v9)((s=>s.kyc)),{users:C}=(0,u.v9)((s=>s.user));(0,l.useEffect)((()=>{if((null===w||void 0===w?void 0:w.length)>0){const s=[];null===w||void 0===w||w.map((e=>{const i=null===C||void 0===C?void 0:C.filter((s=>s.id===(null===e||void 0===e?void 0:e.customer_id)))[0],l={...e,customer_details:i};return null===s||void 0===s?void 0:s.push(l)})),c(w),x(w)}}),[w,C]),(0,l.useEffect)((()=>{e((0,b.Rf)(i)),e((0,j.rs)(i))}),[i,e]);const _=s=>{},D=(s,l)=>{e((0,j.LR)(i,s,{is_approved:l,approved_by:a.id}))};return(0,o.jsx)("div",{className:"hk-pg-wrapper pb-0",children:(0,o.jsx)("div",{className:"hk-pg-body py-0",children:(0,o.jsx)("div",{className:"contactapp-wrap",children:(0,o.jsxs)("div",{className:"contactapp-content",children:[(0,o.jsx)(r,{onSendData:s=>{c(s)},onToggleEdit:_,subscriptions:t}),!s&&(0,o.jsxs)("div",{className:"contactapp-detail-wrap",children:[(0,o.jsx)(h,{onDataFromChild:s=>{y(s)},activeBar:f}),(0,o.jsx)("div",{className:"contact-body",children:(0,o.jsx)("div",{className:"nicescroll-bar",children:(0,o.jsx)(p,{dispatch:e,token:i,kycArray:n,users:C,isLoading:k,onToggleEdit:_,isEdit:m})})})]}),(0,o.jsx)("div",{id:"kyc_form_detail",className:"modal fade add-new-contact",tabIndex:"-1",role:"dialog","aria-hidden":"true",children:(0,o.jsx)("div",{className:"modal-dialog modal-dialog-top modal-md",role:"document",children:(0,o.jsxs)("div",{className:"modal-content",children:[(0,o.jsxs)("div",{className:"modal-header bg-primary",children:[(0,o.jsx)("span",{style:{color:"white",fontWeight:"bold"},children:"Kyc Form Detials"}),(0,o.jsx)("button",{type:"button",className:"btn-close btn-light","data-bs-dismiss":"modal","aria-label":"Close",children:(0,o.jsx)("span",{"aria-hidden":"true",children:"\xd7"})})]}),(0,o.jsxs)("div",{className:"modal-body",children:[k?(0,o.jsx)(v.Z,{}):(0,o.jsx)("div",{children:(null===g||void 0===g?void 0:g.id)&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)("section",{children:[(0,o.jsx)("div",{className:"rounded-4 px-3 py-2 text-primary fw-bold",style:{backgroundColor:"#00808038"},children:"Personal Details"}),(0,o.jsx)("div",{className:"p-3",children:(0,o.jsxs)("div",{className:"px-2",children:[(0,o.jsxs)("div",{className:"d-flex justify-content-between",children:[(0,o.jsx)("div",{className:"fw-bold",children:"Firstname:"}),(0,o.jsx)("div",{children:null===g||void 0===g?void 0:g.firstname})]}),(0,o.jsxs)("div",{className:"d-flex justify-content-between",children:[(0,o.jsx)("div",{className:"fw-bold",children:"Lastname:"}),(0,o.jsx)("div",{children:null===g||void 0===g?void 0:g.lastname})]}),(0,o.jsxs)("div",{className:"d-flex justify-content-between",children:[(0,o.jsx)("div",{className:"fw-bold",children:"Email Address:"}),(0,o.jsx)("div",{children:null===g||void 0===g?void 0:g.email})]}),(0,o.jsxs)("div",{className:"d-flex justify-content-between",children:[(0,o.jsx)("div",{className:"fw-bold",children:"Phone Number:"}),(0,o.jsx)("div",{children:null===g||void 0===g?void 0:g.phone})]})]})})]}),(0,o.jsxs)("section",{children:[(0,o.jsx)("div",{className:"rounded-4 px-3 py-2 text-primary fw-bold",style:{backgroundColor:"#00808038"},children:"Address"}),(0,o.jsx)("div",{className:"p-3",children:(0,o.jsxs)("div",{className:"px-2",children:[(0,o.jsxs)("div",{className:"d-flex justify-content-between",children:[(0,o.jsx)("div",{className:"fw-bold",children:"Nationality:"}),(0,o.jsx)("div",{children:null===g||void 0===g?void 0:g.nationality})]}),(0,o.jsxs)("div",{className:"d-flex justify-content-between",children:[(0,o.jsx)("div",{className:"fw-bold",children:"State:"}),(0,o.jsx)("div",{children:null===g||void 0===g?void 0:g.state})]}),(0,o.jsxs)("div",{className:"d-flex justify-content-between",children:[(0,o.jsx)("div",{className:"fw-bold",children:"City:"}),(0,o.jsx)("div",{children:null===g||void 0===g?void 0:g.city})]}),(0,o.jsxs)("div",{className:"d-flex justify-content-between",children:[(0,o.jsx)("div",{className:"fw-bold",children:"Postal/Zip Code:"}),(0,o.jsx)("div",{children:null===g||void 0===g?void 0:g.zip_code})]})]})})]}),(0,o.jsxs)("section",{children:[(0,o.jsx)("div",{className:"rounded-4 px-3 py-2 text-primary fw-bold",style:{backgroundColor:"#00808038"},children:"Business Details"}),(0,o.jsx)("div",{className:"p-3",children:(0,o.jsxs)("div",{className:"px-2",children:[(0,o.jsxs)("div",{className:"",children:[(0,o.jsx)("div",{className:"fw-bold",children:"What type of business you own?"}),(0,o.jsx)("div",{children:null===g||void 0===g?void 0:g.company_type})]}),(0,o.jsxs)("div",{className:"",children:[(0,o.jsx)("div",{className:"fw-bold",children:"What does your company do?"}),(0,o.jsx)("div",{children:null===g||void 0===g?void 0:g.company_do})]}),(0,o.jsxs)("div",{className:"",children:[(0,o.jsx)("div",{className:"fw-bold",children:"What is the size of your company?"}),(0,o.jsx)("div",{children:null===g||void 0===g?void 0:g.company_size})]}),(0,o.jsxs)("div",{className:"",children:[(0,o.jsx)("div",{className:"fw-bold",children:"Explain Your Business?"}),(0,o.jsx)("div",{children:null===g||void 0===g?void 0:g.company_details})]})]})})]}),(0,o.jsxs)("section",{children:[(0,o.jsx)("div",{className:"rounded-4 px-3 py-2 text-primary fw-bold",style:{backgroundColor:"#00808038"},children:"Declaration"}),(0,o.jsx)("div",{className:"p-3",children:(0,o.jsxs)("div",{className:"px-2",children:[(0,o.jsxs)("div",{className:"d-flex justify-content-between",children:[(0,o.jsx)("div",{className:"fw-bold",children:"Document Type"}),(0,o.jsx)("div",{children:null===g||void 0===g?void 0:g.document_type})]}),(0,o.jsxs)("div",{className:"d-flex justify-content-between",children:[(0,o.jsx)("div",{className:"fw-bold",children:"Policy Accepted"}),(0,o.jsx)("div",{children:1===(null===g||void 0===g?void 0:g.is_policy_accepted)?"true":"false"})]}),(0,o.jsx)("div",{className:"d-flex justify-content-center",children:(0,o.jsx)("img",{className:"rounded-3 border mt-5",src:null===g||void 0===g?void 0:g.document_url,alt:"id",width:200})})]})})]})]})}),0===(null===g||void 0===g?void 0:g.is_approved)?(0,o.jsx)("div",{className:"modal-footer",children:(0,o.jsx)("button",{className:"btn btn-primary btn-block",onClick:()=>D(null===g||void 0===g?void 0:g.id,1),children:"Approve"})}):(0,o.jsx)("div",{className:"modal-footer",children:(0,o.jsx)("button",{className:"btn btn-primary btn-block",onClick:()=>D(null===g||void 0===g?void 0:g.id,0),children:"Dis-Approve"})})]})]})})})]})})})})},f=()=>(0,o.jsx)(a.Z,{component:(0,o.jsx)(N,{})})}}]);
//# sourceMappingURL=3022.95f3b698.chunk.js.map